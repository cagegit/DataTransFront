!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=st.type(t);return"function"!==n&&!st.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(st.isFunction(e))return st.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return st.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ut.test(e))return st.filter(e,t,n);e=st.filter(e,t)}return st.grep(t,function(t){return st.inArray(t,e)>=0!==n})}function s(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e=gt[t]={};return st.each(t.match(mt)||[],function(t,n){e[n]=!0}),e}function r(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(ht.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(r(),st.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(wt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_t.test(n)?st.parseJSON(n):n)}catch(t){}st.data(t,e,n)}else n=void 0}return n}function u(t){var e;for(e in t)if(("data"!==e||!st.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(st.acceptData(t)){var s,o,r=st.expando,a=t.nodeType,l=a?st.cache:t,u=a?t[r]:t[r]&&r;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[r]=X.pop()||st.guid++:r),l[u]||(l[u]=a?{}:{toJSON:st.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[u]=st.extend(l[u],e):l[u].data=st.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[st.camelCase(e)]=n),"string"==typeof e?null==(s=o[e])&&(s=o[st.camelCase(e)]):s=o,s}}function h(t,e,n){if(st.acceptData(t)){var i,s,o=t.nodeType,r=o?st.cache:t,a=o?t[st.expando]:st.expando;if(r[a]){if(e&&(i=n?r[a]:r[a].data)){st.isArray(e)?e=e.concat(st.map(e,st.camelCase)):e in i?e=[e]:(e=st.camelCase(e),e=e in i?[e]:e.split(" ")),s=e.length;for(;s--;)delete i[e[s]];if(n?!u(i):!st.isEmptyObject(i))return}(n||(delete r[a].data,u(r[a])))&&(o?st.cleanData([t],!0):nt.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ht.activeElement}catch(t){}}function m(t){var e=Ot.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,i,s=0,o=typeof t.getElementsByTagName!==yt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==yt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[s]);s++)!e||st.nodeName(i,e)?o.push(i):st.merge(o,g(i,e));return void 0===e||e&&st.nodeName(t,e)?st.merge([t],o):o}function v(t){St.test(t.type)&&(t.defaultChecked=t.checked)}function b(t,e){return st.nodeName(t,"table")&&st.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==st.find.attr(t,"type"))+"/"+t.type,t}function _(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,i=0;null!=(n=t[i]);i++)st._data(n,"globalEval",!e||st._data(e[i],"globalEval"))}function x(t,e){if(1===e.nodeType&&st.hasData(t)){var n,i,s,o=st._data(t),r=st._data(e,o),a=o.events;if(a){delete r.handle,r.events={};for(n in a)for(i=0,s=a[n].length;s>i;i++)st.event.add(e,n,a[n][i])}r.data&&(r.data=st.extend({},r.data))}}function C(t,e){var n,i,s;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!nt.noCloneEvent&&e[st.expando]){s=st._data(e);for(i in s.events)st.removeEvent(e,i,s.handle);e.removeAttribute(st.expando)}"script"===n&&e.text!==t.text?(y(e).text=t.text,_(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),nt.html5Clone&&t.innerHTML&&!st.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&St.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function k(e,n){var i,s=st(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(s[0]))?i.display:st.css(s[0],"display");return s.detach(),o}function D(t){var e=ht,n=$t[t];return n||(n=k(t,e),"none"!==n&&n||(Vt=(Vt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Vt[0].contentWindow||Vt[0].contentDocument).document,e.write(),e.close(),n=k(t,e),Vt.detach()),$t[t]=n),n}function S(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,s=re.length;s--;)if((e=re[s]+n)in t)return e;return i}function P(t,e){for(var n,i,s,o=[],r=0,a=t.length;a>r;r++)i=t[r],i.style&&(o[r]=st._data(i,"olddisplay"),n=i.style.display,e?(o[r]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(o[r]=st._data(i,"olddisplay",D(i.nodeName)))):(s=kt(i),(n&&"none"!==n||!s)&&st._data(i,"olddisplay",s?n:st.css(i,"display"))));for(r=0;a>r;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[r]||"":"none"));return t}function T(t,e,n){var i=ne.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function N(t,e,n,i,s){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===n&&(r+=st.css(t,n+Ct[o],!0,s)),i?("content"===n&&(r-=st.css(t,"padding"+Ct[o],!0,s)),"margin"!==n&&(r-=st.css(t,"border"+Ct[o]+"Width",!0,s))):(r+=st.css(t,"padding"+Ct[o],!0,s),"padding"!==n&&(r+=st.css(t,"border"+Ct[o]+"Width",!0,s)));return r}function M(t,e,n){var i=!0,s="width"===e?t.offsetWidth:t.offsetHeight,o=Xt(t),r=nt.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,o);if(0>=s||null==s){if(s=Gt(t,e,o),(0>s||null==s)&&(s=t.style[e]),Jt.test(s))return s;i=r&&(nt.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+N(t,e,n||(r?"border":"content"),i,o)+"px"}function O(t,e,n,i,s){return new O.prototype.init(t,e,n,i,s)}function A(){return setTimeout(function(){ae=void 0}),ae=st.now()}function j(t,e){var n,i={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)n=Ct[s],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function I(t,e,n){for(var i,s=(pe[e]||[]).concat(pe["*"]),o=0,r=s.length;r>o;o++)if(i=s[o].call(n,e,t))return i}function F(t,e,n){var i,s,o,r,a,l,u,c=this,h={},d=t.style,p=t.nodeType&&kt(t),f=st._data(t,"fxshow");n.queue||(a=st._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,st.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=st.css(t,"display"),"inline"===("none"===u?st._data(t,"olddisplay")||D(t.nodeName):u)&&"none"===st.css(t,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(s=e[i],ue.exec(s)){if(delete e[i],o=o||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!f||void 0===f[i])continue;p=!0}h[i]=f&&f[i]||st.style(t,i)}else u=void 0;if(st.isEmptyObject(h))"inline"===("none"===u?D(t.nodeName):u)&&(d.display=u);else{f?"hidden"in f&&(p=f.hidden):f=st._data(t,"fxshow",{}),o&&(f.hidden=!p),p?st(t).show():c.done(function(){st(t).hide()}),c.done(function(){var e;st._removeData(t,"fxshow");for(e in h)st.style(t,e,h[e])});for(i in h)r=I(p?f[i]:0,i,c),i in f||(f[i]=r.start,p&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function L(t,e){var n,i,s,o,r;for(n in t)if(i=st.camelCase(n),s=e[i],o=t[n],st.isArray(o)&&(s=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(r=st.cssHooks[i])&&"expand"in r){o=r.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=s)}else e[i]=s}function W(t,e,n){var i,s,o=0,r=de.length,a=st.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=ae||A(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,r=0,l=u.tweens.length;l>r;r++)u.tweens[r].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:st.extend({},e),opts:st.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:ae||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=st.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(L(c,u.opts.specialEasing);r>o;o++)if(i=de[o].call(u,t,c,u.opts))return i;return st.map(c,I,u),st.isFunction(u.opts.start)&&u.opts.start.call(t,u),st.fx.timer(st.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,s=0,o=e.toLowerCase().match(mt)||[];if(st.isFunction(n))for(;i=o[s++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function R(t,e,n,i){function s(a){var l;return o[a]=!0,st.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||r||o[u]?r?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}var o={},r=t===Ae;return s(e.dataTypes[0])||!o["*"]&&s("*")}function z(t,e){var n,i,s=st.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&st.extend(!0,t,n),t}function Y(t,e,n){for(var i,s,o,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}i||(i=r)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(t,e,n,i){var s,o,r,a,l,u={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)u[r.toLowerCase()]=t.converters[r];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=u[l+" "+o]||u["* "+o]))for(s in u)if(a=s.split(" "),a[1]===o&&(r=u[l+" "+a[0]]||u["* "+a[0]])){!0===r?r=u[s]:!0!==u[s]&&(o=a[0],c.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function q(t,e,n,i){var s;if(st.isArray(e))st.each(e,function(e,s){n||Ie.test(t)?i(t,s):q(t+"["+("object"==typeof s?e:"")+"]",s,n,i)});else if(n||"object"!==st.type(e))i(t,e);else for(s in e)q(t+"["+s+"]",e[s],n,i)}function U(){try{return new t.XMLHttpRequest}catch(t){}}function V(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $(t){return st.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var X=[],G=X.slice,K=X.concat,J=X.push,Z=X.indexOf,Q={},tt=Q.toString,et=Q.hasOwnProperty,nt={},it="1.11.3",st=function(t,e){return new st.fn.init(t,e)},ot=function(t,e){return e.toUpperCase()};st.fn=st.prototype={jquery:it,constructor:st,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=st.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return st.each(this,t,e)},map:function(t){return this.pushStack(st.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:X.sort,splice:X.splice},st.extend=st.fn.extend=function(){var t,e,n,i,s,o,r=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[a]||{},a++),"object"==typeof r||st.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(s=arguments[a]))for(i in s)t=r[i],n=s[i],r!==n&&(u&&n&&(st.isPlainObject(n)||(e=st.isArray(n)))?(e?(e=!1,o=t&&st.isArray(t)?t:[]):o=t&&st.isPlainObject(t)?t:{},r[i]=st.extend(u,o,n)):void 0!==n&&(r[i]=n));return r},st.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===st.type(t)},isArray:Array.isArray||function(t){return"array"===st.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!st.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==st.type(t)||t.nodeType||st.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(nt.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&st.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,ot)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var s=0,o=t.length,r=n(t);if(i){if(r)for(;o>s&&!1!==e.apply(t[s],i);s++);else for(s in t)if(!1===e.apply(t[s],i))break}else if(r)for(;o>s&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?st.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Z)return Z.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,s=t.length;n>i;)t[s++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[s++]=e[i++];return t.length=s,t},grep:function(t,e,n){for(var i=[],s=0,o=t.length,r=!n;o>s;s++)!e(t[s],s)!==r&&i.push(t[s]);return i},map:function(t,e,i){var s,o=0,r=t.length,a=n(t),l=[];if(a)for(;r>o;o++)null!=(s=e(t[o],o,i))&&l.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&l.push(s);return K.apply([],l)},guid:1,proxy:function(t,e){var n,i,s;return"string"==typeof e&&(s=t[e],e=t,t=s),st.isFunction(t)?(n=G.call(arguments,2),i=function(){return t.apply(e||this,n.concat(G.call(arguments)))},i.guid=t.guid=t.guid||st.guid++,i):void 0},now:function(){return+new Date},support:nt}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,n,i){var s,o,r,a,u,h,d,p,f,m;if((e?e.ownerDocument||e:W)!==N&&T(e),e=e||N,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&O){if(11!==a&&(s=gt.exec(t)))if(r=s[1]){if(9===a){if(!(o=e.getElementById(r))||!o.parentNode)return n;if(o.id===r)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&F(e,o)&&o.id===r)return n.push(o),n}else{if(s[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=s[3])&&y.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(y.qsa&&(!A||!A.test(t))){if(p=d=L,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=C(t),(d=e.getAttribute("id"))?p=d.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=h.length;u--;)h[u]=p+c(h[u]);f=vt.test(t)&&l(e.parentNode)||e,m=h.join(",")}if(m)try{return K.apply(n,f.querySelectorAll(m)),n}catch(t){}finally{d||e.removeAttribute("id")}}}return D(t.replace(rt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[L]=!0,t}function s(t){var e=N.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function r(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return i(function(e){return e=+e,i(function(n,i){for(var s,o=t([],n.length,e),r=o.length;r--;)n[s=o[r]]&&(n[s]=!(i[s]=n[s]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,s=n&&"parentNode"===i,o=R++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,o)}:function(e,n,r){var a,l,u=[H,o];if(r){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||s){if(l=e[L]||(e[L]={}),(a=l[i])&&a[0]===H&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,r))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var s=t.length;s--;)if(!t[s](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var s=0,o=n.length;o>s;s++)e(t,n[s],i);return i}function f(t,e,n,i,s){for(var o,r=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,s))&&(r.push(o),u&&e.push(a));return r}function m(t,e,n,s,o,r){return s&&!s[L]&&(s=m(s)),o&&!o[L]&&(o=m(o,r)),i(function(i,r,a,l){var u,c,h,d=[],m=[],g=r.length,v=i||p(e||"*",a.nodeType?[a]:a,[]),b=!t||!i&&e?v:f(v,d,t,a,l),y=n?o||(i?t:g||s)?[]:r:b;if(n&&n(b,y,a,l),s)for(u=f(y,m),s(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[m[c]]=!(b[m[c]]=h));if(i){if(o||t){if(o){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(b[c]=h);o(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=o?Z(i,h):d[c])>-1&&(i[u]=!(r[u]=h))}}else y=f(y===r?y.splice(g,y.length):y),o?o(null,r,y,l):K.apply(r,y)})}function g(t){for(var e,n,i,s=t.length,o=_.relative[t[0].type],r=o||_.relative[" "],a=o?1:0,l=h(function(t){return t===e},r,!0),u=h(function(t){return Z(e,t)>-1},r,!0),p=[function(t,n,i){var s=!o&&(i||n!==S)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,s}];s>a;a++)if(n=_.relative[t[a].type])p=[h(d(p),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[L]){for(i=++a;s>i&&!_.relative[t[i].type];i++);return m(a>1&&d(p),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(rt,"$1"),n,i>a&&g(t.slice(a,i)),s>i&&g(t=t.slice(i)),s>i&&c(t))}p.push(n)}return d(p)}function v(t,n){var s=n.length>0,o=t.length>0,r=function(i,r,a,l,u){var c,h,d,p=0,m="0",g=i&&[],v=[],b=S,y=i||o&&_.find.TAG("*",u),w=H+=null==b?1:Math.random()||.1,x=y.length;for(u&&(S=r!==N&&r);m!==x&&null!=(c=y[m]);m++){if(o&&c){for(h=0;d=t[h++];)if(d(c,r,a)){l.push(c);break}u&&(H=w)}s&&((c=!d&&c)&&p--,i&&g.push(c))}if(p+=m,s&&m!==p){for(h=0;d=n[h++];)d(g,v,r,a);if(i){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=f(v)}K.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(H=w,S=b),g};return s?i(r):r}var b,y,_,w,x,C,k,D,S,E,P,T,N,M,O,A,j,I,F,L="sizzle"+1*new Date,W=t.document,H=0,R=0,z=n(),Y=n(),B=n(),q=function(t,e){return t===e&&(P=!0),0},U=1<<31,V={}.hasOwnProperty,$=[],X=$.pop,G=$.push,K=$.push,J=$.slice,Z=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+tt+"*\\]",st=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(st),ht=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,bt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){T()};try{K.apply($=J.call(W.childNodes),W.childNodes),$[W.childNodes.length].nodeType}catch(t){K={apply:$.length?function(t,e){G.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}y=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},T=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,M=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),O=!x(i),y.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=mt.test(i.getElementsByClassName),y.getById=s(function(t){return M.appendChild(t).id=L,!i.getElementsByName||!i.getElementsByName(L).length}),y.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(yt,_t);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(yt,_t);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=y.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[s++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=y.getElementsByClassName&&function(t,e){return O?e.getElementsByClassName(t):void 0},j=[],A=[],(y.qsa=mt.test(i.querySelectorAll))&&(s(function(t){M.appendChild(t).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&A.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||A.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+L+"-]").length||A.push("~="),t.querySelectorAll(":checked").length||A.push(":checked"),t.querySelectorAll("a#"+L+"+*").length||A.push(".#.+[+~]")}),s(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&A.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),A.push(",.*:")})),(y.matchesSelector=mt.test(I=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&s(function(t){y.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),j.push("!=",st)}),A=A.length&&new RegExp(A.join("|")),j=j.length&&new RegExp(j.join("|")),e=mt.test(M.compareDocumentPosition),F=e||mt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===W&&F(W,t)?-1:e===i||e.ownerDocument===W&&F(W,e)?1:E?Z(E,t)-Z(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,s=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:E?Z(E,t)-Z(E,e):0;if(o===a)return r(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[s]===u[s];)s++;return s?r(l[s],u[s]):l[s]===W?-1:u[s]===W?1:0},i):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&T(t),n=n.replace(ut,"='$1']"),!(!y.matchesSelector||!O||j&&j.test(n)||A&&A.test(n)))try{var i=I.call(t,n);if(i||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&T(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&T(t);var n=_.attrHandle[e.toLowerCase()],i=n&&V.call(_.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==i?i:y.attributes||!O?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,s=0;if(P=!y.detectDuplicates,E=!y.sortStable&&t.slice(0),t.sort(q),P){for(;e=t[s++];)e===t[s]&&(i=n.push(s));for(;i--;)t.splice(n[i],1)}return E=null,t},w=e.getText=function(t){var e,n="",i=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[i++];)n+=w(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(s){var o=e.attr(s,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,s){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===s?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,p,f,m=o!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(c=g[L]||(g[L]={}),u=c[t]||[],p=u[0]===H&&u[1],d=u[0]===H&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[H,p,d];break}}else if(b&&(u=(e[L]||(e[L]={}))[t])&&u[0]===H)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[L]||(h[L]={}))[t]=[H,d]),h!==e)););return(d-=s)===i||d%i==0&&d/i>=0}}},PSEUDO:function(t,n){var s,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[L]?o(n):o.length>1?(s=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,s=o(t,n),r=s.length;r--;)i=Z(t,s[r]),t[i]=!(e[i]=s[r])}):function(t){return o(t,0,s)}):o}},pseudos:{not:i(function(t){var e=[],n=[],s=k(t.replace(rt,"$1"));return s[L]?i(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,s(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(yt,_t),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,_t).toLowerCase(),function(e){var n;do{if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[0>n?n+e:n]}),even:a(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,C=e.tokenize=function(t,n){var i,s,o,r,a,l,u,c=Y[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=_.preFilter;a;){(!i||(s=at.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),i=!1,(s=lt.exec(a))&&(i=s.shift(),o.push({value:i,type:s[0].replace(rt," ")}),a=a.slice(i.length));for(r in _.filter)!(s=dt[r].exec(a))||u[r]&&!(s=u[r](s))||(i=s.shift(),o.push({value:i,type:r,matches:s}),a=a.slice(i.length));if(!i)break}
return n?a.length:a?e.error(t):Y(t,l).slice(0)},k=e.compile=function(t,e){var n,i=[],s=[],o=B[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=g(e[n]),o[L]?i.push(o):s.push(o);o=B(t,v(s,i)),o.selector=t}return o},D=e.select=function(t,e,n,i){var s,o,r,a,u,h="function"==typeof t&&t,d=!i&&C(t=h.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&y.getById&&9===e.nodeType&&O&&_.relative[o[1].type]){if(!(e=(_.find.ID(r.matches[0].replace(yt,_t),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=dt.needsContext.test(t)?0:o.length;s--&&(r=o[s],!_.relative[a=r.type]);)if((u=_.find[a])&&(i=u(r.matches[0].replace(yt,_t),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(s,1),!(t=i.length&&c(o)))return K.apply(n,i),n;break}}return(h||k(t,d))(i,e,!O,n,vt.test(t)&&l(e.parentNode)||e),n},y.sortStable=L.split("").sort(q).join("")===L,y.detectDuplicates=!!P,T(),y.sortDetached=s(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(Q,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);st.find=rt,st.expr=rt.selectors,st.expr[":"]=st.expr.pseudos,st.unique=rt.uniqueSort,st.text=rt.getText,st.isXMLDoc=rt.isXML,st.contains=rt.contains;var at=st.expr.match.needsContext,lt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ut=/^.[^:#\[\.,]*$/;st.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?st.find.matchesSelector(i,t)?[i]:[]:st.find.matches(t,st.grep(e,function(t){return 1===t.nodeType}))},st.fn.extend({find:function(t){var e,n=[],i=this,s=i.length;if("string"!=typeof t)return this.pushStack(st(t).filter(function(){for(e=0;s>e;e++)if(st.contains(i[e],this))return!0}));for(e=0;s>e;e++)st.find(t,i[e],n);return n=this.pushStack(s>1?st.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&at.test(t)?st(t):t||[],!1).length}});var ct,ht=t.document,dt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(st.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:dt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ct).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof st?e[0]:e,st.merge(this,st.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ht,!0)),lt.test(n[1])&&st.isPlainObject(e))for(n in e)st.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=ht.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ct.find(t);this.length=1,this[0]=i}return this.context=ht,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):st.isFunction(t)?void 0!==ct.ready?ct.ready(t):t(st):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),st.makeArray(t,this))}).prototype=st.fn,ct=st(ht);var pt=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(t,e,n){for(var i=[],s=t[e];s&&9!==s.nodeType&&(void 0===n||1!==s.nodeType||!st(s).is(n));)1===s.nodeType&&i.push(s),s=s[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),st.fn.extend({has:function(t){var e,n=st(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(st.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,s=this.length,o=[],r=at.test(t)||"string"!=typeof t?st(t,e||this.context):0;s>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&st.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?st.unique(o):o)},index:function(t){return t?"string"==typeof t?st.inArray(this[0],st(t)):st.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(st.unique(st.merge(this.get(),st(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),st.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return st.dir(t,"parentNode")},parentsUntil:function(t,e,n){return st.dir(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return st.dir(t,"nextSibling")},prevAll:function(t){return st.dir(t,"previousSibling")},nextUntil:function(t,e,n){return st.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return st.dir(t,"previousSibling",n)},siblings:function(t){return st.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return st.sibling(t.firstChild)},contents:function(t){return st.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:st.merge([],t.childNodes)}},function(t,e){st.fn[t]=function(n,i){var s=st.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=st.filter(i,s)),this.length>1&&(ft[t]||(s=st.unique(s)),pt.test(t)&&(s=s.reverse())),this.pushStack(s)}});var mt=/\S+/g,gt={};st.Callbacks=function(t){t="string"==typeof t?gt[t]||o(t):st.extend({},t);var e,n,i,s,r,a,l=[],u=!t.once&&[],c=function(o){for(n=t.memory&&o,i=!0,r=a||0,a=0,s=l.length,e=!0;l&&s>r;r++)if(!1===l[r].apply(o[0],o[1])&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function e(n){st.each(n,function(n,i){var s=st.type(i);"function"===s?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==s&&e(i)})}(arguments),e?s=l.length:n&&(a=i,c(n))}return this},remove:function(){return l&&st.each(arguments,function(t,n){for(var i;(i=st.inArray(n,l,i))>-1;)l.splice(i,1),e&&(s>=i&&s--,r>=i&&r--)}),this},has:function(t){return t?st.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||h.disable(),this},locked:function(){return!u},fireWith:function(t,n){return!l||i&&!u||(n=n||[],n=[t,n.slice?n.slice():n],e?u.push(n):c(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},st.extend({Deferred:function(t){var e=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return st.Deferred(function(n){st.each(e,function(e,o){var r=st.isFunction(t[e])&&t[e];s[o[1]](function(){var t=r&&r.apply(this,arguments);t&&st.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?st.extend(t,i):i}},s={};return i.pipe=i.then,st.each(e,function(t,o){var r=o[2],a=o[3];i[o[1]]=r.add,a&&r.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?i:this,arguments),this},s[o[0]+"With"]=r.fireWith}),i.promise(s),t&&t.call(s,s),s},when:function(t){var e,n,i,s=0,o=G.call(arguments),r=o.length,a=1!==r||t&&st.isFunction(t.promise)?r:0,l=1===a?t:st.Deferred(),u=function(t,n,i){return function(s){n[t]=this,i[t]=arguments.length>1?G.call(arguments):s,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(r>1)for(e=new Array(r),n=new Array(r),i=new Array(r);r>s;s++)o[s]&&st.isFunction(o[s].promise)?o[s].promise().done(u(s,i,o)).fail(l.reject).progress(u(s,n,e)):--a;return a||l.resolveWith(i,o),l.promise()}});var vt;st.fn.ready=function(t){return st.ready.promise().done(t),this},st.extend({isReady:!1,readyWait:1,holdReady:function(t){t?st.readyWait++:st.ready(!0)},ready:function(t){if(!0===t?!--st.readyWait:!st.isReady){if(!ht.body)return setTimeout(st.ready);st.isReady=!0,!0!==t&&--st.readyWait>0||(vt.resolveWith(ht,[st]),st.fn.triggerHandler&&(st(ht).triggerHandler("ready"),st(ht).off("ready")))}}}),st.ready.promise=function(e){if(!vt)if(vt=st.Deferred(),"complete"===ht.readyState)setTimeout(st.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{ht.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ht.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!st.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}r(),st.ready()}}()}return vt.promise(e)};var bt,yt="undefined";for(bt in st(nt))break;nt.ownLast="0"!==bt,nt.inlineBlockNeedsLayout=!1,st(function(){var t,e,n,i;(n=ht.getElementsByTagName("body")[0])&&n.style&&(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==yt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(t){nt.deleteExpando=!1}}t=null}(),st.acceptData=function(t){var e=st.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?st.cache[t[st.expando]]:t[st.expando])&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),st.fn.extend({data:function(t,e){var n,i,s,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(s=st.data(o),1===o.nodeType&&!st._data(o,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=st.camelCase(i.slice(5)),l(o,i,s[i])));st._data(o,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){st.data(this,t)}):arguments.length>1?this.each(function(){st.data(this,t,e)}):o?l(o,t,st.data(o,t)):void 0},removeData:function(t){return this.each(function(){st.removeData(this,t)})}}),st.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=st._data(t,e),n&&(!i||st.isArray(n)?i=st._data(t,e,st.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=st.queue(t,e),i=n.length,s=n.shift(),o=st._queueHooks(t,e),r=function(){st.dequeue(t,e)};"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===e&&n.unshift("inprogress"),delete o.stop,s.call(t,r,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return st._data(t,n)||st._data(t,n,{empty:st.Callbacks("once memory").add(function(){st._removeData(t,e+"queue"),st._removeData(t,n)})})}}),st.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?st.queue(this[0],t):void 0===e?this:this.each(function(){var n=st.queue(this,t,e);st._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&st.dequeue(this,t)})},dequeue:function(t){return this.each(function(){st.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,s=st.Deferred(),o=this,r=this.length,a=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)(n=st._data(o[r],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),s.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===st.css(t,"display")||!st.contains(t.ownerDocument,t)},Dt=st.access=function(t,e,n,i,s,o,r){var a=0,l=t.length,u=null==n;if("object"===st.type(n)){s=!0;for(a in n)st.access(t,e,a,n[a],!0,o,r)}else if(void 0!==i&&(s=!0,st.isFunction(i)||(r=!0),u&&(r?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(st(t),n)})),e))for(;l>a;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return s?t:u?e.call(t):l?e(t[0],n):o},St=/^(?:checkbox|radio)$/i;!function(){var t=ht.createElement("input"),e=ht.createElement("div"),n=ht.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===e.firstChild.nodeType,nt.tbody=!e.getElementsByTagName("tbody").length,nt.htmlSerialize=!!e.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),nt.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){nt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}}(),function(){var e,n,i=ht.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(nt[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),nt[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Et=/^(?:input|select|textarea)$/i,Pt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(t,e,n,i,s){var o,r,a,l,u,c,h,d,p,f,m,g=st._data(t);if(g){for(n.handler&&(l=n,n=l.handler,s=l.selector),n.guid||(n.guid=st.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||(c=g.handle=function(t){return typeof st===yt||t&&st.event.triggered===t.type?void 0:st.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(mt)||[""],a=e.length;a--;)o=Mt.exec(e[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(u=st.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=st.event.special[p]||{},h=st.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&st.expr.match.needsContext.test(s),namespace:f.join(".")},l),(d=r[p])||(d=r[p]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,c)||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),st.event.global[p]=!0);t=null}},remove:function(t,e,n,i,s){var o,r,a,l,u,c,h,d,p,f,m,g=st.hasData(t)&&st._data(t);if(g&&(c=g.events)){for(e=(e||"").match(mt)||[""],u=e.length;u--;)if(a=Mt.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=st.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!s&&m!==r.origType||n&&n.guid!==r.guid||a&&!a.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(t,r));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||st.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)st.event.remove(t,p+e[u],n,i,!0);st.isEmptyObject(c)&&(delete g.handle,st._removeData(t,"events"))}},trigger:function(e,n,i,s){var o,r,a,l,u,c,h,d=[i||ht],p=et.call(e,"type")?e.type:e,f=et.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||ht,3!==i.nodeType&&8!==i.nodeType&&!Nt.test(p+st.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),r=p.indexOf(":")<0&&"on"+p,e=e[st.expando]?e:new st.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:st.makeArray(n,[e]),u=st.event.special[p]||{},s||!u.trigger||!1!==u.trigger.apply(i,n))){if(!s&&!u.noBubble&&!st.isWindow(i)){for(l=u.delegateType||p,Nt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(i.ownerDocument||ht)&&d.push(c.defaultView||c.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:u.bindType||p,o=(st._data(a,"events")||{})[e.type]&&st._data(a,"handle"),o&&o.apply(a,n),(o=r&&a[r])&&o.apply&&st.acceptData(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=p,!s&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(d.pop(),n))&&st.acceptData(i)&&r&&i[p]&&!st.isWindow(i)){c=i[r],c&&(i[r]=null),st.event.triggered=p;try{i[p]()}catch(t){}st.event.triggered=void 0,c&&(i[r]=c)}return e.result}},dispatch:function(t){t=st.event.fix(t);var e,n,i,s,o,r=[],a=G.call(arguments),l=(st._data(this,"events")||{})[t.type]||[],u=st.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(r=st.event.handlers.call(this,t,l),e=0;(s=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,o=0;(i=s.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,void 0!==(n=((st.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,s,o,r=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(s=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===s[n]&&(s[n]=i.needsContext?st(n,this).index(l)>=0:st.find(n,this,null,[l]).length),s[n]&&s.push(i);s.length&&r.push({elem:l,handlers:s})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},fix:function(t){if(t[st.expando])return t;var e,n,i,s=t.type,o=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Tt.test(s)?this.mouseHooks:Pt.test(s)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new st.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||ht),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,s,o=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ht,s=i.documentElement,n=i.body,t.pageX=e.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return st.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var s=st.extend(new st.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?st.event.trigger(s,null,e):st.event.dispatch.call(e,s),s.isDefaultPrevented()&&n.preventDefault()}},st.removeEvent=ht.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===yt&&(t[i]=null),t.detachEvent(i,n))},st.Event=function(t,e){return this instanceof st.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?d:p):this.type=t,e&&st.extend(this,e),this.timeStamp=t&&t.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(t,e)},st.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){st.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==i&&!st.contains(i,s))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),nt.submitBubbles||(st.event.special.submit={setup:function(){return!st.nodeName(this,"form")&&void st.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=st.nodeName(e,"input")||st.nodeName(e,"button")?e.form:void 0;n&&!st._data(n,"submitBubbles")&&(st.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),st._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&st.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!st.nodeName(this,"form")&&void st.event.remove(this,"._submit")}}),nt.changeBubbles||(st.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,t,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(t){var e=t.target;Et.test(e.nodeName)&&!st._data(e,"changeBubbles")&&(st.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||st.event.simulate("change",this.parentNode,t,!0)}),st._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Et.test(this.nodeName)}}),nt.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){st.event.simulate(e,t.target,st.event.fix(t),!0)};st.event.special[e]={setup:function(){var i=this.ownerDocument||this,s=st._data(i,e);s||i.addEventListener(t,n,!0),st._data(i,e,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this,s=st._data(i,e)-1;s?st._data(i,e,s):(i.removeEventListener(t,n,!0),st._removeData(i,e))}}}),st.fn.extend({on:function(t,e,n,i,s){var o,r;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],s);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=p;else if(!i)return this;return 1===s&&(r=i,i=function(t){return st().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=st.guid++)),this.each(function(){st.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,s;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,st(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=p),this.each(function(){st.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){st.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?st.event.trigger(t,e,n,!0):void 0}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",At=new RegExp("<(?:"+Ot+")[\\s/>]","i"),jt=/^\s+/,It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,Lt=/<tbody/i,Wt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Bt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},qt=m(ht),Ut=qt.appendChild(ht.createElement("div"));Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,st.extend({clone:function(t,e,n){var i,s,o,r,a,l=st.contains(t.ownerDocument,t);if(nt.html5Clone||st.isXMLDoc(t)||!At.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Ut.innerHTML=t.outerHTML,Ut.removeChild(o=Ut.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||st.isXMLDoc(t)))for(i=g(o),a=g(t),r=0;null!=(s=a[r]);++r)i[r]&&C(s,i[r]);if(e)if(n)for(a=a||g(t),i=i||g(o),r=0;null!=(s=a[r]);r++)x(s,i[r]);else x(t,o);return i=g(o,"script"),i.length>0&&w(i,!l&&g(t,"script")),i=a=s=null,o},buildFragment:function(t,e,n,i){for(var s,o,r,a,l,u,c,h=t.length,d=m(e),p=[],f=0;h>f;f++)if((o=t[f])||0===o)if("object"===st.type(o))st.merge(p,o.nodeType?[o]:o);else if(Wt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(Ft.exec(o)||["",""])[1].toLowerCase(),c=Bt[l]||Bt._default,a.innerHTML=c[1]+o.replace(It,"<$1></$2>")+c[2],s=c[0];s--;)a=a.lastChild;if(!nt.leadingWhitespace&&jt.test(o)&&p.push(e.createTextNode(jt.exec(o)[0])),!nt.tbody)for(o="table"!==l||Lt.test(o)?"<table>"!==c[1]||Lt.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)st.nodeName(u=o.childNodes[s],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(st.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(e.createTextNode(o));for(a&&d.removeChild(a),nt.appendChecked||st.grep(g(p,"input"),v),f=0;o=p[f++];)if((!i||-1===st.inArray(o,i))&&(r=st.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),r&&w(a),n))for(s=0;o=a[s++];)zt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,s,o,r=0,a=st.expando,l=st.cache,u=nt.deleteExpando,c=st.event.special;null!=(n=t[r]);r++)if((e||st.acceptData(n))&&(s=n[a],o=s&&l[s])){if(o.events)for(i in o.events)c[i]?st.event.remove(n,i):st.removeEvent(n,i,o.handle);l[s]&&(delete l[s],u?delete n[a]:typeof n.removeAttribute!==yt?n.removeAttribute(a):n[a]=null,X.push(s))}}}),st.fn.extend({text:function(t){return Dt(this,function(t){return void 0===t?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){b(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?st.filter(t,this):this,s=0;null!=(n=i[s]);s++)e||1!==n.nodeType||st.cleanData(g(n)),n.parentNode&&(e&&st.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&st.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&st.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return st.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(/ jQuery\d+="(?:null|\d+)"/g,""):void 0;if(!("string"!=typeof t||Ht.test(t)||!nt.htmlSerialize&&At.test(t)||!nt.leadingWhitespace&&jt.test(t)||Bt[(Ft.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(It,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(st.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,st.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=K.apply([],t);var n,i,s,o,r,a,l=0,u=this.length,c=this,h=u-1,d=t[0],p=st.isFunction(d);if(p||u>1&&"string"==typeof d&&!nt.checkClone&&Rt.test(d))return this.each(function(n){var i=c.eq(n);p&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(u&&(a=st.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=st.map(g(a,"script"),y),s=o.length;u>l;l++)i=a,l!==h&&(i=st.clone(i,!0,!0),s&&st.merge(o,g(i,"script"))),e.call(this[l],i,l);if(s)for(r=o[o.length-1].ownerDocument,st.map(o,_),l=0;s>l;l++)i=o[l],zt.test(i.type||"")&&!st._data(i,"globalEval")&&st.contains(r,i)&&(i.src?st._evalUrl&&st._evalUrl(i.src):st.globalEval((i.text||i.textContent||i.innerHTML||"").replace(/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,"")));a=n=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){st.fn[t]=function(t){for(var n,i=0,s=[],o=st(t),r=o.length-1;r>=i;i++)n=i===r?this:this.clone(!0),st(o[i])[e](n),J.apply(s,n.get());return this.pushStack(s)}});var Vt,$t={};!function(){var t;nt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=ht.getElementsByTagName("body")[0],n&&n.style?(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==yt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ht.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Xt,Gt,Kt=/^margin/,Jt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Zt=/^(top|right|bottom|left)$/;t.getComputedStyle?(Xt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},Gt=function(t,e,n){var i,s,o,r,a=t.style;return n=n||Xt(t),r=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==r||st.contains(t.ownerDocument,t)||(r=st.style(t,e)),Jt.test(r)&&Kt.test(e)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=s,a.maxWidth=o)),
void 0===r?r:r+""}):ht.documentElement.currentStyle&&(Xt=function(t){return t.currentStyle},Gt=function(t,e,n){var i,s,o,r,a=t.style;return n=n||Xt(t),r=n?n[e]:void 0,null==r&&a&&a[e]&&(r=a[e]),Jt.test(r)&&!Zt.test(e)&&(i=a.left,s=t.runtimeStyle,o=s&&s.left,o&&(s.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=i,o&&(s.left=o)),void 0===r?r:r+""||"auto"}),!function(){function e(){var e,n,i,s;(n=ht.getElementsByTagName("body")[0])&&n.style&&(e=ht.createElement("div"),i=ht.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,r="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,s=e.appendChild(ht.createElement("div")),s.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight),e.removeChild(s)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=e.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===s[0].offsetHeight,a&&(s[0].style.display="",s[1].style.display="none",a=0===s[0].offsetHeight),n.removeChild(i))}var n,i,s,o,r,a,l;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=n.getElementsByTagName("a")[0],(i=s&&s.style)&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,st.extend(nt,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==r&&e(),r},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),st.swap=function(t,e,n,i){var s,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=n.apply(t,i||[]);for(o in e)t.style[o]=r[o];return s};var Qt=/alpha\([^)]*\)/i,te=/opacity\s*=\s*([^)]*)/,ee=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+xt+")(.*)$","i"),ie=new RegExp("^([+-])=("+xt+")","i"),se={position:"absolute",visibility:"hidden",display:"block"},oe={letterSpacing:"0",fontWeight:"400"},re=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:nt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,r,a=st.camelCase(e),l=t.style;if(e=st.cssProps[a]||(st.cssProps[a]=E(l,a)),r=st.cssHooks[e]||st.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(s=r.get(t,!1,i))?s:l[e];if(o=typeof n,"string"===o&&(s=ie.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(st.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||st.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var s,o,r,a=st.camelCase(e);return e=st.cssProps[a]||(st.cssProps[a]=E(t.style,a)),r=st.cssHooks[e]||st.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=Gt(t,e,i)),"normal"===o&&e in oe&&(o=oe[e]),""===n||n?(s=parseFloat(o),!0===n||st.isNumeric(s)?s||0:o):o}}),st.each(["height","width"],function(t,e){st.cssHooks[e]={get:function(t,n,i){return n?ee.test(st.css(t,"display"))&&0===t.offsetWidth?st.swap(t,se,function(){return M(t,e,i)}):M(t,e,i):void 0},set:function(t,n,i){var s=i&&Xt(t);return T(t,n,i?N(t,e,i,nt.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,s),s):0)}}}),nt.opacity||(st.cssHooks.opacity={get:function(t,e){return te.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,s=st.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===st.trim(o.replace(Qt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Qt.test(o)?o.replace(Qt,s):o+" "+s)}}),st.cssHooks.marginRight=S(nt.reliableMarginRight,function(t,e){return e?st.swap(t,{display:"inline-block"},Gt,[t,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(t,e){st.cssHooks[t+e]={expand:function(n){for(var i=0,s={},o="string"==typeof n?n.split(" "):[n];4>i;i++)s[t+Ct[i]+e]=o[i]||o[i-2]||o[0];return s}},Kt.test(t)||(st.cssHooks[t+e].set=T)}),st.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var i,s,o={},r=0;if(st.isArray(e)){for(i=Xt(t),s=e.length;s>r;r++)o[e[r]]=st.css(t,e[r],!1,i);return o}return void 0!==n?st.style(t,e,n):st.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?st(this).show():st(this).hide()})}}),st.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,s,o){this.elem=t,this.prop=n,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(st.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.options.duration?this.pos=e=st.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=st.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){st.fx.step[t.prop]?st.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[st.cssProps[t.prop]]||st.cssHooks[t.prop])?st.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},st.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},st.fx=O.prototype.init,st.fx.step={};var ae,le,ue=/^(?:toggle|show|hide)$/,ce=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),he=/queueHooks$/,de=[F],pe={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),s=ce.exec(e),o=s&&s[3]||(st.cssNumber[t]?"":"px"),r=(st.cssNumber[t]||"px"!==o&&+i)&&ce.exec(st.css(n.elem,t)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+i||1;do{a=a||".5",r/=a,st.style(n.elem,t,r+o)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return s&&(r=n.start=+r||+i||0,n.unit=o,n.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),n}]};st.Animation=st.extend(W,{tweener:function(t,e){st.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,s=t.length;s>i;i++)n=t[i],pe[n]=pe[n]||[],pe[n].unshift(e)},prefilter:function(t,e){e?de.unshift(t):de.push(t)}}),st.speed=function(t,e,n){var i=t&&"object"==typeof t?st.extend({},t):{complete:n||!n&&e||st.isFunction(t)&&t,duration:t,easing:n&&e||e&&!st.isFunction(e)&&e};return i.duration=st.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in st.fx.speeds?st.fx.speeds[i.duration]:st.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){st.isFunction(i.old)&&i.old.call(this),i.queue&&st.dequeue(this,i.queue)},i},st.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var s=st.isEmptyObject(t),o=st.speed(e,n,i),r=function(){var e=W(this,st.extend({},t),o);(s||st._data(this,"finish"))&&e.stop(!0)};return r.finish=r,s||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",o=st.timers,r=st._data(this);if(s)r[s]&&r[s].stop&&i(r[s]);else for(s in r)r[s]&&r[s].stop&&he.test(s)&&i(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=t&&o[s].queue!==t||(o[s].anim.stop(n),e=!1,o.splice(s,1));(e||!n)&&st.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=st._data(this),i=n[t+"queue"],s=n[t+"queueHooks"],o=st.timers,r=i?i.length:0;for(n.finish=!0,st.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),st.each(["toggle","show","hide"],function(t,e){var n=st.fn[e];st.fn[e]=function(t,i,s){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,i,s)}}),st.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){st.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),st.timers=[],st.fx.tick=function(){var t,e=st.timers,n=0;for(ae=st.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||st.fx.stop(),ae=void 0},st.fx.timer=function(t){st.timers.push(t),t()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){le||(le=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(le),le=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(t,e){return t=st.fx?st.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,s;e=ht.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=e.getElementsByTagName("a")[0],n=ht.createElement("select"),s=n.appendChild(ht.createElement("option")),t=e.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==e.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!t.value,nt.optSelected=s.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!s.disabled,t=ht.createElement("input"),t.setAttribute("value",""),nt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),nt.radioValue="t"===t.value}();st.fn.extend({val:function(t){var e,n,i,s=this[0];return arguments.length?(i=st.isFunction(t),this.each(function(n){var s;1===this.nodeType&&(s=i?t.call(this,n,st(this).val()):t,null==s?s="":"number"==typeof s?s+="":st.isArray(s)&&(s=st.map(s,function(t){return null==t?"":t+""})),(e=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=st.valHooks[s.type]||st.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(s,"value"))?n:(n=s.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)):void 0}}),st.extend({valHooks:{option:{get:function(t){var e=st.find.attr(t,"value");return null!=e?e:st.trim(st.text(t))}},select:{get:function(t){for(var e,n,i=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,r=o?null:[],a=o?s+1:i.length,l=0>s?a:o?s:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==s||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&st.nodeName(n.parentNode,"optgroup"))){if(e=st(n).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var n,i,s=t.options,o=st.makeArray(e),r=s.length;r--;)if(i=s[r],st.inArray(st.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),s}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(t,e){return st.isArray(e)?t.checked=st.inArray(st(t).val(),e)>=0:void 0}},nt.checkOn||(st.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var fe,me,ge=st.expr.attrHandle,ve=/^(?:checked|selected)$/i,be=nt.getSetAttribute,ye=nt.input;st.fn.extend({attr:function(t,e){return Dt(this,st.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){st.removeAttr(this,t)})}}),st.extend({attr:function(t,e,n){var i,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===yt?st.prop(t,e,n):(1===o&&st.isXMLDoc(t)||(e=e.toLowerCase(),i=st.attrHooks[e]||(st.expr.match.bool.test(e)?me:fe)),void 0===n?i&&"get"in i&&null!==(s=i.get(t,e))?s:(s=st.find.attr(t,e),null==s?void 0:s):null!==n?i&&"set"in i&&void 0!==(s=i.set(t,n,e))?s:(t.setAttribute(e,n+""),n):void st.removeAttr(t,e))},removeAttr:function(t,e){var n,i,s=0,o=e&&e.match(mt);if(o&&1===t.nodeType)for(;n=o[s++];)i=st.propFix[n]||n,st.expr.match.bool.test(n)?ye&&be||!ve.test(n)?t[i]=!1:t[st.camelCase("default-"+n)]=t[i]=!1:st.attr(t,n,""),t.removeAttribute(be?n:i)},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&st.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),me={set:function(t,e,n){return!1===e?st.removeAttr(t,n):ye&&be||!ve.test(n)?t.setAttribute(!be&&st.propFix[n]||n,n):t[st.camelCase("default-"+n)]=t[n]=!0,n}},st.each(st.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ge[e]||st.find.attr;ge[e]=ye&&be||!ve.test(e)?function(t,e,i){var s,o;return i||(o=ge[e],ge[e]=s,s=null!=n(t,e,i)?e.toLowerCase():null,ge[e]=o),s}:function(t,e,n){return n?void 0:t[st.camelCase("default-"+e)]?e.toLowerCase():null}}),ye&&be||(st.attrHooks.value={set:function(t,e,n){return st.nodeName(t,"input")?void(t.defaultValue=e):fe&&fe.set(t,e,n)}}),be||(fe={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},ge.id=ge.name=ge.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},st.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:fe.set},st.attrHooks.contenteditable={set:function(t,e,n){fe.set(t,""!==e&&e,n)}},st.each(["width","height"],function(t,e){st.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),nt.style||(st.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var _e=/^(?:input|select|textarea|button|object)$/i,we=/^(?:a|area)$/i;st.fn.extend({prop:function(t,e){return Dt(this,st.prop,t,e,arguments.length>1)},removeProp:function(t){return t=st.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),st.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,s,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return o=1!==r||!st.isXMLDoc(t),o&&(e=st.propFix[e]||e,s=st.propHooks[e]),void 0!==n?s&&"set"in s&&void 0!==(i=s.set(t,n,e))?i:t[e]=n:s&&"get"in s&&null!==(i=s.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=st.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}}}),nt.hrefNormalized||st.each(["href","src"],function(t,e){st.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),nt.optSelected||(st.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),nt.enctype||(st.propFix.enctype="encoding");var xe=/[\t\r\n\f]/g;st.fn.extend({addClass:function(t){var e,n,i,s,o,r,a=0,l=this.length,u="string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(mt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):" ")){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r=st.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(t){var e,n,i,s,o,r,a=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(mt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):"")){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>=0;)i=i.replace(" "+s+" "," ");r=t?st.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(st.isFunction(t)?function(n){st(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,s=st(this),o=t.match(mt)||[];e=o[i++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(n===yt||"boolean"===n)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||!1===t?"":st._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(e)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){st.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),st.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Ce=st.now(),ke=/\?/;st.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,s=st.trim(e+"");return s&&!st.trim(s.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,function(t,e,s,o){return n&&e&&(i=0),0===i?t:(n=s||e,i+=!o-!s,"")}))?Function("return "+s)():st.error("Invalid JSON: "+e)},st.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+e),n};var De,Se,Ee=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Te=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ne=/^(?:GET|HEAD)$/,Me=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oe={},Ae={},je="*/".concat("*");try{Se=location.href}catch(t){Se=ht.createElement("a"),Se.href="",Se=Se.href}De=Me.exec(Se.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se,type:"GET",isLocal:Te.test(De[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,st.ajaxSettings),e):z(st.ajaxSettings,t)},ajaxPrefilter:H(Oe),ajaxTransport:H(Ae),ajax:function(t,e){function n(t,e,n,i){var s,c,v,b,_,x=e;2!==y&&(y=2,a&&clearTimeout(a),u=void 0,r=i||"",w.readyState=t>0?4:0,s=t>=200&&300>t||304===t,n&&(b=Y(h,w,n)),b=B(h,b,w,s),s?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(st.lastModified[o]=_),(_=w.getResponseHeader("etag"))&&(st.etag[o]=_)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=b.state,c=b.data,v=b.error,s=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),w.status=t,w.statusText=(e||x)+"",s?f.resolveWith(d,[c,x,w]):f.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,l&&p.trigger(s?"ajaxSuccess":"ajaxError",[w,h,s?c:v]),m.fireWith(d,[w,x]),l&&(p.trigger("ajaxComplete",[w,h]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,s,o,r,a,l,u,c,h=st.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?st(d):st.event,f=st.Deferred(),m=st.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!c)for(c={};e=Pe.exec(r);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return u&&u.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Se)+"").replace(/#.*$/,"").replace(/^\/\//,De[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=st.trim(h.dataType||"*").toLowerCase().match(mt)||[""],null==h.crossDomain&&(i=Me.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===De[1]&&i[2]===De[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(De[3]||("http:"===De[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=st.param(h.data,h.traditional)),R(Oe,h,e,w),2===y)return w;l=st.event&&h.global,l&&0==st.active++&&st.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ne.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ke.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ee.test(o)?o.replace(Ee,"$1_="+Ce++):o+(ke.test(o)?"&":"?")+"_="+Ce++)),h.ifModified&&(st.lastModified[o]&&w.setRequestHeader("If-Modified-Since",st.lastModified[o]),st.etag[o]&&w.setRequestHeader("If-None-Match",st.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+je+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)w.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(!1===h.beforeSend.call(d,w,h)||2===y))return w.abort();_="abort";for(s in{success:1,error:1,complete:1})w[s](h[s]);if(u=R(Ae,h,e,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,u.send(v,n)}catch(t){if(!(2>y))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return st.get(t,e,n,"json")},getScript:function(t,e){return st.get(t,void 0,e,"script")}}),st.each(["get","post"],function(t,e){st[e]=function(t,n,i,s){return st.isFunction(n)&&(s=s||i,i=n,n=void 0),st.ajax({url:t,type:e,dataType:s,data:n,success:i})}}),st._evalUrl=function(t){return st.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},st.fn.extend({wrapAll:function(t){if(st.isFunction(t))return this.each(function(e){st(this).wrapAll(t.call(this,e))});if(this[0]){var e=st(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(st.isFunction(t)?function(e){st(this).wrapInner(t.call(this,e))}:function(){var e=st(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=st.isFunction(t);return this.each(function(n){st(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||st.css(t,"display"))},st.expr.filters.visible=function(t){return!st.expr.filters.hidden(t)};var Ie=/\[\]$/,Fe=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;st.param=function(t,e){var n,i=[],s=function(t,e){e=st.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(t)||t.jquery&&!st.isPlainObject(t))st.each(t,function(){s(this.name,this.value)});else for(n in t)q(n,t[n],e,s);return i.join("&").replace(/%20/g,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=st.prop(this,"elements");return t?st.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!st(this).is(":disabled")&&Le.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!St.test(t))}).map(function(t,e){var n=st(this).val();return null==n?null:st.isArray(n)?st.map(n,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var We=0,He={},Re=st.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in He)He[t](void 0,!0)}),nt.cors=!!Re&&"withCredentials"in Re,(Re=nt.ajax=!!Re)&&st.ajaxTransport(function(t){if(!t.crossDomain||nt.cors){var e;return{send:function(n,i){var s,o=t.xhr(),r=++We;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)void 0!==n[s]&&o.setRequestHeader(s,n[s]+"");o.send(t.hasContent&&t.data||null),e=function(n,s){var a,l,u;if(e&&(s||4===o.readyState))if(delete He[r],e=void 0,o.onreadystatechange=st.noop,s)4!==o.readyState&&o.abort();else{u={},a=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(t){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&i(a,l,u,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=He[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return st.globalEval(t),t}}}),st.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),st.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ht.head||st("head")[0]||ht.documentElement;return{send:function(i,s){e=ht.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||s(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ze=[],Ye=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||st.expando+"_"+Ce++;return this[t]=!0,t}}),st.ajaxPrefilter("json jsonp",function(e,n,i){var s,o,r,a=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=st.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ye,"$1"+s):!1!==e.jsonp&&(e.url+=(ke.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return r||st.error(s+" was not called"),r[0]},e.dataTypes[0]="json",o=t[s],t[s]=function(){r=arguments},i.always(function(){t[s]=o,e[s]&&(e.jsonpCallback=n.jsonpCallback,ze.push(s)),r&&st.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),st.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ht;var i=lt.exec(t),s=!n&&[];return i?[e.createElement(i[1])]:(i=st.buildFragment([t],e,s),s&&s.length&&st(s).remove(),st.merge([],i.childNodes))};var Be=st.fn.load;st.fn.load=function(t,e,n){if("string"!=typeof t&&Be)return Be.apply(this,arguments);var i,s,o,r=this,a=t.indexOf(" ");return a>=0&&(i=st.trim(t.slice(a,t.length)),t=t.slice(0,a)),st.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&st.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,r.html(i?st("<div>").append(st.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){r.each(n,s||[t.responseText,e,t])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){st.fn[e]=function(t){return this.on(e,t)}}),st.expr.filters.animated=function(t){return st.grep(st.timers,function(e){return t===e.elem}).length};var qe=t.document.documentElement;st.offset={setOffset:function(t,e,n){var i,s,o,r,a,l,u,c=st.css(t,"position"),h=st(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=st.css(t,"top"),l=st.css(t,"left"),u=("absolute"===c||"fixed"===c)&&st.inArray("auto",[o,l])>-1,u?(i=h.position(),r=i.top,s=i.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),st.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+s),"using"in e?e.using.call(t,d):h.css(d)}},st.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){st.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},s=this[0],o=s&&s.ownerDocument;return o?(e=o.documentElement,st.contains(e,s)?(typeof s.getBoundingClientRect!==yt&&(i=s.getBoundingClientRect()),n=$(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===st.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),st.nodeName(t[0],"html")||(n=t.offset()),n.top+=st.css(t[0],"borderTopWidth",!0),n.left+=st.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-st.css(i,"marginTop",!0),left:e.left-n.left-st.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||qe;t&&!st.nodeName(t,"html")&&"static"===st.css(t,"position");)t=t.offsetParent;return t||qe})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);st.fn[t]=function(i){return Dt(this,function(t,i,s){var o=$(t);return void 0===s?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?st(o).scrollLeft():s,n?s:st(o).scrollTop()):t[i]=s)},t,i,arguments.length,null)}}),st.each(["top","left"],function(t,e){st.cssHooks[e]=S(nt.pixelPosition,function(t,n){return n?(n=Gt(t,e),Jt.test(n)?st(t).position()[e]+"px":n):void 0})}),st.each({Height:"height",Width:"width"},function(t,e){st.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){st.fn[i]=function(i,s){var o=arguments.length&&(n||"boolean"!=typeof i),r=n||(!0===i||!0===s?"margin":"border");return Dt(this,function(e,n,i){var s;return st.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,
Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===i?st.css(e,n,r):st.style(e,n,i,r)},e,o?i:void 0,o,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st});var Ue=t.jQuery,Ve=t.$;return st.noConflict=function(e){return t.$===st&&(t.$=Ve),e&&t.jQuery===st&&(t.jQuery=Ue),st},typeof e===yt&&(t.jQuery=t.$=st),st}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var s,o,r,a=e.nodeName.toLowerCase();return"area"===a?(s=e.parentNode,o=s.name,!(!e.href||!o||"map"!==s.nodeName.toLowerCase())&&(!!(r=t("img[usemap='#"+o+"']")[0])&&n(r))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function i(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",r)}function r(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),s=isNaN(i);return(s||i>=0)&&e(n,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(s,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var s="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?r["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,s){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,s=t(this[0]);s.length&&s[0]!==document;){if(("absolute"===(n=s.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var s,o=t.ui[e].prototype;for(s in i)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([n,i[s]])},call:function(t,e,n,i){var s,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;o.length>s;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,n)}};var u=0,c=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,s,o;for(o=0;null!=(s=n[o]);o++)try{(i=t._data(s,"events"))&&i.remove&&t(s).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var s,o,r,a,l={},u=e.split(".")[0];return e=e.split(".")[1],s=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[u]=t[u]||{},o=t[u][e],r=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},s=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:r,namespace:u,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,i,s=c.call(arguments,1),o=0,r=s.length;r>o;o++)for(n in s[o])i=s[o][n],s[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(s){var o="string"==typeof s,r=c.call(arguments,1),a=this;return s=!o&&r.length?t.widget.extend.apply(null,[s].concat(r)):s,o?this.each(function(){var n,o=t.data(this,i);return"instance"===s?(a=o,!1):o?t.isFunction(o[s])&&"_"!==s.charAt(0)?(n=o[s].apply(o,r),n!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(s||{}),e._init&&e._init()):t.data(this,i,new n(s,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},i=e.split("."),e=i.shift(),i.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(e=i.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var s,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=s=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,s=this.widget()),t.each(i,function(i,r){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,u,a):n.bind(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var s,o,r=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(s in o)s in n||(n[s]=o[s]);return this.element.trigger(n,i),!(t.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?!0===s||"number"==typeof s?n:s.effect||n:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&i.delay(s.delay),r&&t.effects&&t.effects.effect[a]?i[e](s):a!==e&&i[a]?i[a](s.duration,s.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget;var h=!1;t(document).mouseup(function(){h=!1}),t.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),h=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,o,r=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==s)return s;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),s=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),s=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:s,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||s?n.width():n.outerWidth(),height:i||s?n.height():n.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return f.apply(this,arguments);s=t.extend({},s);var p,m,g,v,b,y,_=t(s.of),w=t.position.getWithinInfo(s.within),x=t.position.getScrollInfo(w),C=(s.collision||"flip").split(" "),k={};return y=i(_),_[0].preventDefault&&(s.at="left top"),m=y.width,g=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(s[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=h.exec(n[0]),e=h.exec(n[1]),k[this]=[t?t[0]:0,e?e[0]:0],s[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===s.at[0]?b.left+=m:"center"===s.at[0]&&(b.left+=m/2),"bottom"===s.at[1]?b.top+=g:"center"===s.at[1]&&(b.top+=g/2),p=e(k.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var i,u,c=t(this),h=c.outerWidth(),d=c.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),D=h+f+n(this,"marginRight")+x.width,S=d+y+n(this,"marginBottom")+x.height,E=t.extend({},b),P=e(k.my,c.outerWidth(),c.outerHeight());"right"===s.my[0]?E.left-=h:"center"===s.my[0]&&(E.left-=h/2),"bottom"===s.my[1]?E.top-=d:"center"===s.my[1]&&(E.top-=d/2),E.left+=P[0],E.top+=P[1],o||(E.left=l(E.left),E.top=l(E.top)),i={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,n){t.ui.position[C[e]]&&t.ui.position[C[e]][n](E,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:D,collisionHeight:S,offset:[p[0]+P[0],p[1]+P[1]],my:s.my,at:s.at,within:w,elem:c})}),s.using&&(u=function(t){var e=v.left-E.left,n=e+m-h,i=v.top-E.top,o=i+g-d,l={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:E.left,top:E.top,width:h,height:d},horizontal:0>n?"left":e>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};h>m&&m>a(e+n)&&(l.horizontal="center"),d>g&&g>a(i+o)&&(l.vertical="middle"),l.important=r(a(e),a(n))>r(a(i),a(o))?"horizontal":"vertical",s.using.call(this,t,l)}),c.offset(t.extend(E,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=s-a,u=a+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=u?(n=t.left+l+e.collisionWidth-o-s,t.left+=l-n):t.left=u>0&&0>=l?s:l>u?s+o-e.collisionWidth:s:l>0?t.left+=l:u>0?t.left-=u:t.left=r(t.left-a,t.left)},top:function(t,e){var n,i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=s-a,u=a+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=u?(n=t.top+l+e.collisionHeight-o-s,t.top+=l-n):t.top=u>0&&0>=l?s:l>u?s+o-e.collisionHeight:s:l>0?t.top+=l:u>0?t.top-=u:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,s=e.within,o=s.offset.left+s.scrollLeft,r=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(0>(n=t.left+d+p+f+e.collisionWidth-r-o)||a(c)>n)&&(t.left+=d+p+f):h>0&&((i=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||h>a(i))&&(t.left+=d+p+f)},top:function(t,e){var n,i,s=e.within,o=s.offset.top+s.scrollTop,r=s.height,l=s.isWindow?s.scrollTop:s.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(i=t.top+p+f+m+e.collisionHeight-r-o,t.top+p+f+m>c&&(0>i||a(c)>i)&&(t.top+=p+f+m)):h>0&&(n=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>h&&(n>0||h>a(n))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,s,r,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in i)e.style[r]=i[r];e.appendChild(l),n=a||document.documentElement,n.insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=t(l).offset().left,o=s>10&&11>s,e.innerHTML="",n.removeChild(e)}()}(),t.ui.position,t.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,s=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(s+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(s-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,s=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),s=i.uniqueId().attr("id");e.attr("aria-controls",s),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=s.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,s=t(e.currentTarget),o=s[0]===i[0],r=o&&n.collapsible,a=r?t():s.next(),l=i.next(),u={oldHeader:i,oldPanel:l,newHeader:r?t():s,newPanel:a};e.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!r&&this.headers.index(s),this.active=o?t():s,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&s.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,n){var i,s,o,r=this,a=0,l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,h=function(){r._toggleComplete(n)};return"number"==typeof c&&(o=c),"string"==typeof c&&(s=c),s=s||c.easing||u.easing,o=o||c.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:s,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?a+=n.now:"content"!==r.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,s,h):t.animate(this.showProps,o,s,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target)
;!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,s,o,r=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:r=!1,i=this.previousFilter||"",s=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),s===i?o=!0:s=i+s,n=this._filterMenuItems(s),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(e.keyCode),n=this._filterMenuItems(s)),n.length?(this.focus(e,n),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n,i=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),i=t("<span>").addClass("ui-menu-icon ui-icon "+s).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),e=o.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);i._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,s,o,r,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=e.outerHeight(),0>s?this.activeMenu.scrollTop(o+s):s+a>r&&this.activeMenu.scrollTop(o+s-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),0>n.offset().top-i-s}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+s>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).text()))})}}),t.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,r="input"===s;this.isMultiLine=!!o||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case o.UP:e=!0,this._keyEvent("previous",s);break;case o.DOWN:e=!0,this._keyEvent("next",s);break;case o.ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:n=!0,this._searchTimeout(s)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var s=t.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:this._move("previousPage",i);break;case s.PAGE_DOWN:this._move("nextPage",i);break;case s.UP:this._keyEvent("previous",i);break;case s.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,s;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(s=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),void((i=n.item.attr("aria-label")||s.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,s){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var n=e.name,i=e.form,s=t([]);return n&&(n=n.replace(/'/g,"\\'"),s=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,s=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(s)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!n.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];g(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(t(this).addClass("ui-state-active"),d=this,void e.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!n.disabled&&void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,s=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.2"}});var v;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,s,o;i=e.nodeName.toLowerCase(),s="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),s),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):s&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,s,o,r=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(s=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:s,title:s}):s)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,s,o=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(n=0,i=0,s=0;t.length>s;s++)t[s].length>n&&(n=t[s].length,i=s);return i},o.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,s,o){var r,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,s=t(e),o=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=s.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,s=t(e),o=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=s.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var s,o,r,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(s=n||{},"string"==typeof n&&(s={},s[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,s),null!==r&&void 0!==s.dateFormat&&void 0===s.minDate&&(u.settings.minDate=this._formatDate(u,r)),null!==l&&void 0!==s.dateFormat&&void 0===s.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,s,o=t.datepicker._getInst(e.target),r=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),s[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,s[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),r=e.ctrlKey||e.metaKey,
e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,s=t.datepicker._getInst(e.target);return t.datepicker._get(s,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,s,o,r,l,u,c;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(n,"beforeShow"),!1!==(o=s?s.apply(e,[e,n]):{})&&(a(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return!(r|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,r),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?n.dpDiv.show(u,t.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),s=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&r.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var s=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?s-r:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+s>l&&l>s?Math.abs(n.left+s-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),s=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,s,o,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),i=this._get(r,"duration"),s=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[n]||t.effects[n])?r.dpDiv.hide(n,t.datepicker._get(r,"showOptions"),i,s):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,s),n||s(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var s=t(e),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(n=new Date,s.selectedDay=n.getDate(),s.drawMonth=s.selectedMonth=n.getMonth(),s.drawYear=s.selectedYear=n.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var s=t(e),o=this._getInst(s[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(e,n,i,s){var o,r=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(o=this._getInst(r[0]),o.selectedDay=o.currentDay=t("a",s).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,s=t(e),o=this._getInst(s[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,s,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),s=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?""+n:n+""))return null;var s,o,r,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,_=function(t){var n=e.length>s+1&&e.charAt(s+1)===t;return n&&s++,n},w=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?i:1,o=RegExp("^\\d{"+s+","+i+"}"),r=n.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},x=function(e,i,s){var o=-1,r=t.map(_(e)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;e.length>s;s++)if(y)"'"!==e.charAt(s)||_("'")?C():y=!1;else switch(e.charAt(s)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":b=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?C():y=!0;break;default:C()}if(n.length>l&&(r=n.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),b>-1)for(g=1,v=b;!((o=this._getDaysInMonth(m,g-1))>=v);)g++,v-=o;if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,n){if(!e)return"";var i,s=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;n>i.length;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;t.length>i;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),s,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),r,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,s=function(n){var i=t.length>e+1&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||s("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":s("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),o=s,r=this._getFormatConfig(t);try{o=this.parseDate(n,i,r)||s}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var s=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=i.getFullYear(),o=i.getMonth(),r=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,o))}l=a.exec(n)}return new Date(s,o,r)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return s=s&&"Invalid Date"==""+s?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,s=t.selectedMonth,o=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),s===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,s,o,r,a,l,u,c,h,d,p,f,m,g,v,b,y,_,w,x,C,k,D,S,E,P,T,N,M,O,A,j,I,F,L,W,H,R=new Date,z=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),$=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==V[0]||1!==V[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),Q=t.drawMonth-$,tt=t.drawYear;if(0>Q&&(Q+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)0>--Q&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>",s=this._get(t,"nextText"),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,Q+X,1)),this._getFormatConfig(t)):s,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+s+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+s+"</span></a>",r=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:z,r=U?this.formatDate(r,a,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(Y?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),_="",x=0;V[0]>x;x++){for(C="",this.maxRows=4,k=0;V[1]>k;k++){if(D=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),S=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",V[1]>1)switch(k){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?Y?o:i:"")+(/all|right/.test(S)&&0===x?Y?i:o:"")+this._generateMonthYearHeader(t,Q,tt,J,Z,x>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)T=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[T]+"'>"+p[T]+"</span></th>";for(E+=P+"</tr></thead><tbody>",N=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),M=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,O=Math.ceil((M+N)/7),A=G&&this.maxRows>O?this.maxRows:O,this.maxRows=A,j=this._daylightSavingAdjust(new Date(tt,Q,1-M)),I=0;A>I;I++){for(E+="<tr>",F=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(j)+"</td>":"",w=0;7>w;w++)L=g?g.apply(t.input?t.input[0]:null,[j]):[!0,""],W=j.getMonth()!==Q,H=W&&!b||!L[0]||J&&J>j||Z&&j>Z,F+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(j.getTime()===D.getTime()&&Q===t.selectedMonth&&t._keyEvent||y.getTime()===j.getTime()&&y.getTime()===D.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(W&&!v?"":" "+L[1]+(j.getTime()===K.getTime()?" "+this._currentClass:"")+(j.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(W&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(W&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===z.getTime()?" ui-state-highlight":"")+(j.getTime()===K.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);E+=F+"</tr>"}Q++,Q>11&&(Q=0,tt++),E+="</tbody></table>"+(G?"</div>"+(V[0]>0&&k===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=E}_+=C}return _+=u,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,s,o,r,a){var l,u,c,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=s&&s.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||s.getMonth()>=c)&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(h[0]),m=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),s=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,s))+("D"===n?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,s,o)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),s=n&&n>e?n:e;return i&&s>i?i:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var s=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:s[0]*s[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,s=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),r=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!s||e.getTime()>=s.getTime())&&(!o||e.getTime()<=o.getTime())&&(!r||e.getFullYear()>=r)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.2",t.datepicker,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(t){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),s=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,s=this.options,o=this.document[0];return this.relativeContainer=null,
s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),n=t(s.containment),void((i=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,s,o,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=n?s-this.offset.click.top>=n[1]||s-this.offset.click.top>n[3]?s:s-this.offset.click.top>=n[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-r.grid[0]:o+r.grid[0]:o),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var s=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,s))})},stop:function(e,n,i){var s=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(e,n,i){t.each(i.sortables,function(){var s=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(s=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(s=!1),s})),s?(o.isOver||(o.isOver=1,o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var s=t("body"),o=i.options;s.css("cursor")&&(o._cursor=s.css("cursor")),s.css("cursor",o.cursor)},stop:function(e,n,i){var s=i.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var s=t(n.helper),o=i.options;s.css("opacity")&&(o._opacity=s.css("opacity")),s.css("opacity",o.opacity)},stop:function(e,n,i){var s=i.options;s._opacity&&t(n.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var s=i.options,o=!1,r=i.scrollParentNotHidden[0],a=i.document[0];r!==a&&"HTML"!==r.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<s.scrollSensitivity?r.scrollTop=o=r.scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<s.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var s=i.options;i.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var s,o,r,a,l,u,c,h,d,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,u=l+i.snapElements[d].width,c=i.snapElements[d].top-i.margins.top,h=c+i.snapElements[d].height,l-m>v||g>u+m||c-m>y||b>h+m||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(s=m>=Math.abs(c-y),o=m>=Math.abs(h-b),r=m>=Math.abs(l-v),a=m>=Math.abs(u-g),s&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=s||o||r||a,"outer"!==f.snapMode&&(s=m>=Math.abs(c-b),o=m>=Math.abs(h-y),r=m>=Math.abs(l-g),a=m>=Math.abs(u-v),s&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(s||o||r||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=s||o||r||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var s,o=i.options,r=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});r.length&&(s=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",s+e)}),this.css("zIndex",s+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var s=t(n.helper),o=i.options;s.css("zIndex")&&(o._zIndex=s.css("zIndex")),s.css("zIndex",o.zIndex)},stop:function(e,n,i){var s=i.options;s._zIndex&&t(n.helper).css("zIndex",s._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",s=!1;return e[i]>0||(e[i]=1,s=e[i]>0,e[i]=0,s)},_create:function(){var e,n,i,s,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),o="ui-resizable-"+i,s=t("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:a.zIndex}),"se"===i&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(s);this._renderAxis=function(e){var n,i,s,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(s,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,s=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var n,i,s,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,s=this.originalMousePosition,o=this.axis,r=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,s,o,r,a,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),s=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-s},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(r,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,s,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>s&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),r&&c&&(t.top=l-e.minHeight),s&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(s[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,s=n._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&n._hasScroll(s[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-r},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,s,o,r,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,s=l.containerSize.height,o=l.containerSize.width,r=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:s,l.parentData={element:d,left:i.left,top:i.top,width:r,height:a}))},resize:function(e){var n,i,s,o,r=t(this).resizable("instance"),a=r.options,l=r.containerOffset,u=r.position,c=r._aspectRatio||e.shiftKey,h={top:0,left:0},d=r.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-h.left),c&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),u.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-h.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-h.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,c&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,c&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,s=e.containerPosition,o=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,u=r.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-s.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-s.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):t.each(n.alsoResize,function(t){i(t)})},resize:function(e,n){var i=t(this).resizable("instance"),s=i.options,o=i.originalSize,r=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0},l=function(e,i){t(e).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),o={},r=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var n=(s[e]||0)+(a[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,s=n.size,o=n.originalSize,r=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((s.width-o.width)/u)*u,d=Math.round((s.height-o.height)/c)*c,p=o.width+h,f=o.height+d,m=i.maxWidth&&p>i.maxWidth,g=i.maxHeight&&f>i.maxHeight,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=u),b&&(f+=c),m&&(p-=u),g&&(f-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=r.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=r.left-h):((0>=f-c||0>=p-u)&&(e=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=r.top-d):(f=c-e.height,n.size.height=f,n.position.top=r.top+o.height-f),p-u>0?(n.size.width=p,n.position.left=r.left-h):(p=c-e.height,n.size.width=p,n.position.left=r.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){
i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,s);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),s=n.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){s.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var s,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),s=i.click,i.click=function(){s.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,s){t(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(s))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(s,o){var r=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(a>=0?"+":"")+a,of:n.window},t(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",s,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,s=i.resizable,o=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,s){t(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(s))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(s,o){var r=n.uiDialog.offset(),a=r.left-n.document.scrollLeft(),l=r.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},t(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",s,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,s={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(s[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var n,i,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(n=s.is(":data(ui-draggable)"),n&&!e&&s.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(i=s.is(":data(ui-resizable)"),i&&!e&&s.resizable("destroy"),i&&"string"==typeof e&&s.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(s=!0,!1):void 0}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,s){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=r+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return o>=u&&h>=a&&r>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>u&&h>a-e.helperProportions.width/2&&r+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(s.pageY,c,n.proportions().height)&&t(s.pageX,u,n.proportions().width);case"touch":return(r>=c&&d>=r||l>=c&&d>=l||c>r&&l>d)&&(o>=u&&h>=o||a>=u&&h>=a||u>o&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,s,o=t.ui.ddmanager.droppables[e.options.scope]||[],r=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(s=0;a.length>s;s++)if(a[s]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===r&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,s,o,r=t.ui.intersect(e,this,this.options.tolerance,n),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable;var b="ui-effects-",y=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=c[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=l(),s=i._rgba=[];return n=n.toLowerCase(),p(a,function(t,o){var r,a=o.re.exec(n),l=a&&o.parse(a),c=o.space||"rgba";return l?(r=i[c](l),i[u[c].cache]=r[u[c].cache],s=i._rgba=r._rgba,!1):e}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[n]}function s(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,r=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,s){return new t.Color.fn.parse(e,n,i,s)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(s,r,a,c){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(r),r=e);var h=this,d=t.type(s),f=this._rgba=[];return r!==e&&(s=[s,r,a,c],d="array"),"string"===d?this.parse(i(s)||o._default):"array"===d?(p(u.rgba.props,function(t,e){f[e.idx]=n(s[e.idx],e)}),this):"object"===d?(s instanceof l?p(u,function(t,e){s[e.cache]&&(h[e.cache]=s[e.cache].slice())}):p(u,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==s[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(s[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):e},is:function(t){var n=l(t),i=!0,s=this;return p(u,function(t,o){var r,a=n[o.cache];return a&&(r=s[o.cache]||o.to&&o.to(s._rgba)||[],p(o.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===r[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return p(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),s=i._space(),o=u[s],r=0===this.alpha()?l("transparent"):this,a=r[o.cache]||o.to(r._rgba),h=a.slice();return i=i[o.cache],p(o.props,function(t,s){var o=s.idx,r=a[o],l=i[o],u=c[s.type]||{};null!==l&&(null===r?h[o]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[o]=n((l-r)*e+r,s)))}),this[s](h)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),s=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,s=t[1]/255,o=t[2]/255,r=t[3],a=Math.max(i,s,o),l=Math.min(i,s,o),u=a-l,c=a+l,h=.5*c;return e=l===a?0:i===a?60*(s-o)/u+360:s===a?60*(o-i)/u+120:60*(i-s)/u+240,n=0===u?0:.5>=h?u/c:u/(2-c),[Math.round(e)%360,n,h,null==r?1:r]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],r=.5>=i?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*s(a,r,e+1/3)),Math.round(255*s(a,r,e)),Math.round(255*s(a,r,e-1/3)),o]},p(u,function(i,s){var o=s.props,a=s.cache,u=s.to,c=s.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===e)return this[a].slice();var s,r=t.type(i),h="array"===r||"object"===r?i:arguments,d=this[a].slice();return p(o,function(t,e){var i=h["object"===r?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),c?(s=l(c(d)),s[a]=d,s):l(d)},p(o,function(e,n){l.fn[e]||(l.fn[e]=function(s){var o,a=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(s=s.call(this,c),a=t.type(s)),null==s&&n.empty?this:("string"===a&&(o=r.exec(s))&&(s=c+parseFloat(o[2])*("+"===o[1]?1:-1)),u[n.idx]=s,this[l](u)))})})}),l.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,s){var o,r,a="";if("transparent"!==s&&("string"!==t.type(s)||(o=i(s)))){if(s=l(o||s),!h.rgba&&1!==s._rgba[3]){for(r="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(t){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[n]=s}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function e(e){var n,i,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)n=s[i],"string"==typeof s[n]&&(o[t.camelCase(n)]=s[n]);else for(n in s)"string"==typeof s[n]&&(o[n]=s[n]);return o}function n(e,n){var i,o,r={};for(i in n)o=n[i],e[i]!==o&&(s[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(r[i]=o));return r}var i=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(y.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(s,o,r,a){var l=t.speed(o,r,a);return this.queue(function(){var o,r=t(this),a=r.attr("class")||"",u=l.children?r.find("*").addBack():r;u=u.map(function(){return{el:t(this),start:e(this)}}),o=function(){t.each(i,function(t,e){s[e]&&r[e+"Class"](s[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:function(e){return function(n,i,s,o){return i?t.effects.animateClass.call(this,{add:n},i,s,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,s,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,s,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,s,o,r){return"boolean"==typeof i||void 0===i?s?t.effects.animateClass.call(this,i?{add:n}:{remove:n},s,o,r):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,s,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,s,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,s,o)}})}(),function(){function e(e,n,i,s){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(s=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(s=i,i=n,n={}),t.isFunction(i)&&(s=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=s||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.2",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(b+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;e.length>i;i++)null!==e[i]&&(n=t.data(b+e[i]),void 0===n&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,s){return s=s||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(s[n]=o[0]*i+o[1])}),s}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=i.complete,a=i.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),n()):r.call(s[0],i,n)}var i=e.apply(this,arguments),s=i.mode,o=i.queue,r=t.effects.effect[i.effect];return t.fx.off||!r?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):!1===o?this.each(n):this.queue(o||"fx",n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,n){var i,s,o,r=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,u=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(r,e.mode||"hide"),h=e.direction||"up",d=a.test(h),p=d?"height":"width",f=d?"top":"left",m=l.test(h),g={},v="show"===c;r.parent().is(".ui-effects-wrapper")?t.effects.save(r.parent(),u):t.effects.save(r,u),r.show(),i=t.effects.createWrapper(r).css({overflow:"hidden"}),s=i[p](),o=parseFloat(i.css(f))||0,g[p]=v?s:0,m||(r.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:s+o),v&&(i.css(p,0),m||i.css(f,o+s)),i.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&r.hide(),t.effects.restore(r,u),t.effects.removeWrapper(r),n()}})},t.effects.effect.bounce=function(e,n){var i,s,o,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"effect"),u="hide"===l,c="show"===l,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||u?1:0),m=e.duration/f,g=e.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=r.queue(),_=y.length;for((c||u)&&a.push("opacity"),t.effects.save(r,a),r.show(),t.effects.createWrapper(r),d||(d=r["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,r.css("opacity",0).css(v,b?2*-d:2*d).animate(o,m,g)),u&&(d/=Math.pow(2,p-1)),o={},o[v]=0,i=0;p>i;i++)s={},s[v]=(b?"-=":"+=")+d,r.animate(s,m,g).animate(o,m,g),d=u?2*d:d/2;u&&(s={opacity:0},s[v]=(b?"-=":"+=")+d,r.animate(s,m,g)),r.queue(function(){u&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),n()}),_>1&&y.splice.apply(y,[1,0].concat(y.splice(_,f+1))),r.dequeue()},t.effects.effect.clip=function(e,n){var i,s,o,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"hide"),u="show"===l,c=e.direction||"vertical",h="vertical"===c,d=h?"height":"width",p=h?"top":"left",f={};t.effects.save(r,a),r.show(),i=t.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?i:r,o=s[d](),u&&(s.css(d,0),s.css(p,o/2)),f[d]=u?o:0,f[p]=u?0:o/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),n()}})},t.effects.effect.drop=function(e,n){var i,s=t(this),o=["position","top","bottom","left","right","opacity","height","width"],r=t.effects.setMode(s,e.mode||"hide"),a="show"===r,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(s,o),s.show(),t.effects.createWrapper(s),i=e.distance||s["top"===u?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(u,"pos"===c?-i:i),h[u]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,s.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),n()}})},t.effects.effect.explode=function(e,n){function i(){y.push(this),y.length===h*d&&s()}function s(){p.css({visibility:"visible"}),t(y).remove(),m||p.hide(),n()}var o,r,a,l,u,c,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/h),y=[];for(o=0;h>o;o++)for(l=g.top+o*b,c=o-(h-1)/2,r=0;d>r;r++)a=g.left+r*v,u=r-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?u*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:a+(m?0:u*v),top:l+(m?0:c*b),opacity:m?1:0},e.duration||500,e.easing,i)},t.effects.effect.fade=function(e,n){var i=t(this),s=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){
var i,s,o=t(this),r=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,u="hide"===a,c=e.size||15,h=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,r),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[i.width(),i.height()]:[i.height(),i.width()],h&&(c=parseInt(h[1],10)/100*s[u?0:1]),l&&i.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?s[0]:c,v[f[1]]=l?s[1]:0,i.animate(g,m,e.easing).animate(v,m,e.easing,function(){u&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),s=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),r={backgroundColor:i.css("backgroundColor")};"hide"===o&&(r.opacity=0),t.effects.save(i,s),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,s),n()}})},t.effects.effect.size=function(e,n){var i,s,o,r=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(r,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=r.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),i={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===e.mode&&"show"===p?(r.from=e.to||y,r.to=e.from||i):(r.from=e.from||("show"===p?y:i),r.to=e.to||("hide"===p?y:i)),o={from:{y:r.from.height/i.height,x:r.from.width/i.width},to:{y:r.to.height/i.height,x:r.to.width/i.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(b=b.concat(h),r.from=t.effects.setTransition(r,h,o.from.y,r.from),r.to=t.effects.setTransition(r,h,o.to.y,r.to)),o.from.x!==o.to.x&&(b=b.concat(d),r.from=t.effects.setTransition(r,d,o.from.x,r.from),r.to=t.effects.setTransition(r,d,o.to.x,r.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(c).concat(u),r.from=t.effects.setTransition(r,c,o.from.y,r.from),r.to=t.effects.setTransition(r,c,o.to.y,r.to)),t.effects.save(r,b),r.show(),t.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=t.effects.getBaseline(g,i),r.from.top=(i.outerHeight-r.outerHeight())*s.y,r.from.left=(i.outerWidth-r.outerWidth())*s.x,r.to.top=(i.outerHeight-r.to.outerHeight)*s.y,r.to.left=(i.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),u=a.concat(h).concat(d),r.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&t.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,h,o.from.y,n.from),n.to=t.effects.setTransition(n,h,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,d,o.from.x,n.from),n.to=t.effects.setTransition(n,d,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){f&&t.effects.restore(n,u)})})),r.animate(r.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),t.effects.restore(r,b),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):t.each(["top","left"],function(t,e){r.css(e,function(e,n){var i=parseInt(n,10),s=t?r.to.left:r.to.top;return"auto"===n?s+"px":i+s+"px"})})),t.effects.removeWrapper(r),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),s=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};s.effect="size",s.queue=!1,s.complete=n,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),s.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),i.effect(s)},t.effects.effect.puff=function(e,n){var i=t(this),s=t.effects.setMode(i,e.mode||"hide"),o="hide"===s,r=parseInt(e.percent,10)||150,a=r/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:n,percent:o?r:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,s=t(this),o=t.effects.setMode(s,e.mode||"show"),r="show"===o,a="hide"===o,l=r||"hide"===o,u=2*(e.times||5)+(l?1:0),c=e.duration/u,h=0,d=s.queue(),p=d.length;for((r||!s.is(":visible"))&&(s.css("opacity",0).show(),h=1),i=1;u>i;i++)s.animate({opacity:h},c,e.easing),h=1-h;s.animate({opacity:h},c,e.easing),s.queue(function(){a&&s.hide(),n()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,u+1))),s.dequeue()},t.effects.effect.shake=function(e,n){var i,s=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(s,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,u=e.times||3,c=2*u+1,h=Math.round(e.duration/c),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=s.queue(),b=v.length;for(t.effects.save(s,o),s.show(),t.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,h,e.easing),i=1;u>i;i++)s.animate(m,h,e.easing).animate(g,h,e.easing);s.animate(m,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),s.dequeue()},t.effects.effect.slide=function(e,n){var i,s=t(this),o=["position","top","bottom","left","right","width","height"],r=t.effects.setMode(s,e.mode||"show"),a="show"===r,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};t.effects.save(s,o),s.show(),i=e.distance||s["top"===u?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(u,c?isNaN(i)?"-"+i:-i:i),h[u]=(a?c?"+=":"-=":c?"-=":"+=")+i,s.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),s=t(e.to),o="fixed"===s.css("position"),r=t("body"),a=o?r.scrollTop():0,l=o?r.scrollLeft():0,u=s.offset(),c={top:u.top-a,left:u.left-l,height:s.innerHeight(),width:s.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),n()})},t.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,s=t.data(this,"selectable-item");return s?(i=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),s.unselecting=!i,s.selecting=i,s.selected=i,i?n._trigger("selecting",e,{selecting:s.element}):n._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,s=this.options,o=this.opos[0],r=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),r>l&&(n=l,l=r,r=n),this.helper.css({left:o,top:r,width:a-o,height:l-r}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===s.tolerance?u=!(n.left>a||o>n.right||n.top>l||r>n.bottom):"fit"===s.tolerance&&(u=n.left>o&&a>n.right&&n.top>r&&l>n.bottom),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,n=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,s="";t.each(n,function(n,o){o.optgroup!==s&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),s=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,s=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),s+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](s).eq(-1):n[t+"All"](s).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var s=t(i),o=s.parent("optgroup");n.push({element:s,index:e,value:s.attr("value"),label:s.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||s.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=i.values&&i.values.length||1,s.length>n&&(s.slice(n).remove(),s=s.slice(0,n)),e=s.length;n>e;e++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=s.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,s,o,r,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(s>n||s===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(s=n,o=t(this),r=e)}),!1!==this._start(e,r)&&(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,s,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),s=this._valueMax()-this._valueMin(),o=this._valueMin()+i*s,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,s,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&i>n)&&(n=i),n!==this.values(e)&&(s=this.values(),s[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:s}),i=this.values(e?0:1),!1!==o&&this.values(e,n))):n!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,s,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,s=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,s=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;s>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-t},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,i,s,o,r=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),s=this._valueMin(),o=this._valueMax(),n=o!==s?(i-s)/(o-s)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,s,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(s=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-s)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),
t.widget("ui.sortable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,s=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],s=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],s))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,s=i+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&l>i+u,d="y"===this.options.axis||e+c>o&&r>e+c,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&r>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,s,o,r,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i]),s=o.length-1;s>=0;s--)(r=t.data(o[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&l.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,s,o,r,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(s=t(d[n]),i=s.length-1;i>=0;i--)(o=t.data(s[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(r=h[n][1],a=h[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",r),c.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,s,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=s.outerWidth(),i.height=s.outerHeight()),o=s.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)}):"img"===i&&s.attr("src",e.currentItem.attr("src")),n||s.css("visibility","hidden"),s},update:function(t,s){(!n||i.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,s,o,r,a,l,u,c,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),r=c?"left":"top",a=c?"width":"height",h=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),s>Math.abs(e[h]-l)&&(s=Math.abs(e[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],n=t(s.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*i}},_generatePosition:function(e){var n,i,s=this.options,o=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-s.grid[1]:n+s.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;s.length>i;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var s=n.attr(i);void 0!==s&&s.length&&(e[i]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&i.min>t?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void l(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;e=e.cloneNode(!1),n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,s){return t(s).attr("aria-controls")===i?(e=n,!1):void 0
}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),e.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray(function(){return e>i&&(e=0),0>e&&(e=i),e}(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,s=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var s,o,r,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(s=i.hash,r=s.substring(1),o=e.element.find(e._sanitizeSelector(s))):(r=l.attr("aria-controls")||t({}).uniqueId()[0].id,s="#"+r,o=e.element.find(s),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":r,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)!0===e||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,s=t(e.currentTarget),o=s.closest("li"),r=o[0]===i[0],a=r&&n.collapsible,l=a?t():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:u,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!a&&this.tabs.index(o),this.active=r?t():o,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function s(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.options.show?o._show(r,o.options.show,i):(r.show(),i())}var o=this,r=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&a.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,s=this.tabs.eq(e),o=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),a={tab:s,panel:r};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),i._trigger("load",n,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&i.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(e,n,i){var s=this;return{url:e.attr("href"),beforeSend:function(e,o){return s._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(n,i);-1!==s&&i.splice(s,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;return"disabled"===e?(this[n?"_disable":"_enable"](),void(this.options[e]=n)):(this._super(e,n),void("content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var s=t.Event("blur");s.target=s.currentTarget=i.element[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,s=this,o=e?e.type:null;return"string"==typeof i?this._open(e,t,i):void((n=i.call(t[0],function(n){t.data("ui-tooltip-open")&&s._delay(function(){e&&(e.type=o),this._open(e,t,n)})}))&&this._open(e,t,n))},_open:function(e,n,i){function s(t){c.of=t,r.is(":hidden")||r.position(c)}var o,r,a,l,u,c=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),r=o.tooltip,this._addDescribedBy(n,r.attr("id")),r.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(u=i.clone(),u.removeAttr("id").find("[id]").removeAttr("id")):u=i,t("<div>").html(u).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:s}),s(e)):r.position(t.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){r.is(":visible")&&(s(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",e,{tooltip:r}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}},n[0]!==this.element[0]&&(a.remove=function(){this._removeTooltip(r)}),e&&"mouseover"!==e.type||(a.mouseleave="close"),e&&"focusin"!==e.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(e){var n,i=this,s=t(e?e.currentTarget:this.element),o=this._find(s);o&&(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var s=t.Event("blur"),o=i.element;s.target=s.currentTarget=o[0],e.close(s,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/menu"],t):t(jQuery)}(function(t){"use strict";var e="onselectstart"in document.createElement("div"),n=t.ui.menu.version.match(/^(\d)\.(\d+)/),i={major:parseInt(n[1],10),minor:parseInt(n[2],10)},s=i.major<2&&i.minor<=10,o=i.major<2&&i.minor<=11;t.widget("moogle.contextmenu",{version:"@VERSION",options:{addClass:"ui-contextmenu",autoFocus:!1,autoTrigger:!0,delegate:null,hide:{effect:"fadeOut",duration:"fast"},ignoreParentSelect:!0,menu:null,position:null,preventContextMenuForPopup:!1,preventSelect:!1,show:{effect:"slideDown",duration:"fast"},taphold:!1,uiMenuOptions:{},beforeOpen:t.noop,blur:t.noop,close:t.noop,create:t.noop,createMenu:t.noop,focus:t.noop,open:t.noop,select:t.noop},_create:function(){var n,i,s,o=this.options;if(this.$headStyle=null,this.$menu=null,this.menuIsTemp=!1,this.currentTarget=null,this.previousFocus=null,o.preventSelect){s=(t(this.element).is(document)?t("body"):this.element).uniqueId().attr("id"),n="#"+s+" "+o.delegate+" { -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }",this.$headStyle=t("<style class='moogle-contextmenu-style' />").prop("type","text/css").appendTo("head");try{this.$headStyle.html(n)}catch(t){this.$headStyle[0].styleSheet.cssText=n}e&&this.element.delegate(o.delegate,"selectstart"+this.eventNamespace,function(t){t.preventDefault()})}this._createUiMenu(o.menu),i="contextmenu"+this.eventNamespace,o.taphold&&(i+=" taphold"+this.eventNamespace),this.element.delegate(o.delegate,i,t.proxy(this._openMenu,this))},_destroy:function(){this.element.undelegate(this.eventNamespace),this._createUiMenu(null),this.$headStyle&&(this.$headStyle.remove(),this.$headStyle=null)},_createUiMenu:function(e){var n,i=this.options;this.isOpen()&&(n=this.currentTarget,this._closeMenu(!0),this.currentTarget=n),this.menuIsTemp?this.$menu.remove():this.$menu&&this.$menu.menu("destroy").removeClass(this.options.addClass).hide(),this.$menu=null,this.menuIsTemp=!1,e&&(t.isArray(e)?(this.$menu=t.moogle.contextmenu.createMenuMarkup(e),this.menuIsTemp=!0):this.$menu="string"==typeof e?t(e):e,this.$menu.hide().addClass(i.addClass).menu(t.extend(!0,{},i.uiMenuOptions,{items:"> :not(.ui-widget-header)",blur:t.proxy(i.blur,this),create:t.proxy(i.createMenu,this),focus:t.proxy(i.focus,this),select:t.proxy(function(e,n){var s,o=t.moogle.contextmenu.isMenu(n.item),r=n.item.data("actionHandler");n.cmd=n.item.attr("data-command"),n.target=t(this.currentTarget),o&&i.ignoreParentSelect||(s=this._trigger.call(this,"select",e,n),r&&(s=r.call(this,e,n)),!1!==s&&this._closeMenu.call(this),e.preventDefault())},this)})))},_openMenu:function(e,n){var i,s,o=this.options,r=o.position,a=this,l=!!e.isTrigger,u={menu:this.$menu,target:t(e.target),extraData:e._extraData,originalEvent:e,result:null};if(o.autoTrigger||l){if(e.preventDefault(),this.currentTarget=e.target,!n){if(i=this._trigger("beforeOpen",e,u),s=u.result&&t.isFunction(u.result.promise)?u.result:null,u.result=null,!1===i)return this.currentTarget=null,!1;if(s)return s.done(function(){a._openMenu(e,!0)}),this.currentTarget=null,!1;u.menu=this.$menu}t(document).bind("keydown"+this.eventNamespace,function(e){e.which===t.ui.keyCode.ESCAPE&&a._closeMenu()}).bind("mousedown"+this.eventNamespace+" touchstart"+this.eventNamespace,function(e){t(e.target).closest(".ui-menu-item").length||a._closeMenu()}),t.isFunction(r)&&(r=r(e,u)),r=t.extend({my:"left top",at:"left bottom",of:void 0===e.pageX?e.target:e,collision:"fit"},r),this.$menu.show().css({position:"absolute",left:0,top:0}).position(r).hide(),o.preventContextMenuForPopup&&this.$menu.bind("contextmenu"+this.eventNamespace,function(t){t.preventDefault()}),this._show(this.$menu,o.show,function(){o.autoFocus&&(a.$menu.focus(),a.previousFocus=t(e.target)),a._trigger.call(a,"open",e,u)})}},_closeMenu:function(e){var n=this,i=!e&&this.options.hide;t(document).unbind("mousedown"+this.eventNamespace).unbind("touchstart"+this.eventNamespace).unbind("keydown"+this.eventNamespace),n.currentTarget=null,this.$menu?(this.$menu.unbind("contextmenu"+this.eventNamespace),this._hide(this.$menu,i,function(){n.previousFocus&&(n.previousFocus.focus(),n.previousFocus=null),n._trigger("close")})):n._trigger("close")},_setOption:function(e,n){switch(e){case"menu":this.replaceMenu(n)}t.Widget.prototype._setOption.apply(this,arguments)},_getMenuEntry:function(t){return this.$menu.find("li[data-command="+t+"]")},close:function(){this.isOpen()&&this._closeMenu()},enableEntry:function(t,e){this._getMenuEntry(t).toggleClass("ui-state-disabled",!1===e)},getMenu:function(){return this.$menu},isOpen:function(){return!!this.$menu&&!!this.currentTarget},open:function(e,n){n=n||{};var i=e&&e.type&&e.target,s=i?e:{},o=i?e.target:e,r=jQuery.Event("contextmenu",{target:t(o).get(0),pageX:s.pageX,pageY:s.pageY,originalEvent:i?e:void 0,_extraData:n});return this.element.trigger(r)},replaceMenu:function(t){this._createUiMenu(t)},setEntry:function(e,n){var i,s=this._getMenuEntry(e);"string"==typeof n?t.moogle.contextmenu.updateTitle(s,n):(s.empty(),n.cmd=n.cmd||e,t.moogle.contextmenu.createEntryMarkup(n,s),t.isArray(n.children)&&(i=t("<ul/>").appendTo(s),t.moogle.contextmenu.createMenuMarkup(n.children,i)),this.getMenu().menu("refresh"))},showEntry:function(t,e){this._getMenuEntry(t).toggle(!1!==e)}}),t.extend(t.moogle.contextmenu,{createEntryMarkup:function(e,n){var i=null;n.attr("data-command",e.cmd),/[^\-\u2014\u2013\s]/.test(e.title)?(s?(i=t("<a/>",{html:""+e.title,href:"#"}).appendTo(n),e.uiIcon&&i.append(t("<span class='ui-icon' />").addClass(e.uiIcon))):o?(n.html(""+e.title),t.isFunction(e.action)&&n.data("actionHandler",e.action),e.uiIcon&&n.append(t("<span class='ui-icon' />").addClass(e.uiIcon))):(i=t("<div/>",{html:""+e.title}).appendTo(n),e.uiIcon&&i.append(t("<span class='ui-icon' />").addClass(e.uiIcon))),t.isFunction(e.action)&&n.data("actionHandler",e.action),e.disabled&&n.addClass("ui-state-disabled"),e.isHeader&&n.addClass("ui-widget-header"),e.addClass&&n.addClass(e.addClass),t.isPlainObject(e.data)&&n.data(e.data),null!=e.tooltip&&n.attr("title",e.tooltip)):n.text(e.title)},createMenuMarkup:function(e,n){var i,s,o,r;for(null==n&&(n=t("<ul class='ui-helper-hidden' />").appendTo("body")),i=0;i<e.length;i++)s=e[i],r=t("<li/>").appendTo(n),t.moogle.contextmenu.createEntryMarkup(s,r),t.isArray(s.children)&&(o=t("<ul/>").appendTo(r),t.moogle.contextmenu.createMenuMarkup(s.children,o));return n},isMenu:function(t){return s?t.has(">a[aria-haspopup='true']").length>0:o?t.is("[aria-haspopup='true']"):t.has(">div[aria-haspopup='true']").length>0},replaceFirstTextNodeChild:function(t,e){t.contents().filter(function(){return 3===this.nodeType}).first().replaceWith(e)},updateTitle:function(e,n){s?t.moogle.contextmenu.replaceFirstTextNodeChild(t("a",e),n):o?t.moogle.contextmenu.replaceFirstTextNodeChild(e,n):t.moogle.contextmenu.replaceFirstTextNodeChild(t("div",e),n)}})}),function(q){var I,J,K,L,M,N,v,s={},w={},x={},O={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},y=[function(t){var e=t.treeObj,n=f.event;e.bind(n.NODECREATED,function(e,n,i){j.apply(t.callback.onNodeCreated,[e,n,i])}),e.bind(n.CLICK,function(e,n,i,s,o){j.apply(t.callback.onClick,[n,i,s,o])}),e.bind(n.EXPAND,function(e,n,i){j.apply(t.callback.onExpand,[e,n,i])}),e.bind(n.COLLAPSE,function(e,n,i){j.apply(t.callback.onCollapse,[e,n,i])}),e.bind(n.ASYNC_SUCCESS,function(e,n,i,s){j.apply(t.callback.onAsyncSuccess,[e,n,i,s])}),e.bind(n.ASYNC_ERROR,function(e,n,i,s,o,r){j.apply(t.callback.onAsyncError,[e,n,i,s,o,r])}),e.bind(n.REMOVE,function(e,n,i){j.apply(t.callback.onRemove,[e,n,i])}),e.bind(n.SELECTED,function(e,n,i){j.apply(t.callback.onSelected,[n,i])}),e.bind(n.UNSELECTED,function(e,n,i){j.apply(t.callback.onUnSelected,[n,i])})}],z=[function(t){var e=f.event;t.treeObj.unbind(e.NODECREATED).unbind(e.CLICK).unbind(e.EXPAND).unbind(e.COLLAPSE).unbind(e.ASYNC_SUCCESS).unbind(e.ASYNC_ERROR).unbind(e.REMOVE).unbind(e.SELECTED).unbind(e.UNSELECTED)}],A=[function(t){var e=h.getCache(t);e||(e={},h.setCache(t,e)),e.nodes=[],e.doms=[]}],B=[function(t,e,n,i,s,o){if(n){var r=h.getRoot(t),a=t.data.key.children;n.level=e,n.tId=t.treeId+"_"+ ++r.zId,n.parentTId=i?i.tId:null,n.open="string"==typeof n.open?j.eqs(n.open,"true"):!!n.open,n[a]&&n[a].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?j.eqs(n.isParent,"true"):!!n.isParent,n.open=!(!n.isParent||t.async.enable)&&n.open,n.zAsync=!n.isParent),n.isFirstNode=s,n.isLastNode=o,n.getParentNode=function(){return h.getNodeCache(t,n.parentTId)},n.getPreNode=function(){return h.getPreNode(t,n)},n.getNextNode=function(){return h.getNextNode(t,n)},n.getIndex=function(){return h.getNodeIndex(t,n)},n.getPath=function(){return h.getNodePath(t,n)},n.isAjaxing=!1,h.fixPIdKeyValue(t,n)}}],u=[function(t){var e=t.target,n=h.getSetting(t.data.treeId),i="",s=null,o="",r="",a=null,l=null,u=null;if(j.eqs(t.type,"mousedown")?r="mousedown":j.eqs(t.type,"mouseup")?r="mouseup":j.eqs(t.type,"contextmenu")?r="contextmenu":j.eqs(t.type,"click")?j.eqs(e.tagName,"span")&&null!==e.getAttribute("treeNode"+f.id.SWITCH)?(i=j.getNodeMainDom(e).id,o="switchNode"):(u=j.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id,o="clickNode"):j.eqs(t.type,"dblclick")&&(r="dblclick",u=j.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id,o="switchNode"),r.length>0&&0==i.length&&(u=j.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(i=j.getNodeMainDom(u).id),i.length>0)switch(s=h.getNodeCache(n,i),o){case"switchNode":s.isParent&&(j.eqs(t.type,"click")||j.eqs(t.type,"dblclick")&&j.apply(n.view.dblClickExpand,[n.treeId,s],n.view.dblClickExpand))?a=I:o="";break;case"clickNode":a=J}switch(r){case"mousedown":l=K;break;case"mouseup":l=L;break;case"dblclick":l=M;break;case"contextmenu":l=N}return{stop:!1,node:s,nodeEventType:o,nodeEventCallback:a,treeEventType:r,treeEventCallback:l}}],C=[function(t){var e=h.getRoot(t);e||(e={},h.setRoot(t,e)),e[t.data.key.children]=[],e.expandTriggerFlag=!1,e.curSelectedList=[],e.noSelection=!0,e.createdNodes=[],e.zId=0,e._ver=(new Date).getTime()}],D=[],E=[],F=[],G=[],H=[],h={addNodeCache:function(t,e){h.getCache(t).nodes[h.getNodeCacheId(e.tId)]=e},getNodeCacheId:function(t){return t.substring(t.lastIndexOf("_")+1)},addAfterA:function(t){E.push(t)},addBeforeA:function(t){D.push(t)},addInnerAfterA:function(t){G.push(t)},addInnerBeforeA:function(t){F.push(t)},addInitBind:function(t){y.push(t)},addInitUnBind:function(t){z.push(t)},addInitCache:function(t){A.push(t)},addInitNode:function(t){B.push(t)},addInitProxy:function(t,e){e?u.splice(0,0,t):u.push(t)},addInitRoot:function(t){C.push(t)},addNodesData:function(t,e,n,s){var o=t.data.key.children;e[o]?n>=e[o].length&&(n=-1):(e[o]=[],n=-1),e[o].length>0&&0===n?(e[o][0].isFirstNode=!1,i.setNodeLineIcos(t,e[o][0])):e[o].length>0&&n<0&&(e[o][e[o].length-1].isLastNode=!1,i.setNodeLineIcos(t,e[o][e[o].length-1])),e.isParent=!0,n<0?e[o]=e[o].concat(s):(t=[n,0].concat(s),e[o].splice.apply(e[o],t))},addSelectedNode:function(t,e){var n=h.getRoot(t);h.isSelectedNode(t,e)||n.curSelectedList.push(e)},addCreatedNode:function(t,e){(t.callback.onNodeCreated||t.view.addDiyDom)&&h.getRoot(t).createdNodes.push(e)},addZTreeTools:function(t){H.push(t)},exSetting:function(t){q.extend(!0,O,t)},fixPIdKeyValue:function(t,e){t.data.simpleData.enable&&(e[t.data.simpleData.pIdKey]=e.parentTId?e.getParentNode()[t.data.simpleData.idKey]:t.data.simpleData.rootPId)},getAfterA:function(t,e,n){for(var i=0,s=E.length;i<s;i++)E[i].apply(this,arguments)},getBeforeA:function(t,e,n){for(var i=0,s=D.length;i<s;i++)D[i].apply(this,arguments)},getInnerAfterA:function(t,e,n){for(var i=0,s=G.length;i<s;i++)G[i].apply(this,arguments)},getInnerBeforeA:function(t,e,n){for(var i=0,s=F.length;i<s;i++)F[i].apply(this,arguments)},getCache:function(t){return x[t.treeId]},getNodeIndex:function(t,e){if(!e)return null;for(var n=t.data.key.children,i=e.parentTId?e.getParentNode():h.getRoot(t),s=0,o=i[n].length-1;s<=o;s++)if(i[n][s]===e)return s;return-1},getNextNode:function(t,e){if(!e)return null;for(var n=t.data.key.children,i=e.parentTId?e.getParentNode():h.getRoot(t),s=0,o=i[n].length-1;s<=o;s++)if(i[n][s]===e)return s==o?null:i[n][s+1];return null},getNodeByParam:function(t,e,n,i){if(!e||!n)return null;for(var s=t.data.key.children,o=0,r=e.length;o<r;o++){if(e[o][n]==i)return e[o];var a=h.getNodeByParam(t,e[o][s],n,i);if(a)return a}return null},getNodeCache:function(t,e){if(!e)return null;var n=x[t.treeId].nodes[h.getNodeCacheId(e)];return n||null},getNodeName:function(t,e){return""+e[t.data.key.name]},getNodePath:function(t,e){if(!e)return null;var n;return(n=e.parentTId?e.getParentNode().getPath():[])&&n.push(e),n},getNodeTitle:function(t,e){return""+e[""===t.data.key.title?t.data.key.name:t.data.key.title]},getNodes:function(t){return h.getRoot(t)[t.data.key.children]},getNodesByParam:function(t,e,n,i){if(!e||!n)return[];for(var s=t.data.key.children,o=[],r=0,a=e.length;r<a;r++)e[r][n]==i&&o.push(e[r]),o=o.concat(h.getNodesByParam(t,e[r][s],n,i));return o},getNodesByParamFuzzy:function(t,e,n,i){if(!e||!n)return[];for(var s=t.data.key.children,o=[],i=i.toLowerCase(),r=0,a=e.length;r<a;r++)"string"==typeof e[r][n]&&e[r][n].toLowerCase().indexOf(i)>-1&&o.push(e[r]),o=o.concat(h.getNodesByParamFuzzy(t,e[r][s],n,i));return o},getNodesByFilter:function(t,e,n,i,s){if(!e)return i?null:[];for(var o=t.data.key.children,r=i?null:[],a=0,l=e.length;a<l;a++){if(j.apply(n,[e[a],s],!1)){if(i)return e[a];r.push(e[a])}var u=h.getNodesByFilter(t,e[a][o],n,i,s);if(i&&u)return u;r=i?u:r.concat(u)}return r},getPreNode:function(t,e){if(!e)return null;for(var n=t.data.key.children,i=e.parentTId?e.getParentNode():h.getRoot(t),s=0,o=i[n].length;s<o;s++)if(i[n][s]===e)return 0==s?null:i[n][s-1];return null},getRoot:function(t){return t?w[t.treeId]:null},getRoots:function(){return w},getSetting:function(t){return s[t]},getSettings:function(){return s},getZTreeTools:function(t){return(t=this.getRoot(this.getSetting(t)))?t.treeTools:null},initCache:function(t){for(var e=0,n=A.length;e<n;e++)A[e].apply(this,arguments)},initNode:function(t,e,n,i,s,o){for(var r=0,a=B.length;r<a;r++)B[r].apply(this,arguments)},initRoot:function(t){for(var e=0,n=C.length;e<n;e++)C[e].apply(this,arguments)},isSelectedNode:function(t,e){for(var n=h.getRoot(t),i=0,s=n.curSelectedList.length;i<s;i++)if(e===n.curSelectedList[i])return!0;return!1},removeNodeCache:function(t,e){var n=t.data.key.children;if(e[n])for(var i=0,s=e[n].length;i<s;i++)h.removeNodeCache(t,e[n][i]);h.getCache(t).nodes[h.getNodeCacheId(e.tId)]=null},removeSelectedNode:function(t,e){for(var n=h.getRoot(t),i=0,s=n.curSelectedList.length;i<s;i++)e!==n.curSelectedList[i]&&h.getNodeCache(t,n.curSelectedList[i].tId)||(n.curSelectedList.splice(i,1),t.treeObj.trigger(f.event.UNSELECTED,[t.treeId,e]),i--,s--)},setCache:function(t,e){x[t.treeId]=e},setRoot:function(t,e){w[t.treeId]=e},setZTreeTools:function(t,e){for(var n=0,i=H.length;n<i;n++)H[n].apply(this,arguments)},transformToArrayFormat:function(t,e){if(!e)return[];var n=t.data.key.children,i=[];if(j.isArray(e))for(var s=0,o=e.length;s<o;s++)i.push(e[s]),e[s][n]&&(i=i.concat(h.transformToArrayFormat(t,e[s][n])));else i.push(e),
e[n]&&(i=i.concat(h.transformToArrayFormat(t,e[n])));return i},transformTozTreeFormat:function(t,e){var n,i,s=t.data.simpleData.idKey,o=t.data.simpleData.pIdKey,r=t.data.key.children;if(!s||""==s||!e)return[];if(j.isArray(e)){var a=[],l=[];for(n=0,i=e.length;n<i;n++)l[e[n][s]]=e[n];for(n=0,i=e.length;n<i;n++)l[e[n][o]]&&e[n][s]!=e[n][o]?(l[e[n][o]][r]||(l[e[n][o]][r]=[]),l[e[n][o]][r].push(e[n])):a.push(e[n]);return a}return[e]}},l={bindEvent:function(t){for(var e=0,n=y.length;e<n;e++)y[e].apply(this,arguments)},unbindEvent:function(t){for(var e=0,n=z.length;e<n;e++)z[e].apply(this,arguments)},bindTree:function(t){var e={treeId:t.treeId},n=t.treeObj;t.view.txtSelectedEnable||n.bind("selectstart",v).css({"-moz-user-select":"-moz-none"}),n.bind("click",e,l.proxy),n.bind("dblclick",e,l.proxy),n.bind("mouseover",e,l.proxy),n.bind("mouseout",e,l.proxy),n.bind("mousedown",e,l.proxy),n.bind("mouseup",e,l.proxy),n.bind("contextmenu",e,l.proxy)},unbindTree:function(t){t.treeObj.unbind("selectstart",v).unbind("click",l.proxy).unbind("dblclick",l.proxy).unbind("mouseover",l.proxy).unbind("mouseout",l.proxy).unbind("mousedown",l.proxy).unbind("mouseup",l.proxy).unbind("contextmenu",l.proxy)},doProxy:function(t){for(var e=[],n=0,i=u.length;n<i;n++){var s=u[n].apply(this,arguments);if(e.push(s),s.stop)break}return e},proxy:function(t){var e=h.getSetting(t.data.treeId);if(!j.uCanDo(e,t))return!0;for(var e=l.doProxy(t),n=!0,i=0,s=e.length;i<s;i++){var o=e[i];o.nodeEventCallback&&(n=o.nodeEventCallback.apply(o,[t,o.node])&&n),o.treeEventCallback&&(n=o.treeEventCallback.apply(o,[t,o.node])&&n)}return n}};I=function(t,e){var n=h.getSetting(t.data.treeId);if(e.open){if(0==j.apply(n.callback.beforeCollapse,[n.treeId,e],!0))return!0}else if(0==j.apply(n.callback.beforeExpand,[n.treeId,e],!0))return!0;return h.getRoot(n).expandTriggerFlag=!0,i.switchNode(n,e),!0},J=function(t,e){var n=h.getSetting(t.data.treeId),s=n.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&h.isSelectedNode(n,e)?0:n.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&n.view.selectedMulti?2:1;return 0==j.apply(n.callback.beforeClick,[n.treeId,e,s],!0)||(0===s?i.cancelPreSelectedNode(n,e):i.selectNode(n,e,2===s),n.treeObj.trigger(f.event.CLICK,[t,n.treeId,e,s]),!0)},K=function(t,e){var n=h.getSetting(t.data.treeId);return j.apply(n.callback.beforeMouseDown,[n.treeId,e],!0)&&j.apply(n.callback.onMouseDown,[t,n.treeId,e]),!0},L=function(t,e){var n=h.getSetting(t.data.treeId);return j.apply(n.callback.beforeMouseUp,[n.treeId,e],!0)&&j.apply(n.callback.onMouseUp,[t,n.treeId,e]),!0},M=function(t,e){var n=h.getSetting(t.data.treeId);return j.apply(n.callback.beforeDblClick,[n.treeId,e],!0)&&j.apply(n.callback.onDblClick,[t,n.treeId,e]),!0},N=function(t,e){var n=h.getSetting(t.data.treeId);return j.apply(n.callback.beforeRightClick,[n.treeId,e],!0)&&j.apply(n.callback.onRightClick,[t,n.treeId,e]),"function"!=typeof n.callback.onRightClick},v=function(t){return"input"===(t=t.originalEvent.srcElement.nodeName.toLowerCase())||"textarea"===t};var j={apply:function(t,e,n){return"function"==typeof t?t.apply(P,e||[]):n},canAsync:function(t,e){var n=t.data.key.children;return t.async.enable&&e&&e.isParent&&!(e.zAsync||e[n]&&e[n].length>0)},clone:function(t){if(null===t)return null;var e,n=j.isArray(t)?[]:{};for(e in t)n[e]=t[e]instanceof Date?new Date(t[e].getTime()):"object"==typeof t[e]?j.clone(t[e]):t[e];return n},eqs:function(t,e){return t.toLowerCase()===e.toLowerCase()},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},$:function(t,e,n){return e&&"string"!=typeof e&&(n=e,e=""),"string"==typeof t?q(t,n?n.treeObj.get(0).ownerDocument:null):q("#"+t.tId+e,n?n.treeObj:null)},getMDom:function(t,e,n){if(!e)return null;for(;e&&e.id!==t.treeId;){for(var i=0,s=n.length;e.tagName&&i<s;i++)if(j.eqs(e.tagName,n[i].tagName)&&null!==e.getAttribute(n[i].attrName))return e;e=e.parentNode}return null},getNodeMainDom:function(t){return q(t).parent("li").get(0)||q(t).parentsUntil("li").parent().get(0)},isChildOrSelf:function(t,e){return q(t).closest("#"+e).length>0},uCanDo:function(){return!0}},i={addNodes:function(t,e,n,s,o){if(!t.data.keep.leaf||!e||e.isParent)if(j.isArray(s)||(s=[s]),t.data.simpleData.enable&&(s=h.transformTozTreeFormat(t,s)),e){var r=k(e,f.id.SWITCH,t),a=k(e,f.id.ICON,t),l=k(e,f.id.UL,t);e.open||(i.replaceSwitchClass(e,r,f.folder.CLOSE),i.replaceIcoClass(e,a,f.folder.CLOSE),e.open=!1,l.css({display:"none"})),h.addNodesData(t,e,n,s),i.createNodes(t,e.level+1,s,e,n),o||i.expandCollapseParentNode(t,e,!0)}else h.addNodesData(t,h.getRoot(t),n,s),i.createNodes(t,0,s,null,n)},appendNodes:function(t,e,n,s,o,r,a){if(!n)return[];var l,u,c=[],d=t.data.key.children,p=(s||h.getRoot(t))[d];(!p||o>=p.length)&&(o=-1);for(var f=0,m=n.length;f<m;f++){var g=n[f];r&&(l=(0===o||p.length==n.length)&&0==f,u=o<0&&f==n.length-1,h.initNode(t,e,g,s,l,u,a),h.addNodeCache(t,g)),l=[],g[d]&&g[d].length>0&&(l=i.appendNodes(t,e+1,g[d],g,-1,r,a&&g.open)),a&&(i.makeDOMNodeMainBefore(c,t,g),i.makeDOMNodeLine(c,t,g),h.getBeforeA(t,g,c),i.makeDOMNodeNameBefore(c,t,g),h.getInnerBeforeA(t,g,c),i.makeDOMNodeIcon(c,t,g),h.getInnerAfterA(t,g,c),i.makeDOMNodeNameAfter(c,t,g),h.getAfterA(t,g,c),g.isParent&&g.open&&i.makeUlHtml(t,g,c,l.join("")),i.makeDOMNodeMainAfter(c,t,g),h.addCreatedNode(t,g))}return c},appendParentULDom:function(t,e){var n=[],s=k(e,t);!s.get(0)&&e.parentTId&&(i.appendParentULDom(t,e.getParentNode()),s=k(e,t));var o=k(e,f.id.UL,t);o.get(0)&&o.remove(),o=i.appendNodes(t,e.level+1,e[t.data.key.children],e,-1,!1,!0),i.makeUlHtml(t,e,n,o.join("")),s.append(n.join(""))},asyncNode:function(b,a,c,d){var e,g;if(a&&!a.isParent)return j.apply(d),!1;if(a&&a.isAjaxing)return!1;if(0==j.apply(b.callback.beforeAsync,[b.treeId,a],!0))return j.apply(d),!1;a&&(a.isAjaxing=!0,k(a,f.id.ICON,b).attr({style:"",class:f.className.BUTTON+" "+f.className.ICO_LOADING}));var m={};for(e=0,g=b.async.autoParam.length;a&&e<g;e++){var o=b.async.autoParam[e].split("="),n=o;o.length>1&&(n=o[1],o=o[0]),m[n]=a[o]}if(j.isArray(b.async.otherParam))for(e=0,g=b.async.otherParam.length;e<g;e+=2)m[b.async.otherParam[e]]=b.async.otherParam[e+1];else for(var l in b.async.otherParam)m[l]=b.async.otherParam[l];var r=h.getRoot(b)._ver;return q.ajax({contentType:b.async.contentType,cache:!1,type:b.async.type,url:j.apply(b.async.url,[b.treeId,a],b.async.url),data:m,dataType:b.async.dataType,success:function(e){if(r==h.getRoot(b)._ver){var g=[];try{g=e&&0!=e.length?"string"==typeof e?eval("("+e+")"):e:[]}catch(t){g=e}a&&(a.isAjaxing=null,a.zAsync=!0),i.setNodeLineIcos(b,a),g&&""!==g?(g=j.apply(b.async.dataFilter,[b.treeId,a,g],g),i.addNodes(b,a,-1,g?j.clone(g):[],!!c)):i.addNodes(b,a,-1,[],!!c),b.treeObj.trigger(f.event.ASYNC_SUCCESS,[b.treeId,a,e]),j.apply(d)}},error:function(t,e,n){r==h.getRoot(b)._ver&&(a&&(a.isAjaxing=null),i.setNodeLineIcos(b,a),b.treeObj.trigger(f.event.ASYNC_ERROR,[b.treeId,a,t,e,n]))}}),!0},cancelPreSelectedNode:function(t,e,n){var i,s,o=h.getRoot(t).curSelectedList;for(i=o.length-1;i>=0;i--)if(s=o[i],e===s||!e&&(!n||n!==s)){if(k(s,f.id.A,t).removeClass(f.node.CURSELECTED),e){h.removeSelectedNode(t,e);break}o.splice(i,1),t.treeObj.trigger(f.event.UNSELECTED,[t.treeId,s])}},createNodeCallback:function(t){if(t.callback.onNodeCreated||t.view.addDiyDom)for(var e=h.getRoot(t);e.createdNodes.length>0;){var n=e.createdNodes.shift();j.apply(t.view.addDiyDom,[t.treeId,n]),t.callback.onNodeCreated&&t.treeObj.trigger(f.event.NODECREATED,[t.treeId,n])}},createNodes:function(t,e,n,s,o){if(n&&0!=n.length){var r=h.getRoot(t),a=t.data.key.children,a=!s||s.open||!!k(s[a][0],t).get(0);r.createdNodes=[];var l,u,e=i.appendNodes(t,e,n,s,o,!0,a);s?(s=k(s,f.id.UL,t),s.get(0)&&(l=s)):l=t.treeObj,l&&(o>=0&&(u=l.children()[o]),o>=0&&u?q(u).before(e.join("")):l.append(e.join(""))),i.createNodeCallback(t)}},destroy:function(t){t&&(h.initCache(t),h.initRoot(t),l.unbindTree(t),l.unbindEvent(t),t.treeObj.empty(),delete s[t.treeId])},expandCollapseNode:function(t,e,n,s,o){var r,a=h.getRoot(t),l=t.data.key.children;if(e)if(a.expandTriggerFlag&&(r=o,o=function(){r&&r(),e.open?t.treeObj.trigger(f.event.EXPAND,[t.treeId,e]):t.treeObj.trigger(f.event.COLLAPSE,[t.treeId,e])},a.expandTriggerFlag=!1),!e.open&&e.isParent&&(!k(e,f.id.UL,t).get(0)||e[l]&&e[l].length>0&&!k(e[l][0],t).get(0))&&(i.appendParentULDom(t,e),i.createNodeCallback(t)),e.open==n)j.apply(o,[]);else{var n=k(e,f.id.UL,t),a=k(e,f.id.SWITCH,t),u=k(e,f.id.ICON,t);e.isParent?(e.open=!e.open,e.iconOpen&&e.iconClose&&u.attr("style",i.makeNodeIcoStyle(t,e)),e.open?(i.replaceSwitchClass(e,a,f.folder.OPEN),i.replaceIcoClass(e,u,f.folder.OPEN),0==s||""==t.view.expandSpeed?(n.show(),j.apply(o,[])):e[l]&&e[l].length>0?n.slideDown(t.view.expandSpeed,o):(n.show(),j.apply(o,[]))):(i.replaceSwitchClass(e,a,f.folder.CLOSE),i.replaceIcoClass(e,u,f.folder.CLOSE),0!=s&&""!=t.view.expandSpeed&&e[l]&&e[l].length>0?n.slideUp(t.view.expandSpeed,o):(n.hide(),j.apply(o,[])))):j.apply(o,[])}else j.apply(o,[])},expandCollapseParentNode:function(t,e,n,s,o){e&&(e.parentTId?(i.expandCollapseNode(t,e,n,s),e.parentTId&&i.expandCollapseParentNode(t,e.getParentNode(),n,s,o)):i.expandCollapseNode(t,e,n,s,o))},expandCollapseSonNode:function(t,e,n,s,o){var r=h.getRoot(t),a=t.data.key.children,r=e?e[a]:r[a],a=!e&&s,l=h.getRoot(t).expandTriggerFlag;if(h.getRoot(t).expandTriggerFlag=!1,r)for(var u=0,c=r.length;u<c;u++)r[u]&&i.expandCollapseSonNode(t,r[u],n,a);h.getRoot(t).expandTriggerFlag=l,i.expandCollapseNode(t,e,n,s,o)},isSelectedNode:function(t,e){if(!e)return!1;var n,i=h.getRoot(t).curSelectedList;for(n=i.length-1;n>=0;n--)if(e===i[n])return!0;return!1},makeDOMNodeIcon:function(t,e,n){var s=h.getNodeName(e,n),s=e.view.nameIsHTML?s:s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");t.push("<span id='",n.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(e,n),"' style='",i.makeNodeIcoStyle(e,n),"'></span><span id='",n.tId,f.id.SPAN,"' class='",f.className.NAME,"'>",s,"</span>")},makeDOMNodeLine:function(t,e,n){t.push("<span id='",n.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(e,n),"' treeNode",f.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(t){t.push("</li>")},makeDOMNodeMainBefore:function(t,e,n){t.push("<li id='",n.tId,"' class='",f.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(t){t.push("</a>")},makeDOMNodeNameBefore:function(t,e,n){var s,o=h.getNodeTitle(e,n),r=i.makeNodeUrl(e,n),a=i.makeNodeFontCss(e,n),l=[];for(s in a)l.push(s,":",a[s],";");t.push("<a id='",n.tId,f.id.A,"' class='",f.className.LEVEL,n.level,"' treeNode",f.id.A,' onclick="',n.click||"",'" ',null!=r&&r.length>0?"href='"+r+"'":""," target='",i.makeNodeTarget(n),"' style='",l.join(""),"'"),j.apply(e.view.showTitle,[e.treeId,n],e.view.showTitle)&&o&&t.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),t.push(">")},makeNodeFontCss:function(t,e){var n=j.apply(t.view.fontCss,[t.treeId,e],t.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(t,e){var n=["ico"];return e.isAjaxing||(n[0]=(e.iconSkin?e.iconSkin+"_":"")+n[0],e.isParent?n.push(e.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU)),f.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(t,e){var n=[];if(!e.isAjaxing){var i=e.isParent&&e.iconOpen&&e.iconClose?e.open?e.iconOpen:e.iconClose:e[t.data.key.icon];i&&n.push("background:url(",i,") 0 0 no-repeat;"),(0==t.view.showIcon||!j.apply(t.view.showIcon,[t.treeId,e],!0))&&n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(t,e){var n=[];return t.view.showLine?0==e.level&&e.isFirstNode&&e.isLastNode?n.push(f.line.ROOT):0==e.level&&e.isFirstNode?n.push(f.line.ROOTS):e.isLastNode?n.push(f.line.BOTTOM):n.push(f.line.CENTER):n.push(f.line.NOLINE),e.isParent?n.push(e.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU),i.makeNodeLineClassEx(e)+n.join("_")},makeNodeLineClassEx:function(t){return f.className.BUTTON+" "+f.className.LEVEL+t.level+" "+f.className.SWITCH+" "},makeNodeTarget:function(t){return t.target||"_blank"},makeNodeUrl:function(t,e){var n=t.data.key.url;return e[n]?e[n]:null},makeUlHtml:function(t,e,n,s){n.push("<ul id='",e.tId,f.id.UL,"' class='",f.className.LEVEL,e.level," ",i.makeUlLineClass(t,e),"' style='display:",e.open?"block":"none","'>"),n.push(s),n.push("</ul>")},makeUlLineClass:function(t,e){return t.view.showLine&&!e.isLastNode?f.line.LINE:""},removeChildNodes:function(t,e){if(e){var n=t.data.key.children,s=e[n];if(s){for(var o=0,r=s.length;o<r;o++)h.removeNodeCache(t,s[o]);h.removeSelectedNode(t),delete e[n],t.data.keep.parent?k(e,f.id.UL,t).empty():(e.isParent=!1,e.open=!1,n=k(e,f.id.SWITCH,t),s=k(e,f.id.ICON,t),i.replaceSwitchClass(e,n,f.folder.DOCU),i.replaceIcoClass(e,s,f.folder.DOCU),k(e,f.id.UL,t).remove())}}},scrollIntoView:function(t){if(t)if(t.scrollIntoViewIfNeeded)t.scrollIntoViewIfNeeded();else if(t.scrollIntoView)t.scrollIntoView(!1);else try{t.focus().blur()}catch(t){}},setFirstNode:function(t,e){var n=t.data.key.children;e[n].length>0&&(e[n][0].isFirstNode=!0)},setLastNode:function(t,e){var n=t.data.key.children,i=e[n].length;i>0&&(e[n][i-1].isLastNode=!0)},removeNode:function(t,e){var n=h.getRoot(t),s=t.data.key.children,o=e.parentTId?e.getParentNode():n;if(e.isFirstNode=!1,e.isLastNode=!1,e.getPreNode=function(){return null},e.getNextNode=function(){return null},h.getNodeCache(t,e.tId)){k(e,t).remove(),h.removeNodeCache(t,e),h.removeSelectedNode(t,e);for(var r=0,a=o[s].length;r<a;r++)if(o[s][r].tId==e.tId){o[s].splice(r,1);break}i.setFirstNode(t,o),i.setLastNode(t,o);var l,r=o[s].length;if(t.data.keep.parent||0!=r){if(t.view.showLine&&r>0){var u=o[s][r-1],r=k(u,f.id.UL,t),a=k(u,f.id.SWITCH,t);l=k(u,f.id.ICON,t),o==n?1==o[s].length?i.replaceSwitchClass(u,a,f.line.ROOT):(n=k(o[s][0],f.id.SWITCH,t),i.replaceSwitchClass(o[s][0],n,f.line.ROOTS),i.replaceSwitchClass(u,a,f.line.BOTTOM)):i.replaceSwitchClass(u,a,f.line.BOTTOM),r.removeClass(f.line.LINE)}}else o.isParent=!1,o.open=!1,r=k(o,f.id.UL,t),a=k(o,f.id.SWITCH,t),l=k(o,f.id.ICON,t),i.replaceSwitchClass(o,a,f.folder.DOCU),i.replaceIcoClass(o,l,f.folder.DOCU),r.css("display","none")}},replaceIcoClass:function(t,e,n){if(e&&!t.isAjaxing&&void 0!=(t=e.attr("class"))){switch(t=t.split("_"),n){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:t[t.length-1]=n}e.attr("class",t.join("_"))}},replaceSwitchClass:function(t,e,n){if(e){var s=e.attr("class");if(void 0!=s){switch(s=s.split("_"),n){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:s[0]=i.makeNodeLineClassEx(t)+n;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:s[1]=n}e.attr("class",s.join("_")),n!==f.folder.DOCU?e.removeAttr("disabled"):e.attr("disabled","disabled")}}},selectNode:function(t,e,n){n||i.cancelPreSelectedNode(t,null,e),k(e,f.id.A,t).addClass(f.node.CURSELECTED),h.addSelectedNode(t,e),t.treeObj.trigger(f.event.SELECTED,[t.treeId,e])},setNodeFontCss:function(t,e){var n=k(e,f.id.A,t),s=i.makeNodeFontCss(t,e);s&&n.css(s)},setNodeLineIcos:function(t,e){if(e){var n=k(e,f.id.SWITCH,t),s=k(e,f.id.UL,t),o=k(e,f.id.ICON,t),r=i.makeUlLineClass(t,e);0==r.length?s.removeClass(f.line.LINE):s.addClass(r),n.attr("class",i.makeNodeLineClass(t,e)),e.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",i.makeNodeIcoStyle(t,e)),o.attr("class",i.makeNodeIcoClass(t,e))}},setNodeName:function(t,e){var n=h.getNodeTitle(t,e),i=k(e,f.id.SPAN,t);i.empty(),t.view.nameIsHTML?i.html(h.getNodeName(t,e)):i.text(h.getNodeName(t,e)),j.apply(t.view.showTitle,[t.treeId,e],t.view.showTitle)&&k(e,f.id.A,t).attr("title",n||"")},setNodeTarget:function(t,e){k(e,f.id.A,t).attr("target",i.makeNodeTarget(e))},setNodeUrl:function(t,e){var n=k(e,f.id.A,t),s=i.makeNodeUrl(t,e);null==s||0==s.length?n.removeAttr("href"):n.attr("href",s)},switchNode:function(t,e){e.open||!j.canAsync(t,e)?i.expandCollapseNode(t,e,!e.open):t.async.enable?i.asyncNode(t,e)||i.expandCollapseNode(t,e,!e.open):e&&i.expandCollapseNode(t,e,!e.open)}};q.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:l,data:h},getZTreeObj:function(t){return(t=h.getZTreeTools(t))?t:null},destroy:function(t){if(t&&t.length>0)i.destroy(h.getSetting(t));else for(var e in s)i.destroy(s[e])},init:function(t,e,n){var o=j.clone(O);return q.extend(!0,o,e),o.treeId=t.attr("id"),o.treeObj=t,o.treeObj.empty(),s[o.treeId]=o,void 0===document.body.style.maxHeight&&(o.view.expandSpeed=""),h.initRoot(o),t=h.getRoot(o),e=o.data.key.children,n=n?j.clone(j.isArray(n)?n:[n]):[],t[e]=o.data.simpleData.enable?h.transformTozTreeFormat(o,n):n,h.initCache(o),l.unbindTree(o),l.bindTree(o),l.unbindEvent(o),l.bindEvent(o),n={setting:o,addNodes:function(t,e,n,s){function r(){i.addNodes(o,t,e,l,1==s)}if(t||(t=null),t&&!t.isParent&&o.data.keep.leaf)return null;var a=parseInt(e,10);if(isNaN(a)?(s=!!n,n=e,e=-1):e=a,!n)return null;var l=j.clone(j.isArray(n)?n:[n]);return j.canAsync(o,t)?i.asyncNode(o,t,s,r):r(),l},cancelSelectedNode:function(t){i.cancelPreSelectedNode(o,t)},destroy:function(){i.destroy(o)},expandAll:function(t){return t=!!t,i.expandCollapseSonNode(o,null,t,!0),t},expandNode:function(t,e,n,s,r){function a(){var e=k(t,o).get(0);e&&!1!==s&&i.scrollIntoView(e)}return t&&t.isParent?(!0!==e&&!1!==e&&(e=!t.open),(r=!!r)&&e&&0==j.apply(o.callback.beforeExpand,[o.treeId,t],!0)?null:r&&!e&&0==j.apply(o.callback.beforeCollapse,[o.treeId,t],!0)?null:(e&&t.parentTId&&i.expandCollapseParentNode(o,t.getParentNode(),e,!1),e!==t.open||n?(h.getRoot(o).expandTriggerFlag=r,!j.canAsync(o,t)&&n?i.expandCollapseSonNode(o,t,e,!0,a):(t.open=!e,i.switchNode(this.setting,t),a()),e):null)):null},getNodes:function(){return h.getNodes(o)},getNodeByParam:function(t,e,n){return t?h.getNodeByParam(o,n?n[o.data.key.children]:h.getNodes(o),t,e):null},getNodeByTId:function(t){return h.getNodeCache(o,t)},getNodesByParam:function(t,e,n){return t?h.getNodesByParam(o,n?n[o.data.key.children]:h.getNodes(o),t,e):null},getNodesByParamFuzzy:function(t,e,n){return t?h.getNodesByParamFuzzy(o,n?n[o.data.key.children]:h.getNodes(o),t,e):null},getNodesByFilter:function(t,e,n,i){return e=!!e,t&&"function"==typeof t?h.getNodesByFilter(o,n?n[o.data.key.children]:h.getNodes(o),t,e,i):e?null:[]},getNodeIndex:function(t){if(!t)return null;for(var e=o.data.key.children,n=t.parentTId?t.getParentNode():h.getRoot(o),i=0,s=n[e].length;i<s;i++)if(n[e][i]==t)return i;return-1},getSelectedNodes:function(){for(var t=[],e=h.getRoot(o).curSelectedList,n=0,i=e.length;n<i;n++)t.push(e[n]);return t},isSelectedNode:function(t){return h.isSelectedNode(o,t)},reAsyncChildNodes:function(t,e,n){if(this.setting.async.enable){var s=!t;if(s&&(t=h.getRoot(o)),"refresh"==e){for(var e=this.setting.data.key.children,r=0,a=t[e]?t[e].length:0;r<a;r++)h.removeNodeCache(o,t[e][r]);h.removeSelectedNode(o),t[e]=[],s?this.setting.treeObj.empty():k(t,f.id.UL,o).empty()}i.asyncNode(this.setting,s?null:t,!!n)}},refresh:function(){this.setting.treeObj.empty();var t=h.getRoot(o),e=t[o.data.key.children];h.initRoot(o),t[o.data.key.children]=e,h.initCache(o),i.createNodes(o,0,t[o.data.key.children],null,-1)},removeChildNodes:function(t){if(!t)return null;var e=t[o.data.key.children];return i.removeChildNodes(o,t),e||null},removeNode:function(t,e){t&&((e=!!e)&&0==j.apply(o.callback.beforeRemove,[o.treeId,t],!0)||(i.removeNode(o,t),e&&this.setting.treeObj.trigger(f.event.REMOVE,[o.treeId,t])))},selectNode:function(t,e,n){function s(){if(!n){var e=k(t,o).get(0);i.scrollIntoView(e)}}if(t&&j.uCanDo(o)){if(e=o.view.selectedMulti&&e,t.parentTId)i.expandCollapseParentNode(o,t.getParentNode(),!0,!1,s);else if(!n)try{k(t,o).focus().blur()}catch(t){}i.selectNode(o,t,e)}},transformTozTreeNodes:function(t){return h.transformTozTreeFormat(o,t)},transformToArray:function(t){return h.transformToArrayFormat(o,t)},updateNode:function(t){t&&k(t,o).get(0)&&j.uCanDo(o)&&(i.setNodeName(o,t),i.setNodeTarget(o,t),i.setNodeUrl(o,t),i.setNodeLineIcos(o,t),i.setNodeFontCss(o,t))}},t.treeTools=n,h.setZTreeTools(o,n),t[e]&&t[e].length>0?i.createNodes(o,0,t[e],null,-1):o.async.enable&&o.async.url&&""!==o.async.url&&i.asyncNode(o),n}};var P=q.fn.zTree,k=j.$,f=P.consts}(jQuery),function(t){var e,n,i,s={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},o={check:{enable:!1,autoCheckTrigger:!1,chkStyle:s.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:s.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};e=function(t,e){if(!0===e.chkDisabled)return!1;var n=u.getSetting(t.data.treeId),i=n.data.key.checked;return 0==r.apply(n.callback.beforeCheck,[n.treeId,e],!0)||(e[i]=!e[i],l.checkNodeRelation(n,e),i=c(e,a.id.CHECK,n),l.setChkClass(n,i,e),l.repairParentChkClassWithSelf(n,e),n.treeObj.trigger(a.event.CHECK,[t,n.treeId,e]),!0)},n=function(t,e){if(!0===e.chkDisabled)return!1;var n=u.getSetting(t.data.treeId),i=c(e,a.id.CHECK,n);return e.check_Focus=!0,l.setChkClass(n,i,e),!0},i=function(t,e){if(!0===e.chkDisabled)return!1;var n=u.getSetting(t.data.treeId),i=c(e,a.id.CHECK,n);return e.check_Focus=!1,l.setChkClass(n,i,e),!0},t.extend(!0,t.fn.zTree.consts,s),t.extend(!0,t.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(t,e){var n,i,s,o=t.data.key.children,r=t.data.key.checked;if(n=a.radio,t.check.chkStyle==n.STYLE){var h=u.getRadioCheckedList(t);if(e[r])if(t.check.radioType==n.TYPE_ALL){for(i=h.length-1;i>=0;i--)n=h[i],n[r]&&n!=e&&(n[r]=!1,h.splice(i,1),l.setChkClass(t,c(n,a.id.CHECK,t),n),n.parentTId!=e.parentTId&&l.repairParentChkClassWithSelf(t,n));h.push(e)}else for(h=e.parentTId?e.getParentNode():u.getRoot(t),i=0,s=h[o].length;i<s;i++)n=h[o][i],n[r]&&n!=e&&(n[r]=!1,l.setChkClass(t,c(n,a.id.CHECK,t),n));else if(t.check.radioType==n.TYPE_ALL)for(i=0,s=h.length;i<s;i++)if(e==h[i]){h.splice(i,1);break}}else e[r]&&(!e[o]||0==e[o].length||t.check.chkboxType.Y.indexOf("s")>-1)&&l.setSonNodeCheckBox(t,e,!0),!e[r]&&(!e[o]||0==e[o].length||t.check.chkboxType.N.indexOf("s")>-1)&&l.setSonNodeCheckBox(t,e,!1),e[r]&&t.check.chkboxType.Y.indexOf("p")>-1&&l.setParentNodeCheckBox(t,e,!0),!e[r]&&t.check.chkboxType.N.indexOf("p")>-1&&l.setParentNodeCheckBox(t,e,!1)},makeChkClass:function(t,e){var n=t.data.key.checked,i=a.checkbox,s=a.radio,o="",o=!0===e.chkDisabled?i.DISABLED:e.halfCheck?i.PART:t.check.chkStyle==s.STYLE?e.check_Child_State<1?i.FULL:i.PART:e[n]?2===e.check_Child_State||-1===e.check_Child_State?i.FULL:i.PART:e.check_Child_State<1?i.FULL:i.PART,n=t.check.chkStyle+"_"+(e[n]?i.TRUE:i.FALSE)+"_"+o,n=e.check_Focus&&!0!==e.chkDisabled?n+"_"+i.FOCUS:n;return a.className.BUTTON+" "+i.DEFAULT+" "+n},repairAllChk:function(t,e){if(t.check.enable&&t.check.chkStyle===a.checkbox.STYLE)for(var n=t.data.key.checked,i=t.data.key.children,s=u.getRoot(t),o=0,r=s[i].length;o<r;o++){var c=s[i][o];!0!==c.nocheck&&!0!==c.chkDisabled&&(c[n]=e),l.setSonNodeCheckBox(t,c,e)}},repairChkClass:function(t,e){if(e&&(u.makeChkFlag(t,e),!0!==e.nocheck)){var n=c(e,a.id.CHECK,t);l.setChkClass(t,n,e)}},repairParentChkClass:function(t,e){if(e&&e.parentTId){var n=e.getParentNode();l.repairChkClass(t,n),l.repairParentChkClass(t,n)}},repairParentChkClassWithSelf:function(t,e){if(e){var n=t.data.key.children;e[n]&&e[n].length>0?l.repairParentChkClass(t,e[n][0]):l.repairParentChkClass(t,e)}},repairSonChkDisabled:function(t,e,n,i){if(e){var s=t.data.key.children;if(e.chkDisabled!=n&&(e.chkDisabled=n),l.repairChkClass(t,e),e[s]&&i)for(var o=0,r=e[s].length;o<r;o++)l.repairSonChkDisabled(t,e[s][o],n,i)}},repairParentChkDisabled:function(t,e,n,i){e&&(e.chkDisabled!=n&&i&&(e.chkDisabled=n),l.repairChkClass(t,e),l.repairParentChkDisabled(t,e.getParentNode(),n,i))},setChkClass:function(t,e,n){e&&(!0===n.nocheck?e.hide():e.show(),e.attr("class",l.makeChkClass(t,n)))},setParentNodeCheckBox:function(t,e,n,i){var s=t.data.key.children,o=t.data.key.checked,r=c(e,a.id.CHECK,t);if(i||(i=e),u.makeChkFlag(t,e),!0!==e.nocheck&&!0!==e.chkDisabled&&(e[o]=n,l.setChkClass(t,r,e),t.check.autoCheckTrigger&&e!=i&&t.treeObj.trigger(a.event.CHECK,[null,t.treeId,e])),e.parentTId){if(r=!0,!n)for(var s=e.getParentNode()[s],h=0,d=s.length;h<d;h++)if(!0!==s[h].nocheck&&!0!==s[h].chkDisabled&&s[h][o]||(!0===s[h].nocheck||!0===s[h].chkDisabled)&&s[h].check_Child_State>0){r=!1;break}r&&l.setParentNodeCheckBox(t,e.getParentNode(),n,i)}},setSonNodeCheckBox:function(t,e,n,i){if(e){var s=t.data.key.children,o=t.data.key.checked,r=c(e,a.id.CHECK,t);i||(i=e);var h=!1;if(e[s])for(var d=0,p=e[s].length;d<p;d++){var f=e[s][d];l.setSonNodeCheckBox(t,f,n,i),!0===f.chkDisabled&&(h=!0)}e!=u.getRoot(t)&&!0!==e.chkDisabled&&(h&&!0!==e.nocheck&&u.makeChkFlag(t,e),!0!==e.nocheck&&!0!==e.chkDisabled?(e[o]=n,h||(e.check_Child_State=e[s]&&e[s].length>0?n?2:0:-1)):e.check_Child_State=-1,l.setChkClass(t,r,e),t.check.autoCheckTrigger&&e!=i&&!0!==e.nocheck&&!0!==e.chkDisabled&&t.treeObj.trigger(a.event.CHECK,[null,t.treeId,e]))}}},event:{},data:{getRadioCheckedList:function(t){for(var e=u.getRoot(t).radioCheckedList,n=0,i=e.length;n<i;n++)u.getNodeCache(t,e[n].tId)||(e.splice(n,1),n--,i--);return e},getCheckStatus:function(t,e){if(!t.check.enable||e.nocheck||e.chkDisabled)return null;var n=t.data.key.checked;return{checked:e[n],half:e.halfCheck?e.halfCheck:t.check.chkStyle==a.radio.STYLE?2===e.check_Child_State:e[n]?e.check_Child_State>-1&&e.check_Child_State<2:e.check_Child_State>0}},getTreeCheckedNodes:function(t,e,n,i){if(!e)return[];for(var s=t.data.key.children,o=t.data.key.checked,r=n&&t.check.chkStyle==a.radio.STYLE&&t.check.radioType==a.radio.TYPE_ALL,i=i||[],l=0,c=e.length;l<c&&(!0===e[l].nocheck||!0===e[l].chkDisabled||e[l][o]!=n||(i.push(e[l]),!r))&&(u.getTreeCheckedNodes(t,e[l][s],n,i),!(r&&i.length>0));l++);return i},getTreeChangeCheckedNodes:function(t,e,n){if(!e)return[];for(var i=t.data.key.children,s=t.data.key.checked,n=n||[],o=0,r=e.length;o<r;o++)!0!==e[o].nocheck&&!0!==e[o].chkDisabled&&e[o][s]!=e[o].checkedOld&&n.push(e[o]),u.getTreeChangeCheckedNodes(t,e[o][i],n);return n},makeChkFlag:function(t,e){if(e){var n=t.data.key.children,i=t.data.key.checked,s=-1;if(e[n])for(var o=0,r=e[n].length;o<r;o++){var l=e[n][o],u=-1;if(t.check.chkStyle==a.radio.STYLE){if(2==(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck?2:l[i]?2:l.check_Child_State>0?2:0)){s=2;break}0==u&&(s=0)}else if(t.check.chkStyle==a.checkbox.STYLE){if(1===(u=!0===l.nocheck||!0===l.chkDisabled?l.check_Child_State:!0===l.halfCheck?1:l[i]?-1===l.check_Child_State||2===l.check_Child_State?2:1:l.check_Child_State>0?1:0)){s=1;break}if(2===u&&s>-1&&o>0&&u!==s){s=1;break}if(2===s&&u>-1&&u<2){s=1;break}u>-1&&(s=u)}}e.check_Child_State=s}}}});var t=t.fn.zTree,r=t._z.tools,a=t.consts,l=t._z.view,u=t._z.data,c=r.$;u.exSetting(o),u.addInitBind(function(t){t.treeObj.bind(a.event.CHECK,function(e,n,i,s){e.srcEvent=n,r.apply(t.callback.onCheck,[e,i,s])})}),u.addInitUnBind(function(t){t.treeObj.unbind(a.event.CHECK)}),u.addInitCache(function(){}),u.addInitNode(function(t,e,n,i){n&&(e=t.data.key.checked,"string"==typeof n[e]&&(n[e]=r.eqs(n[e],"true")),n[e]=!!n[e],n.checkedOld=n[e],"string"==typeof n.nocheck&&(n.nocheck=r.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||t.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=r.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||t.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=r.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return u.getCheckStatus(t,n)},t.check.chkStyle==a.radio.STYLE&&t.check.radioType==a.radio.TYPE_ALL&&n[e]&&u.getRoot(t).radioCheckedList.push(n))}),u.addInitProxy(function(t){var s=t.target,o=u.getSetting(t.data.treeId),l="",c=null,h="",d=null;if(r.eqs(t.type,"mouseover")?o.check.enable&&r.eqs(s.tagName,"span")&&null!==s.getAttribute("treeNode"+a.id.CHECK)&&(l=r.getNodeMainDom(s).id,h="mouseoverCheck"):r.eqs(t.type,"mouseout")?o.check.enable&&r.eqs(s.tagName,"span")&&null!==s.getAttribute("treeNode"+a.id.CHECK)&&(l=r.getNodeMainDom(s).id,h="mouseoutCheck"):r.eqs(t.type,"click")&&o.check.enable&&r.eqs(s.tagName,"span")&&null!==s.getAttribute("treeNode"+a.id.CHECK)&&(l=r.getNodeMainDom(s).id,h="checkNode"),l.length>0)switch(c=u.getNodeCache(o,l),h){case"checkNode":d=e;break;case"mouseoverCheck":d=n;break;case"mouseoutCheck":d=i}return{stop:"checkNode"===h,node:c,nodeEventType:h,nodeEventCallback:d,treeEventType:"",treeEventCallback:null}},!0),u.addInitRoot(function(t){u.getRoot(t).radioCheckedList=[]}),u.addBeforeA(function(t,e,n){t.check.enable&&(u.makeChkFlag(t,e),n.push("<span ID='",e.tId,a.id.CHECK,"' class='",l.makeChkClass(t,e),"' treeNode",a.id.CHECK,!0===e.nocheck?" style='display:none;'":"","></span>"))}),u.addZTreeTools(function(t,e){e.checkNode=function(t,e,n,i){var s=this.setting.data.key.checked;!0===t.chkDisabled||(!0!==e&&!1!==e&&(e=!t[s]),i=!!i,t[s]===e&&!n||i&&0==r.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0)||!r.uCanDo(this.setting)||!this.setting.check.enable||!0===t.nocheck)||(t[s]=e,e=c(t,a.id.CHECK,this.setting),(n||this.setting.check.chkStyle===a.radio.STYLE)&&l.checkNodeRelation(this.setting,t),l.setChkClass(this.setting,e,t),l.repairParentChkClassWithSelf(this.setting,t),i&&this.setting.treeObj.trigger(a.event.CHECK,[null,this.setting.treeId,t]))},e.checkAllNodes=function(t){l.repairAllChk(this.setting,!!t)},e.getCheckedNodes=function(t){var e=this.setting.data.key.children;return u.getTreeCheckedNodes(this.setting,u.getRoot(this.setting)[e],!1!==t)},e.getChangeCheckedNodes=function(){var t=this.setting.data.key.children;return u.getTreeChangeCheckedNodes(this.setting,u.getRoot(this.setting)[t])},e.setChkDisabled=function(t,e,n,i){e=!!e,n=!!n,l.repairSonChkDisabled(this.setting,t,e,!!i),l.repairParentChkDisabled(this.setting,t.getParentNode(),e,n)};var n=e.updateNode;e.updateNode=function(t,i){if(n&&n.apply(e,arguments),t&&this.setting.check.enable&&c(t,this.setting).get(0)&&r.uCanDo(this.setting)){var s=c(t,a.id.CHECK,this.setting);(1==i||this.setting.check.chkStyle===a.radio.STYLE)&&l.checkNodeRelation(this.setting,t),l.setChkClass(this.setting,s,t),l.repairParentChkClassWithSelf(this.setting,t)}}});var h=l.createNodes;l.createNodes=function(t,e,n,i,s){h&&h.apply(l,arguments),n&&l.repairParentChkClassWithSelf(t,i)};var d=l.removeNode;l.removeNode=function(t,e){var n=e.getParentNode();d&&d.apply(l,arguments),e&&n&&(l.repairChkClass(t,n),l.repairParentChkClass(t,n))};var p=l.appendNodes;l.appendNodes=function(t,e,n,i,s,o,r){var a="";return p&&(a=p.apply(l,arguments)),i&&u.makeChkFlag(t,i),a}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function s(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(r," ")),a.json?JSON.parse(t):t}catch(t){}}
function o(e,n){var i=a.raw?e:s(e);return t.isFunction(n)?n(i):i}var r=/\+/g,a=t.cookie=function(s,r,l){if(void 0!==r&&!t.isFunction(r)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[e(s),"=",i(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=s?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;p<f;p++){var m=d[p].split("="),g=n(m.shift()),v=m.join("=");if(s&&s===g){h=o(v,r);break}s||void 0===(v=o(v))||(h[g]=v)}return h};a.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){"use strict";var e,n=t.Base64;if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(t){}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},n=0,i=t.length;n<i;n++)e[t.charAt(n)]=n;return e}(i),o=String.fromCharCode,r=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?o(192|e>>>6)+o(128|63&e):o(224|e>>>12&15)+o(128|e>>>6&63)+o(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return o(240|e>>>18&7)+o(128|e>>>12&63)+o(128|e>>>6&63)+o(128|63&e)},a=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,r)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[i.charAt(n>>>18),i.charAt(n>>>12&63),e>=2?"=":i.charAt(n>>>6&63),e>=1?"=":i.charAt(63&n)].join("")},u=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,l)},c=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return u(a(t))},h=function(t,e){return e?c(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):c(String(t))},d=function(t){return h(t,!0)},p=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),f=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return o(55296+(n>>>10))+o(56320+(1023&n));case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(p,f)},g=function(t){var e=t.length,n=e%4,i=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),r=[o(i>>>16),o(i>>>8&255),o(255&i)];return r.length-=[0,0,2,1][n],r.join("")},v=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,g)},b=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return m(v(t))},y=function(t){return b(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},_=function(){var e=t.Base64;return t.Base64=n,e};if(t.Base64={VERSION:"2.1.9",atob:v,btoa:u,fromBase64:y,toBase64:h,utob:a,encode:h,encodeURI:d,btou:m,decode:y,noConflict:_},"function"==typeof Object.defineProperty){var w=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",w(function(){return y(this)})),Object.defineProperty(String.prototype,"toBase64",w(function(t){return h(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",w(function(){return h(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(this),function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t={subtract:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},dotProduct:function(t,e){return t.x*e.x+t.y*e.y},square:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},scale:function(t,e){return{x:t.x*e,y:t.y*e}}},e=Math.pow(2,-65),n=function(e,n){for(var i=[],r=s(e,n),a=n.length-1,l=2*a-1,c=o(r,l,i,0),h=t.subtract(e,n[0]),d=t.square(h),p=0,f=0;c>f;f++){h=t.subtract(e,u(n,a,i[f],null,null));var m=t.square(h);d>m&&(d=m,p=i[f])}return h=t.subtract(e,n[a]),m=t.square(h),d>m&&(d=m,p=1),{location:p,distance:d}},i=function(t,e){var i=n(t,e);return{point:u(e,e.length-1,i.location,null,null),location:i.location}},s=function(e,n){for(var i=n.length-1,s=2*i-1,o=[],r=[],a=[],l=[],u=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;i>=c;c++)o[c]=t.subtract(n[c],e);for(var c=0;i-1>=c;c++)r[c]=t.subtract(n[c+1],n[c]),r[c]=t.scale(r[c],3);for(var h=0;i-1>=h;h++)for(var d=0;i>=d;d++)a[h]||(a[h]=[]),a[h][d]=t.dotProduct(r[h],o[d]);for(c=0;s>=c;c++)l[c]||(l[c]=[]),l[c].y=0,l[c].x=parseFloat(c)/s;for(var p=i,f=i-1,m=0;p+f>=m;m++){var g=Math.max(0,m-f),v=Math.min(m,p);for(c=g;v>=c;c++)j=m-c,l[c+j].y+=a[j][c]*u[j][c]}return l},o=function(t,e,n,i){var s,c,h=[],d=[],p=[],f=[];switch(r(t,e)){case 0:return 0;case 1:if(i>=64)return n[0]=(t[0].x+t[e].x)/2,1;if(a(t,e))return n[0]=l(t,e),1}u(t,e,.5,h,d),s=o(h,e,p,i+1),c=o(d,e,f,i+1);for(var m=0;s>m;m++)n[m]=p[m];for(var m=0;c>m;m++)n[m+s]=f[m];return s+c},r=function(t,e){var n,i,s=0;n=i=Math.sgn(t[0].y);for(var o=1;e>=o;o++)n=Math.sgn(t[o].y),n!=i&&s++,i=n;return s},a=function(t,n){var i,s,o,r,a,l,u,c,h,d,p,f,m,g,v,b;l=t[0].y-t[n].y,u=t[n].x-t[0].x,c=t[0].x*t[n].y-t[n].x*t[0].y;for(var y=max_distance_below=0,_=1;n>_;_++){var w=l*t[_].x+u*t[_].y+c;w>y?y=w:max_distance_below>w&&(max_distance_below=w)}return p=0,f=1,m=0,g=l,v=u,b=c-y,h=p*v-g*f,d=1/h,s=(f*b-v*m)*d,g=l,v=u,b=c-max_distance_below,h=p*v-g*f,d=1/h,o=(f*b-v*m)*d,r=Math.min(s,o),a=Math.max(s,o),i=a-r,e>i?1:0},l=function(t,e){var n=t[e].x-t[0].x,i=t[e].y-t[0].y,s=t[0].x-0;return 0+(n*(t[0].y-0)-i*s)*(1/(0*n-1*i))*1},u=function(t,e,n,i,s){for(var o=[[]],r=0;e>=r;r++)o[0][r]=t[r];for(var a=1;e>=a;a++)for(var r=0;e-a>=r;r++)o[a]||(o[a]=[]),o[a][r]||(o[a][r]={}),o[a][r].x=(1-n)*o[a-1][r].x+n*o[a-1][r+1].x,o[a][r].y=(1-n)*o[a-1][r].y+n*o[a-1][r+1].y;if(null!=i)for(r=0;e>=r;r++)i[r]=o[r][0];if(null!=s)for(r=0;e>=r;r++)s[r]=o[e-r][r];return o[e][0]},c={},h=function(t){var e=c[t];if(!e){e=[];var n=function(){return function(e){return Math.pow(e,t)}},i=function(){return function(e){return Math.pow(1-e,t)}},s=function(t){return function(){return t}},o=function(){return function(t){return t}},r=function(){return function(t){return 1-t}},a=function(t){return function(e){for(var n=1,i=0;i<t.length;i++)n*=t[i](e);return n}};e.push(new n);for(var l=1;t>l;l++){for(var u=[new s(t)],h=0;t-l>h;h++)u.push(new o);for(var h=0;l>h;h++)u.push(new r);e.push(new a(u))}e.push(new i),c[t]=e}return e},d=function(t,e){for(var n=h(t.length-1),i=0,s=0,o=0;o<t.length;o++)i+=t[o].x*n[o](e),s+=t[o].y*n[o](e);return{x:i,y:s}},p=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},m=function(t,e,n){if(f(t))return{point:t[0],location:e};for(var i=d(t,e),s=0,o=e,r=n>0?1:-1,a=null;s<Math.abs(n);)o+=.005*r,a=d(t,o),s+=p(a,i),i=a;return{point:a,location:o}},g=function(t){if(f(t))return 0;for(var e=d(t,0),n=0,i=0,s=null;1>i;)i+=.005,s=d(t,i),n+=p(s,e),e=s;return n},v=function(t,e,n){return m(t,e,n).point},b=function(t,e,n){return m(t,e,n).location},y=function(t,e){var n=d(t,e),i=d(t.slice(0,t.length-1),e),s=i.y-n.y,o=i.x-n.x;return 0==s?1/0:Math.atan(s/o)},_=function(t,e,n){var i=m(t,e,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),y(t,i.location)},w=function(t,e,n,i){i=null==i?0:i;var s=m(t,e,i),o=y(t,s.location),r=Math.atan(-1/o),a=n/2*Math.sin(r),l=n/2*Math.cos(r);return[{x:s.point.x+l,y:s.point.y+a},{x:s.point.x-l,y:s.point.y-a}]};this.jsBezier={distanceFromCurve:n,gradientAtPoint:y,gradientAtPointAlongCurveFrom:_,nearestPointOnCurve:i,pointOnCurve:d,pointAlongCurveFrom:v,perpendicularToCurveAt:w,locationAlongCurveFrom:b,getLength:g}}.call(this),function(){"use strict";var t=this.Biltong={},e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(t,n,i){return t=e(t)?t:[t.x,t.y],n=e(n)?n:[n.x,n.y],i(t,n)},i=t.gradient=function(t,e){return n(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},s=(t.normal=function(t,e){return-1/i(t,e)},t.lineLength=function(t,e){return n(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return n(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),o=(t.theta=function(t,e){return n(t,e,function(t,e){var n=i(t,e),o=Math.atan(n),r=s(t,e);return(4==r||3==r)&&(o+=Math.PI),0>o&&(o+=2*Math.PI),o})},t.intersects=function(t,e){var n=t.x,i=t.x+t.w,s=t.y,o=t.y+t.h,r=e.x,a=e.x+e.w,l=e.y,u=e.y+e.h;return r>=n&&i>=r&&l>=s&&o>=l||a>=n&&i>=a&&l>=s&&o>=l||r>=n&&i>=r&&u>=s&&o>=u||a>=n&&i>=r&&u>=s&&o>=u||n>=r&&a>=n&&s>=l&&u>=s||i>=r&&a>=i&&s>=l&&u>=s||n>=r&&a>=n&&o>=l&&u>=o||i>=r&&a>=n&&o>=l&&u>=o},t.encloses=function(t,e,n){var i=t.x,s=t.x+t.w,o=t.y,r=t.y+t.h,a=e.x,l=e.x+e.w,u=e.y,c=e.y+e.h,h=function(t,e,i,s){return n?e>=t&&i>=s:e>t&&i>s};return h(i,a,s,l)&&h(o,u,r,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),r=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var a=i(t,e),l=s(t,e),u=n>0?o[l]:r[l],c=Math.atan(a),h=Math.abs(n*Math.sin(c))*u[1],d=Math.abs(n*Math.cos(c))*u[0];return{x:t.x+d,y:t.y+h}},t.perpendicularLineTo=function(t,e,n){var s=i(t,e),o=Math.atan(-1/s),r=n/2*Math.sin(o),a=n/2*Math.cos(o);return[{x:e.x+a,y:e.y+r},{x:e.x-a,y:e.y-r}]}}.call(this),function(){"use strict";var t={android:navigator.userAgent.toLowerCase().indexOf("android")>-1},e=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},n=function(t){return"string"==typeof t?document.getElementById(t):t},i=function(t){return t.srcElement||t.target},s=function(t,e){for(var n=0,i=t.length;i>n&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},o=1,r=function(t,e,n){var i=o++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][i]=n,n.__tauid=i,i},a=function(t,e,n){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)T(t,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()},l=function(t,n,s,o){if(null==t)return s;var r=t.split(","),a=function(t){a.__tauid=s.__tauid;for(var o=i(t),l=0;l<r.length;l++)e(o,r[l],n)&&s.apply(o,arguments)};return u(s,o,a),a},u=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},c=function(t,e,n,i){if(g&&b[e]){var s=l(i,t,n,b[e]);P(t,b[e],s,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),P(t,e,l(i,t,n,e),n)},h=function(t,e,n,o){if(null==t.__taSmartClicks){var r=function(e){t.__tad=x(e)},a=function(e){t.__tau=x(e)},l=function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(i(e),[e])};c(t,"mousedown",r,o),c(t,"mouseup",a,o),c(t,"click",l,o),t.__taSmartClicks=[]}t.__taSmartClicks.push(n),n.__taUnstore=function(){s(t.__taSmartClicks,n)}},d={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},p=function(t,n){return function(o,r,a,l){if("contextmenu"==r&&v)c(o,r,a,l);else{if(null==o.__taTapHandler){var u=o.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},h=function(i){for(var s=i.srcElement||i.target,r=0;r<u.downSelectors.length;r++)if(null==u.downSelectors[r]||e(s,u.downSelectors[r],o)){u.down=!0,setTimeout(f,t),setTimeout(m,n);break}},p=function(t){if(u.down){var n=t.srcElement||t.target;u.taps++;var s=E(t);for(var r in d){var a=d[r];if(a.touches===s&&(1===a.taps||a.taps===u.taps))for(var l=0;l<u[r].length;l++)(null==u[r][l][1]||e(n,u[r][l][1],o))&&u[r][l][0].apply(i(t),[t])}}},f=function(){u.down=!1},m=function(){u.taps=0};c(o,"mousedown",h),c(o,"mouseup",p)}o.__taTapHandler.downSelectors.push(l),o.__taTapHandler[r].push([a,l]),a.__taUnstore=function(){s(o.__taTapHandler[r],a)}}}},f=function(t,e,n,i){for(var s in n.__tamee[t])n.__tamee[t][s].apply(i,[e])},m=function(){var t=[];return function(n,s,o,a){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var u=function(s){var o=i(s);(null==a&&o==n&&!n.__tamee.over||e(o,a,n)&&(null==o.__tamee||!o.__tamee.over))&&(f("mouseenter",s,n,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,t.push(o))},c=function(s){for(var o=i(s),r=0;r<t.length;r++)o!=t[r]||e(s.relatedTarget||s.toElement,"*",o)||(o.__tamee.over=!1,t.splice(r,1),f("mouseexit",s,n,o))};P(n,"mouseover",l(a,n,u,"mouseover"),u),P(n,"mouseout",l(a,n,c,"mouseout"),c)}o.__taUnstore=function(){delete n.__tamee[s][o.__tauid]},r(n,s,o),n.__tamee[s][o.__tauid]=o}},g="ontouchstart"in document.documentElement,v="onmousedown"in document.documentElement,b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},y=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),_=y>-1&&9>y,w=function(t,e){if(null==t)return[0,0];var n=S(t),i=D(n,0);return[i[e+"X"],i[e+"Y"]]},x=function(t){return null==t?[0,0]:_?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:w(t,"page")},C=function(t){return w(t,"screen")},k=function(t){return w(t,"client")},D=function(t,e){return t.item?t.item(e):t[e]},S=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},E=function(t){return S(t).length},P=function(t,e,n,i){if(r(t,e,n),i.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var s=e+n.__tauid;t["e"+s]=n,t[s]=function(){t["e"+s]&&t["e"+s](window.event)},t.attachEvent("on"+e,t[s])}},T=function(t,e,i){null!=i&&N(t,function(){var s=n(this);if(a(s,e,i),null!=i.__tauid)if(s.removeEventListener)s.removeEventListener(e,i,!1),g&&b[e]&&s.removeEventListener(b[e],i,!1);else if(this.detachEvent){var o=e+i.__tauid;s[o]&&s.detachEvent("on"+e,s[o]),s[o]=null,s["e"+o]=null}i.__taTouchProxy&&T(t,i.__taTouchProxy[1],i.__taTouchProxy[0])})},N=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};this.Mottle=function(e){e=e||{};var i=e.clickThreshold||150,s=e.dblClickThreshold||350,o=new m,r=new p(i,s),a=e.smartClicks,l=function(t,e,i,s){null!=i&&N(t,function(){var t=n(this);a&&"click"===e?h(t,0,i,s):"tap"===e||"dbltap"===e||"contextmenu"===e?r(t,e,i,s):"mouseenter"===e||"mouseexit"==e?o(t,e,i,s):c(t,e,i,s)})};this.remove=function(t){return N(t,function(){var t=n(this);if(t.__ta)for(var e in t.__ta)for(var i in t.__ta[e])T(t,e,t.__ta[e][i]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(){var t=arguments[0],e=4==arguments.length?arguments[2]:null,n=arguments[1],i=arguments[arguments.length-1];return l(t,n,i,e),this},this.off=function(t,e,n){return T(t,e,n),this},this.trigger=function(e,i,s,o){var r=v&&("undefined"==typeof MouseEvent||null==s||s.constructor===MouseEvent),a=g&&!v&&b[i]?b[i]:i,l=!(g&&!v&&b[i]),u=x(s),c=C(s),h=k(s);return N(e,function(){var e,d=n(this);s=s||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var p=function(t){o&&(t.payload=o)},f={TouchEvent:function(t){var e=document.createTouch(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1],0,0,0,0),n=document.createTouchList(e),i=document.createTouchList(e),s=document.createTouchList(e);t.initTouchEvent(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,n,i,s,1,0)},MouseEvents:function(e){if(e.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,d),t.android){var n=document.createTouch(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1],0,0,0,0);e.touches=e.targetTouches=e.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var m=!l&&!r&&g&&b[i]&&!t.android,v=m?"TouchEvent":"MouseEvents";e=document.createEvent(v),f[v](e),p(e),d.dispatchEvent(e)}else document.createEventObject&&(e=document.createEventObject(),e.eventType=e.eventName=a,e.screenX=c[0],e.screenY=c[1],e.clientX=h[0],e.clientY=h[1],p(e),d.fireEvent("on"+a,e))}),this}},Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},Mottle.pageLocation=x,Mottle.setForceTouchEvents=function(t){g=t},Mottle.setForceMouseEvents=function(t){v=t}}.call(this),function(){"use strict";var t=function(t){var e=t.getBoundingClientRect(),n=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,r=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,l=e.top+s-r,u=e.left+o-a;return{top:Math.round(l),left:Math.round(u)}},e=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},n=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),i=n>-1&&9>n,s=function(t){if(i)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=r(t),n=o(e,0);return[n.pageX,n.pageY]},o=function(t,e){return t.item?t.item(e):t[e]},r=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},a={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select"},l=["stop","start","drag","drop","over","out"],u=function(){},c=function(){return!0},h=function(t,e,n){for(var i=0;i<t.length;i++)t[i]!=n&&e(t[i])},d=function(t,e,n,i){h(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(i,e)})},p=function(t,e){if(null!=t){t="string"!=typeof t&&null==t.tagName&&null!=t.length?t:[t];for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},f=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},m=function(t,n,i){var s=t.srcElement||t.target;return!e(s,i.getInputFilterSelector(),n)},g=function(t,e,n,i){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=y();var s=!0;return this.setEnabled=function(t){s=t},this.isEnabled=function(){return s},this.toggleEnabled=function(){s=!s},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var e={};p(this.scopes,function(t){e[t]=!0}),p(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.removeScope=function(t){var e={};p(this.scopes,function(t){e[t]=!0}),p(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.toggleScope=function(t){var e={};p(this.scopes,function(t){e[t]=!0}),p(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},v=function(n,i,o){this._class=o.draggable;var r=g.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var a=[0,0],l=null,u=!1,h=!1!==this.params.consumeStartEvent,p=this.el,v=this.params.clone;this.params.scroll,i.multipleDrop;var b=i.snapThreshold||5,_=function(t,e,n,i,s){i=i||b,s=s||b;var o=Math.floor(t[0]/e),r=e*o,a=r+e,l=Math.abs(t[0]-r)<=i?r:Math.abs(a-t[0])<=i?a:t[0],u=Math.floor(t[1]/n),c=n*u,h=c+n;return[l,Math.abs(t[1]-c)<=s?c:Math.abs(h-t[1])<=s?h:t[1]]};this.toGrid=function(t){return null==this.params.grid?t:_(t,this.params.grid[0],this.params.grid[1])},this.snap=function(t,e){if(null!=p){t=t||(this.params.grid?this.params.grid[0]:50),e=e||(this.params.grid?this.params.grid[1]:50);var n=this.params.getPosition(p);this.params.setPosition(p,_(n,t,e,t,e))}},this.constrain="function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment?function(t){return[Math.max(0,Math.min(D.w-this.size[0],t[0])),Math.max(0,Math.min(D.h-this.size[1],t[1]))]}:function(t){return t};var w=function(t){return"function"==typeof t?(t._katavorioId=y(),t._katavorioId):t},x={},C=function(t){for(var e in x){var n=x[e],i=n[0](t);if(n[1]&&(i=!i),!i)return!1}return!0},k=this.setFilter=function(t,i){if(t){var s=w(t);x[s]=[function(i){var s,o=i.srcElement||i.target;return"string"==typeof t?s=e(o,t,n):"function"==typeof t&&(s=t(i,n)),s},!1!==i]}};this.addFilter=k,this.removeFilter=function(t){var e="function"==typeof t?t._katavorioId:t;delete x[e]},this.clearAllFilters=function(){x={}},this.canDrag=this.params.canDrag||c;var D,S=[],E=[];this.downListener=function(e){if((this.rightButtonCanDrag||3!==e.which&&2!==e.button)&&this.isEnabled()&&this.canDrag())if(C(e)&&m(e,this.el,this.k)){if(v){p=this.el.cloneNode(!0),p.setAttribute("id",null),p.style.position="absolute";var n=t(this.el);p.style.left=n.left+"px",p.style.top=n.top+"px",document.body.appendChild(p)}else p=this.el;h&&f(e),a=s(e),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),r.markSelection(this),this.params.addClass(document.body,o.noSelect)}else this.params.consumeFilteredEvents&&f(e)}.bind(this),this.moveListener=function(t){if(a){if(!u){if(!1!==T("start",{el:this.el,pos:l,e:t,drag:this})){if(!a)return;this.mark(!0),u=!0}}if(a){E.length=0;var e=s(t),n=e[0]-a[0],i=e[1]-a[1],o=this.params.ignoreZoom?1:r.getZoom();n/=o,i/=o,this.moveBy(n,i,t),r.updateSelection(n,i,this)}}}.bind(this),this.upListener=function(t){a&&(a=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,o.noSelect),this.unmark(t),r.unmarkSelection(this,t),this.stop(t),r.notifySelectionDragStop(this,t),u=!1,v&&(p&&p.parentNode&&p.parentNode.removeChild(p),p=null))}.bind(this),this.getFilters=function(){return x},this.abort=function(){null!=a&&this.upListener()},this.getDragElement=function(){return p||this.el};var P={start:[],drag:[],stop:[],over:[],out:[]};i.events.start&&P.start.push(i.events.start),i.events.stop&&P.stop.push(i.events.stop),i.events.drag&&P.drag.push(i.events.drag),this.on=function(t,e){P[t]&&P[t].push(e)};var T=function(t,e){if(P[t])for(var n=0;n<P[t].length;n++)try{P[t][n](e)}catch(t){}};this.notifyStart=function(t){T("start",{el:this.el,pos:this.params.getPosition(p),e:t,drag:this})},this.stop=function(t,e){if(e||u){var n=[],i=r.getSelection(),s=this.params.getPosition(p);if(i.length>1)for(var o=0;o<i.length;o++){var a=this.params.getPosition(i[o].el);n.push([i[o].el,{left:a[0],top:a[1]},i[o]])}else n.push([p,{left:s[0],top:s[1]},this]);T("stop",{el:p,pos:s,e:t,drag:this,selection:n})}},this.mark=function(t){if(l=this.params.getPosition(p),this.size=this.params.getSize(p),S=r.getMatchingDroppables(this),d(S,!0,!1,this),this.params.addClass(p,this.params.dragClass||o.drag),this.params.constrain||this.params.containment){var e=this.params.getSize(p.parentNode);D={w:e[0],h:e[1]}}t&&r.notifySelectionDragStart(this)},this.unmark=function(t){d(S,!1,!0,this),this.params.removeClass(p,this.params.dragClass||o.drag),S.length=0;for(var e=0;e<E.length;e++){if(!0===E[e].drop(this,t))break}},this.moveBy=function(t,e,n){E.length=0;var i=this.constrain(this.toGrid([l[0]+t,l[1]+e]),p),s={x:i[0],y:i[1],w:this.size[0],h:this.size[1]};this.params.setPosition(p,i);for(var o=0;o<S.length;o++){var r={x:S[o].position[0],y:S[o].position[1],w:S[o].size[0],h:S[o].size[1]};this.params.intersects(s,r)&&S[o].canDrop(this)?(E.push(S[o]),S[o].setHover(this,!0,n)):S[o].isHover()&&S[o].setHover(this,!1,n)}T("drag",{el:this.el,pos:i,e:n,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?k(this.params.handle,!1):k(this.params.filter,this.params.filterExclude)},b=function(t,e,n){this._class=n.droppable,this.params=e||{},this._activeClass=e.activeClass||n.active,this._hoverClass=e.hoverClass||n.hover,g.apply(this,arguments);var i=!1;this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(){return!0},this.isHover=function(){return i},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover==t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,i!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),i=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,i=null}},y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random();return("x"==t?e:8|3&e).toString(16)})},_=function(t){return null==t?null:(t="string"==typeof t?document.getElementById(t):t,null==t?null:(t._katavorio=t._katavorio||y(),t))};this.Katavorio=function(t){var e=[],n={};this._dragsByScope={},this._dropsByScope={};var i=1,s=function(t,e){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)},o=function(e,n){for(var i=0,s=0;s<e.scopes.length;s++)if(n[e.scopes[s]]){var o=t.indexOf(n[e.scopes[s]],e);-1!=o&&(n[e.scopes[s]].splice(o,1),i++)}return i>0},r=(this.getMatchingDroppables=function(t){for(var e=[],n={},i=0;i<t.scopes.length;i++){var s=this._dropsByScope[t.scopes[i]];if(s)for(var o=0;o<s.length;o++)s[o].canDrop(t)&&!n[s[o].uuid]&&s[o].el!==t.el&&(n[s[o].uuid]=!0,e.push(s[o]))}return e},function(e){e=e||{};var n={events:{}};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];for(var i=0;i<l.length;i++)n.events[l[i]]=e[l[i]]||u;return n.katavorio=this,n}.bind(this)),c=function(t,e){for(var n=0;n<l.length;n++)e[l[n]]&&t.on(l[n],e[l[n]])}.bind(this),d={},f=t.css||{},m=t.scope||"katavorio-drag-scope";for(var g in a)d[g]=a[g];for(var g in f)d[g]=f[g];var y=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return y},this.setInputFilterSelector=function(t){return y=t,this},this.draggable=function(e,n){var i=[];return p(e,function(e){if(null!=(e=_(e)))if(null==e._katavorioDrag){var o=r(n);e._katavorioDrag=new v(e,o,d,m),s(e._katavorioDrag,this._dragsByScope),i.push(e._katavorioDrag),t.addClass(e,d.draggable)}else c(e._katavorioDrag,n)}.bind(this)),i},this.droppable=function(e,n){var i=[];return p(e,function(e){null!=(e=_(e))&&(e._katavorioDrop=new b(e,r(n),d,m),s(e._katavorioDrop,this._dropsByScope),i.push(e._katavorioDrop),t.addClass(e,d.droppable))}.bind(this)),i},this.select=function(i){return p(i,function(){var i=_(this);i&&i._katavorioDrag&&(n[i._katavorio]||(e.push(i._katavorioDrag),n[i._katavorio]=[i,e.length-1],t.addClass(i,d.selected)))}),this},this.deselect=function(i){return p(i,function(){var i=_(this);if(i&&i._katavorio){if(n[i._katavorio]){for(var s=[],o=0;o<e.length;o++)e[o].el!==i&&s.push(e[o]);e=s,delete n[i._katavorio],t.removeClass(i,d.selected)}}}),this},this.deselectAll=function(){for(var i in n){var s=n[i];t.removeClass(s[0],d.selected)}e.length=0,n={}},this.markSelection=function(t){h(e,function(t){t.mark()},t)},this.unmarkSelection=function(t,n){h(e,function(t){t.unmark(n)},t)},this.getSelection=function(){return e.slice(0)},this.updateSelection=function(t,n,i){h(e,function(e){e.moveBy(t,n)},i)},this.notifySelectionDragStop=function(t,n){h(e,function(t){t.stop(n,!0)},t)},this.notifySelectionDragStart=function(t,n){h(e,function(t){t.notifyStart(n)},t)},this.setZoom=function(t){i=t},this.getZoom=function(){return i};var w=function(t,e,n,i){null!=t&&(o(t,n),t[i](e),s(t,n))};p(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(e,n){w(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),w(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(e,n){w(e._katavorioDrag,n,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(e,n){w(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)h(this._dragsByScope[n],function(n){n.snap(t,e)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var x=function(t,e,n){t=_(t),t[e]&&(o(t[e],n)&&t[e].destroy(),t[e]=null)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t){x(t,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(t){x(t,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},e=[],n={}}}}.call(this),function(){var t=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e=function(t){return"[object Number]"===Object.prototype.toString.call(t)},n=function(t){return"string"==typeof t},i=function(t){return"boolean"==typeof t},s=function(t){return null==t},o=function(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)},r=function(t){return"[object Date]"===Object.prototype.toString.call(t)},a=function(t){return"[object Function]"===Object.prototype.toString.call(t)},l=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},u=this,c=u.jsPlumbUtil={isArray:t,isString:n,isBoolean:i,isNull:s,isObject:o,isDate:r,isFunction:a,isEmpty:l,isNumber:e,clone:function(e){if(n(e))return""+e;if(i(e))return!!e;if(r(e))return new Date(e.getTime());if(a(e))return e;if(t(e)){for(var s=[],l=0;l<e.length;l++)s.push(this.clone(e[l]));return s}if(o(e)){var u={};for(var c in e)u[c]=this.clone(e[c]);return u}return e},merge:function(e,s,r){var a,l,u={};for(r=r||[],l=0;l<r.length;l++)u[r[l]]=!0;var c=this.clone(e);for(l in s)if(null==c[l])c[l]=s[l];else if(n(s[l])||i(s[l]))u[l]?(a=[],a.push.apply(a,t(c[l])?c[l]:[c[l]]),a.push.apply(a,t(s[l])?s[l]:[s[l]]),c[l]=a):c[l]=s[l];else if(t(s[l]))a=[],t(c[l])&&a.push.apply(a,c[l]),a.push.apply(a,s[l]),c[l]=a;else if(o(s[l])){o(c[l])||(c[l]={});for(var h in s[l])c[l][h]=s[l][h]}return c},replace:function(t,e,n){if(null!=t){var i=t,s=i;return e.replace(/([^\.])+/g,function(t,e,i,o){var r=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=i+t.length>=o.length,l=function(){return s[r[1]]||function(){return s[r[1]]=[],s[r[1]]}()};if(a)r?l()[r[3]]=n:s[t]=n;else if(r){var u=l();s=u[r[3]]||function(){return u[r[3]]={},u[r[3]]}()}else s=s[t]||function(){return s[t]={},s[t]}()}),t}},functionChain:function(t,e,n){for(var i=0;i<n.length;i++){var s=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(s===e)return s}return t},populate:function(e,i){var s=function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var n=0;n<e.length;n++){var s=i[e[n].substring(2,e[n].length-1)]||"";null!=s&&(t=t.replace(e[n],s))}return t},r=function(e){if(null!=e){if(n(e))return s(e);if(t(e)){for(var i=[],a=0;a<e.length;a++)i.push(r(e[a]));return i}if(o(e)){var l={};for(var u in e)l[u]=r(e[u]);return l}return e}};return r(e)},findWithFunction:function(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},indexOf:function(t,e){return t.indexOf?t.indexOf(e):c.findWithFunction(t,function(t){return t==e})},removeWithFunction:function(t,e){var n=c.findWithFunction(t,e);return n>-1&&t.splice(n,1),-1!=n},remove:function(t,e){var n=c.indexOf(t,e);return n>-1&&t.splice(n,1),-1!=n},
addWithFunction:function(t,e,n){-1==c.findWithFunction(t,n)&&t.push(e)},addToList:function(t,e,n,i){var s=t[e];return null==s&&(s=[],t[e]=s),s[i?"unshift":"push"](n),s},extend:function(e,n){var i;for(n=t(n)?n:[n],i=0;i<n.length;i++)for(var s in n[i].prototype)n[i].prototype.hasOwnProperty(s)&&(e.prototype[s]=n[i].prototype[s]);var o=function(t,e){return function(){for(i=0;i<n.length;i++)n[i].prototype[t]&&n[i].prototype[t].apply(this,arguments);return e.apply(this,arguments)}};if(arguments.length>2)for(i=2;i<arguments.length;i++)!function(t){for(var n in t)e.prototype[n]=o(n,t[n])}(arguments[i]);return e},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random();return("x"==t?e:8|3&e).toString(16)})},logEnabled:!0,log:function(){if(c.logEnabled&&"undefined"!=typeof console)try{arguments[arguments.length-1]}catch(t){}},wrap:function(t,e,n){return t=t||function(){},e=e||function(){},function(){var i=null;try{i=e.apply(this,arguments)}catch(t){c.log("jsPlumb function failed : "+t)}if(null==n||i!==n)try{i=t.apply(this,arguments)}catch(t){c.log("wrapped function failed : "+t)}return i}}};c.EventGenerator=function(){var t={},e=!1,n={ready:!0};this.bind=function(e,n,i){var s=function(e){c.addToList(t,e,n,i),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[jsPlumbUtil.uuid()]=e};if("string"==typeof e)s(e);else if(null!=e.length)for(var o=0;o<e.length;o++)s(e[o]);return this},this.fire=function(i,s,o){if(!e&&t[i]){var r=t[i].length,a=0,l=!1,u=null;if(!this.shouldFireEvent||this.shouldFireEvent(i,s,o))for(;!l&&r>a&&!1!==u;){if(n[i])t[i][a].apply(this,[s,o]);else try{u=t[i][a].apply(this,[s,o])}catch(t){c.log("jsPlumb: fire failed for event "+i+" : "+t)}a++,(null==t||null==t[i])&&(l=!0)}}return this},this.unbind=function(e,n){if(0===arguments.length)t={};else if(1===arguments.length){if("string"==typeof e)delete t[e];else if(e.__jsPlumb){var i;for(var s in e.__jsPlumb)i=e.__jsPlumb[s],c.remove(t[i]||[],e)}}else 2===arguments.length&&c.remove(t[e]||[],n);return this},this.getListener=function(e){return t[e]},this.setSuspendEvents=function(t){e=t},this.isSuspendEvents=function(){return e},this.silently=function(t){this.setSuspendEvents(!0);try{t()}catch(t){jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t)t[e]=null}},c.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},s=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,s.prototype=new i,s})}.call(this),function(){"use strict";var t=this,e=t.jsPlumbUtil;e.ieVersion=/MSIE\s([\d.]+)/.test(navigator.userAgent)?new Number(RegExp.$1):-1,e.oldIE=e.ieVersion>-1&&e.ieVersion<9,e.matchesSelector=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},e.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},e.sizeElement=function(t,e,n,i,s){t&&(t.style.height=s+"px",t.height=s,t.style.width=i+"px",t.width=i,t.style.left=e+"px",t.style.top=n+"px")}}.call(this),function(){"use strict";var t,e=this,n=[],i=e.jsPlumbUtil,s=function(){return""+(new Date).getTime()},o=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};g.extend(e,t._jsPlumb.paintStyle),g.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fillStyle&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},r=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],a=function(t,e,n,i){var s=t.getAttachedElements();if(s)for(var o=0,r=s.length;r>o;o++)i&&i==s[o]||s[o].setHover(e,!0,n)},l=function(t){return null==t?null:t.split(" ")},u=function(t,e,n){for(var i in e)t[i]=n},c=function(t,e,n){if(t.getDefaultType){var s=t.getTypeDescriptor(),o={},r=t.getDefaultType(),a=i.merge({},r);u(o,r,"__default");for(var l=0,c=t._jsPlumb.types.length;c>l;l++){var h=t._jsPlumb.types[l];if("__default"!==h){var d=t._jsPlumb.instance.getType(h,s);null!=d&&(a=i.merge(a,d,["cssClass"]),u(o,d,h))}}e&&(a=i.populate(a,e)),t.applyType(a,n,o),n||t.repaint()}},h=window.jsPlumbUIComponent=function(t){jsPlumbUtil.EventGenerator.apply(this,arguments);var e=this,n=arguments,s=e.idPrefix,o=s+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return o};var r=t.overlays||[],a={};if(this.defaultOverlayKeys){for(var l=0;l<this.defaultOverlayKeys.length;l++)Array.prototype.push.apply(r,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[l]]||[]);for(l=0;l<r.length;l++){var u=g.convertToFullOverlaySpec(r[l]);a[u[1].id]=u}}var c={overlays:a,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return c},this.appendToDefaultType=function(t){for(var e in t)c[e]=t[e]},t.events)for(l in t.events)e.bind(l,t.events[l]);this.clone=function(){var t={};return this.constructor.apply(t,n),t}.bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(t){i.log("jsPlumb: beforeDetach callback failed",t)}return e},this.isDropAllowed=function(t,e,n,s,o,r,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:n,connection:s,dropEndpoint:o,source:r,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:n,connection:s,dropEndpoint:o,source:r,target:a})}catch(t){i.log("jsPlumb: beforeDrop callback failed",t)}return l};var h=[];this.setListenerComponent=function(t){for(var e=0;e<h.length;e++)h[e][3]=t}},d=function(t,e){var n=t._jsPlumb.types[e],i=t._jsPlumb.instance.getType(n,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};jsPlumbUtil.extend(h,jsPlumbUtil.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return g.getClass(this.canvas)},hasClass:function(t){return g.hasClass(this.canvas,t)},addClass:function(t){g.addClass(this.canvas,t)},removeClass:function(t){g.removeClass(this.canvas,t)},updateClasses:function(t,e){g.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=l(t)||[],c(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){c(this,t,e)},hasType:function(t){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,t)},addType:function(t,e,n){var i=l(t),s=!1;if(null!=i){for(var o=0,r=i.length;r>o;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),s=!0);s&&c(this,e,n)}},removeType:function(t,e){var n=l(t),s=!1,o=function(t){var e=i.indexOf(this._jsPlumb.types,t);return-1!=e&&(d(this,e),this._jsPlumb.types.splice(e,1),!0)}.bind(this);if(null!=n){for(var r=0,a=n.length;a>r;r++)s=o(n[r])||s;s&&c(this,null,e)}},clearTypes:function(t){for(var e=this._jsPlumb.types.length,n=0;e>n;n++)d(this,0),this._jsPlumb.types.splice(0,1);c(this,{},t)},toggleType:function(t,e,n){var i=l(t);if(null!=i){for(var s=0,o=i.length;o>s;s++){var r=jsPlumbUtil.indexOf(this._jsPlumb.types,i[s]);-1!=r?(d(this,r),this._jsPlumb.types.splice(r,1)):this._jsPlumb.types.push(i[s])}c(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,o(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=t,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var i=t?"addClass":"removeClass";this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||s(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&a(this,t,s(),this)}}});var p=0,f=function(){var t=p+1;return p++,t},m=window.jsPlumbInstance=function(e){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},e&&g.extend(this.Defaults,e),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},jsPlumbUtil.EventGenerator.apply(this);var o=this,a=f(),l=o.bind,u={},c=1,d=function(t){if(null==t)return null;if(3==t.nodeType||8==t.nodeType)return{el:t,text:!0};var e=o.getElement(t);return{el:e,id:jsPlumbUtil.isString(t)&&null==e?t:K(e)}};this.getInstanceIndex=function(){return a},this.setZoom=function(t,e){return jsPlumbUtil.oldIE||(c=t,o.fire("zoom",c),e&&o.repaintEverything()),!jsPlumbUtil.oldIE},this.getZoom=function(){return c};for(var p in this.Defaults)u[p]=this.Defaults[p];var m,v=[];this.unbindContainer=function(){if(null!=m&&v.length>0)for(var t=0;t<v.length;t++)o.off(m,v[t][0],v[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)});var e=m;m=t,v.length=0;for(var n=function(t,e){var n=e.srcElement||e.target,i=(n&&n.parentNode?n.parentNode._jsPlumb:null)||(n?n._jsPlumb:null)||(n&&n.parentNode&&n.parentNode.parentNode?n.parentNode.parentNode._jsPlumb:null);i&&(i.fire(t,i,e),o.fire(t,i.component||i,e))},i=function(t,e,n){v.push([t,n]),o.on(m,t,e,n)},s=0;s<r.length;s++)!function(t){i(t,"._jsPlumb_connector > *",function(e){n(t,e)}),i(t,"._jsPlumb_endpoint, ._jsPlumb_endpoint > *, ._jsPlumb_endpoint svg *",function(e){n(t,e)}),i(t,"._jsPlumb_overlay, ._jsPlumb_overlay *",function(e){n(t,e)})}(r[s]);for(var a in C){var l=C[a].el;l.parentNode===e&&(e.removeChild(l),m.appendChild(l))}},this.getContainer=function(){return m},this.bind=function(t,e){"ready"===t&&y?e():l.apply(o,[t,e])},o.importDefaults=function(t){for(var e in t)o.Defaults[e]=t[e];return t.Container&&o.setContainer(t.Container),o},o.restoreDefaults=function(){return o.Defaults=g.extend({},u),o};var b=null,y=!1,_=[],w={},x={},C={},k={},D={},S={},E=!1,P=[],T=!1,N=null,M=this.Defaults.Scope,O=null,A=1,j=function(){return""+A++},I=function(t,e){m?m.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}.bind(this),F=function(t,e,n,i){if(!g.headless&&!T){var r=K(t),a=o.getDragManager().getElementsForDraggable(r);null==n&&(n=s());var l=gt({elId:r,offset:e,recalc:!1,timestamp:n});if(a)for(var u in a)gt({elId:a[u].id,offset:{left:l.o.left+a[u].offset.left,top:l.o.top+a[u].offset.top},recalc:!1,timestamp:n});if(o.anchorManager.redraw(r,e,n,null,i),a)for(var c in a)o.anchorManager.redraw(a[c].id,e,n,a[c].offset,i,!0)}},L=function(t){return x[t]},W=function(t,e,n,s){if(!g.headless){if(null!=e&&e&&g.isDragSupported(t,o)){var r=n||o.Defaults.DragOptions;if(r=g.extend({},r),g.isAlreadyDraggable(t,o))n.force&&o.initDraggable(t,r);else{var a=g.dragEvents.drag,l=g.dragEvents.stop,u=g.dragEvents.start,c=o.getElement(t),h=o.getDragManager().getDragAncestor(c),d={left:0,top:0},p=d,f=!1;mt(s,t),r[u]=i.wrap(r[u],function(){return p=null!=h?o.getOffset(h):d,o.setHoverSuspended(!0),o.select({source:t}).addClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:t}).addClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.setConnectionBeingDragged(!0),r.canDrag?n.canDrag():void 0},!1),r[a]=i.wrap(r[a],function(){var e=o.getUIPosition(arguments,o.getZoom());e.left+=p.left,e.top+=p.top,F(t,e,null,!0),f&&o.addClass(t,"jsPlumb_dragged"),f=!0}),r[l]=i.wrap(r[l],function(){var e=[];e=1==arguments.length&&arguments[0].selection&&arguments[0].selection.length>0?arguments[0].selection:[[t,o.getUIPosition(arguments,o.getZoom(),!0)]];for(var n=0;n<e.length;n++)!function(t){F(t[0],t[1]),o.removeClass(t[0],"jsPlumb_dragged"),o.select({source:t[0]}).removeClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:t[0]}).removeClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.getDragManager().dragEnded(t[0])}(e[n]);f=!1,o.setHoverSuspended(!1),o.setConnectionBeingDragged(!1)});var m=K(t);S[m]=!0;var v=S[m];r.disabled=null!=v&&!v,o.initDraggable(t,r),o.getDragManager().register(t)}}}},H=function(t,e){for(var n=t.scope.split(/\s/),i=e.scope.split(/\s/),s=0;s<n.length;s++)for(var o=0;o<i.length;o++)if(i[o]==n[s])return!0;return!1},R=function(t,e){var n=g.extend({},t);if(e&&g.extend(n,e),n.source&&(n.source.endpoint?n.sourceEndpoint=n.source:n.source=o.getElement(n.source)),n.target&&(n.target.endpoint?n.targetEndpoint=n.target:n.target=o.getElement(n.target)),t.uuids&&(n.sourceEndpoint=L(t.uuids[0]),n.targetEndpoint=L(t.uuids[1])),n.sourceEndpoint&&n.sourceEndpoint.isFull())return void i.log(o,"could not add connection; source endpoint is full");if(n.targetEndpoint&&n.targetEndpoint.isFull())return void i.log(o,"could not add connection; target endpoint is full");if(!n.type&&n.sourceEndpoint&&(n.type=n.sourceEndpoint.connectionType),n.sourceEndpoint&&n.sourceEndpoint.connectorOverlays){n.overlays=n.overlays||[];for(var s=0,r=n.sourceEndpoint.connectorOverlays.length;r>s;s++)n.overlays.push(n.sourceEndpoint.connectorOverlays[s])}!n["pointer-events"]&&n.sourceEndpoint&&n.sourceEndpoint.connectorPointerEvents&&(n["pointer-events"]=n.sourceEndpoint.connectorPointerEvents);var a=function(t,e){var n=g.extend({},t);for(var i in e)e[i]&&(n[i]=e[i]);return n},l=function(t,e,i){return o.addEndpoint(t,a(e,{anchor:n.anchors?n.anchors[i]:n.anchor,endpoint:n.endpoints?n.endpoints[i]:n.endpoint,paintStyle:n.endpointStyles?n.endpointStyles[i]:n.endpointStyle,hoverPaintStyle:n.endpointHoverStyles?n.endpointHoverStyles[i]:n.endpointHoverStyle}))},u=function(t,e,i){if(n[t]&&!n[t].endpoint&&!n[t+"Endpoint"]&&!n.newConnection){var s=K(n[t]),o=i[s];if(o){if(!o.enabled)return!1;var r=null!=o.endpoint&&o.endpoint._jsPlumb?o.endpoint:l(n[t],o.def,e);if(r.isFull())return!1;n[t+"Endpoint"]=r,r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,o.uniqueEndpoint&&(o.endpoint?r.finalEndpoint=o.endpoint:(o.endpoint=r,r._deleteOnDetach=!1,r._doNotDeleteOnDetach=!0))}}};return!1!==u("source",0,this.sourceEndpointDefinitions)&&!1!==u("target",1,this.targetEndpointDefinitions)?(n.sourceEndpoint&&n.targetEndpoint&&(H(n.sourceEndpoint,n.targetEndpoint)||(n=null)),n):void 0}.bind(o),z=function(t){var e=o.Defaults.ConnectionType||o.getDefaultConnectionType();t._jsPlumb=o,t.newConnection=z,t.newEndpoint=B,t.endpointsByUUID=x,t.endpointsByElement=w,t.finaliseConnection=Y,t.id="con_"+j();var n=new e(t);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},Y=o.finaliseConnection=function(t,e,n,i){if(e=e||{},t.suspendedEndpoint||_.push(t),t.endpoints[0].isTemporarySource=!1,(null==t.suspendedEndpoint||i)&&o.anchorManager.newConnection(t),F(t.source),!e.doNotFireConnectionEvent&&!1!==e.fireEvent){var s={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};o.fire("connection",s,n)}},B=function(t,e){var n=o.Defaults.EndpointType||g.Endpoint,i=g.extend({},t);i._jsPlumb=o,i.newConnection=z,i.newEndpoint=B,i.endpointsByUUID=x,i.endpointsByElement=w,i.fireDetachEvent=Q,i.elementId=e||K(i.source);var s=new n(i);return s.id="ep_"+j(),mt(i.elementId,i.source),g.headless||o.getDragManager().endpointAdded(i.source,e),s},q=function(t,e,n){var i=w[t];if(i&&i.length)for(var s=0,o=i.length;o>s;s++){for(var r=0,a=i[s].connections.length;a>r;r++){var l=e(i[s].connections[r]);if(l)return}n&&n(i[s])}},U=function(t,e){return g.each(t,function(t){o.isDragSupported(t)&&(S[o.getAttribute(t,"id")]=e,o.setElementDraggable(t,e))})},V=function(t,e,n){e="block"===e;var i=null;n&&(i=e?function(t){t.setVisible(!0,!0,!0)}:function(t){t.setVisible(!1,!0,!0)});var s=d(t);q(s.id,function(t){if(e&&n){var i=t.sourceId===s.id?1:0;t.endpoints[i].isVisible()&&t.setVisible(!0)}else t.setVisible(e)},i)},$=function(t){return g.each(t,function(t){var e=o.getAttribute(t,"id"),n=null!=S[e]&&S[e];return n=!n,S[e]=n,o.setDraggable(t,n),n}.bind(this))},X=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),q(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},G=function(t){var e=k[t];return e?{o:e,s:P[t]}:gt({elId:t})},K=function(t,e,n){if(jsPlumbUtil.isString(t))return t;if(null==t)return null;var i=o.getAttribute(t,"id");return i&&"undefined"!==i||(2==arguments.length&&void 0!==arguments[1]?i=e:(1==arguments.length||3==arguments.length&&!arguments[2])&&(i="jsPlumb_"+a+"_"+j()),n||o.setAttribute(t,"id",i)),i};this.setConnectionBeingDragged=function(t){E=t},this.isConnectionBeingDragged=function(){return E},this.getManagedElements=function(){return C},this.connectorClass="_jsPlumb_connector",this.connectorOutlineClass="_jsPlumb_connector_outline",this.connectedClass="_jsPlumb_connected",this.hoverClass="_jsPlumb_hover",this.endpointClass="_jsPlumb_endpoint",this.endpointConnectedClass="_jsPlumb_endpoint_connected",this.endpointFullClass="_jsPlumb_endpoint_full",this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed",this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden",this.overlayClass="_jsPlumb_overlay",this.draggingClass="_jsPlumb_dragging",this.elementDraggingClass="_jsPlumb_element_dragging",this.sourceElementDraggingClass="_jsPlumb_source_element_dragging",this.targetElementDraggingClass="_jsPlumb_target_element_dragging",this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor",this.hoverSourceClass="_jsPlumb_source_hover",this.hoverTargetClass="_jsPlumb_target_hover",this.dragSelectClass="_jsPlumb_drag_select",this.Anchors={},this.Connectors={svg:{},vml:{}},this.Endpoints={svg:{},vml:{}},this.Overlays={svg:{},vml:{}},this.ConnectorRenderers={},this.SVG="svg",this.VML="vml",this.addEndpoint=function(t,e,n){n=n||{};var s=g.extend({},n);g.extend(s,e),s.endpoint=s.endpoint||o.Defaults.Endpoint,s.paintStyle=s.paintStyle||o.Defaults.EndpointStyle;for(var r=[],a=i.isArray(t)||null!=t.length&&!i.isString(t)?t:[t],l=0,u=a.length;u>l;l++){s.source=o.getElement(a[l]),pt(s.source);var c=K(s.source),h=B(s,c),d=mt(c,s.source).info.o;i.addToList(w,c,h),T||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:P[c],element:h,timestamp:N}),timestamp:N}),r.push(h),h._doNotDeleteOnDetach=!0}return 1==r.length?r[0]:r},this.addEndpoints=function(t,e,n){for(var s=[],r=0,a=e.length;a>r;r++){var l=o.addEndpoint(t,e[r],n);i.isArray(l)?Array.prototype.push.apply(s,l):s.push(l)}return s},this.animate=function(t,e,n){if(!this.animationSupported)return!1;n=n||{};var s=o.getElement(t),r=K(s),a=g.animEvents.step,l=g.animEvents.complete;n[a]=i.wrap(n[a],function(){o.revalidate(r)}),n[l]=i.wrap(n[l],function(){o.revalidate(r)}),o.doAnimate(s,e,n)},this.checkCondition=function(t){var e=o.getListener(t),n=!0;if(e&&e.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var r=0,a=e.length;a>r;r++)n=n&&e[r].apply(e[r],s)}catch(e){i.log(o,"cannot check condition ["+t+"]"+e)}}return n},this.connect=function(t,e){var n,i=R(t,e);if(i){if(null==i.source&&null==i.sourceEndpoint)return void jsPlumbUtil.log("Cannot establish connection - source does not exist");if(null==i.target&&null==i.targetEndpoint)return void jsPlumbUtil.log("Cannot establish connection - target does not exist");pt(i.source),n=z(i),Y(n,i)}return n};var J=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],Z=function(t,e,n,i){var s,o,r,a=J[n],l=t[a.elId],u=(t[a.el],t.endpoints[n]),c={index:n,originalSourceId:0===n?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1==n?l:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor==g.Endpoint)s=e,s.addConnection(t);else if(o=K(e),r=this[a.epDefs][o],o===t[a.elId])s=null;else if(r){if(!r.enabled)return;s=null!=r.endpoint&&r.endpoint._jsPlumb?r.endpoint:this.addEndpoint(e,r.def),r.uniqueEndpoint&&(r.endpoint=s),s._doNotDeleteOnDetach=!1,s._deleteOnDetach=!0,s.addConnection(t)}else s=t.makeEndpoint(0===n,e,o),s._doNotDeleteOnDetach=!1,s._deleteOnDetach=!0;return null!=s&&(u.detachFromConnection(t),t.endpoints[n]=s,t[a.el]=s.element,t[a.elId]=s.elementId,c[0===n?"newSourceId":"newTargetId"]=s.elementId,tt(c),i||t.repaint()),c}.bind(this);this.setSource=function(t,e,n){var i=Z(t,e,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t)},this.setTarget=function(t,e,n){var i=Z(t,e,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,e){var n="string"==typeof t?x[t]:t;return n&&o.deleteObject({endpoint:n,dontUpdateHover:e}),o},this.deleteEveryEndpoint=function(){var t=o.setSuspendDrawing(!0);for(var e in w){var n=w[e];if(n&&n.length)for(var i=0,s=n.length;s>i;i++)o.deleteEndpoint(n[i],!0)}return w={},C={},x={},k={},D={},o.anchorManager.reset(),o.getDragManager().reset(),t||o.setSuspendDrawing(!1),o};var Q=function(t,e,n){var i=o.Defaults.ConnectionType||o.getDefaultConnectionType(),s=t.constructor==i,r=s?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&o.fire("connectionDetached",r,n),o.anchorManager.connectionDetached(r)},tt=o.fireMoveEvent=function(t,e){o.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){t._jsPlumb.uuid&&(x[t._jsPlumb.uuid]=null),o.anchorManager.deleteEndpoint(t);for(var e in w){var n=w[e];if(n){for(var i=[],s=0,r=n.length;r>s;s++)n[s]!=t&&i.push(n[s]);w[e]=i}w[e].length<1&&delete w[e]}},this.detach=function(){if(0!==arguments.length){var t=o.Defaults.ConnectionType||o.getDefaultConnectionType(),e=arguments[0].constructor==t,n=2==arguments.length&&e?arguments[1]||{}:arguments[0],i=!1!==n.fireEvent,s=n.forceDetach,r=e?arguments[0]:n.connection;if(r)(s||jsPlumbUtil.functionChain(!0,!1,[[r.endpoints[0],"isDetachAllowed",[r]],[r.endpoints[1],"isDetachAllowed",[r]],[r,"isDetachAllowed",[r]],[o,"checkCondition",["beforeDetach",r]]]))&&r.endpoints[0].detach(r,!1,!0,i);else{var a=g.extend({},n);if(a.uuids)L(a.uuids[0]).detachFrom(L(a.uuids[1]),i);else if(a.sourceEndpoint&&a.targetEndpoint)a.sourceEndpoint.detachFrom(a.targetEndpoint);else{var l=K(o.getElement(a.source)),u=K(o.getElement(a.target));q(l,function(t){(t.sourceId==l&&t.targetId==u||t.targetId==l&&t.sourceId==u)&&o.checkCondition("beforeDetach",t)&&t.endpoints[0].detach(t,!1,!0,i)})}}}},this.detachAllConnections=function(t,e){e=e||{},t=o.getElement(t);var n=K(t),i=w[n];if(i&&i.length)for(var s=0,r=i.length;r>s;s++)i[s].detachAll(!1!==e.fireEvent,e.forceDetach);return o},this.detachEveryConnection=function(t){return t=t||{},o.batch(function(){for(var e in w){var n=w[e];if(n&&n.length)for(var i=0,s=n.length;s>i;i++)n[i].detachAll(!1!==t.fireEvent,t.forceDetach)}_.length=0}),o},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},n=!1!==t.fireEvent,i=!1!==t.deleteAttachedObjects,s=function(n){if(null!=n&&null==e.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.connections[n.id]=n,e.connectionCount++,i))for(var s=0;s<n.endpoints.length;s++)n.endpoints[s]._deleteOnDetach&&r(n.endpoints[s])},r=function(n){if(null!=n&&null==e.endpoints[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.endpoints[n.id]=n,e.endpointCount++,i))for(var o=0;o<n.connections.length;o++){var r=n.connections[o];s(r)}};t.connection?s(t.connection):r(t.endpoint);for(var a in e.connections){var l=e.connections[a];l._jsPlumb&&(jsPlumbUtil.removeWithFunction(_,function(t){return l.id==t.id}),Q(l,n,t.originalEvent),l.endpoints[0].detachFromConnection(l),l.endpoints[1].detachFromConnection(l),l.cleanup(!0),l.destroy(!0))}for(var u in e.endpoints){var c=e.endpoints[u];c._jsPlumb&&(o.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return e},this.draggable=function(t,e){var n,i,s;if("object"==typeof t&&t.length)for(n=0,i=t.length;i>n;n++)s=d(t[n]),s.el&&W(s.el,!0,e,s.id);else s=d(t),s.el&&W(s.el,!0,e,s.id);return o};var et=function(t,e,n,i){for(var s=0,o=t.length;o>s;s++)t[s][e].apply(t[s],n);return i(t)},nt=function(t,e,n){for(var i=[],s=0,o=t.length;o>s;s++)i.push([t[s][e].apply(t[s],n),t[s]]);return i},it=function(t,e,n){return function(){return et(t,e,arguments,n)}},st=function(t,e){return function(){return nt(t,e,arguments)}},ot=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var i=0,s=t.length;s>i;i++)n.push(d(t[i]).id);else n.push(d(t).id);return n},rt=function(t,e,n){return"*"===t||(t.length>0?-1!=jsPlumbUtil.indexOf(t,e):!n)};this.getConnections=function(t,e){t?t.constructor==String&&(t={scope:t}):t={};for(var n=t.scope||o.getDefaultScope(),i=ot(n,!0),s=ot(t.source),r=ot(t.target),a=!e&&i.length>1?{}:[],l=0,u=_.length;u>l;l++){var c=_[l];rt(i,c.scope)&&rt(s,c.sourceId)&&rt(r,c.targetId)&&function(t,n){if(!e&&i.length>1){var s=a[t];null==s&&(s=a[t]=[]),s.push(n)}else a.push(n)}(c.scope,c)}return a};var at=function(t,e){return function(n){for(var i=0,s=t.length;s>i;i++)n(t[i]);return e(t)}},lt=function(t){return function(e){return t[e]}},ut=function(t,e){var n,i,s={length:t.length,each:at(t,e),get:lt(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],r=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=o.length;i>n;n++)s[o[n]]=it(t,o[n],e);for(n=0,i=r.length;i>n;n++)s[r[n]]=st(t,r[n]);return s},ct=function(t){var e=ut(t,ct);return g.extend(e,{setDetachable:it(t,"setDetachable",ct),setReattach:it(t,"setReattach",ct),setConnector:it(t,"setConnector",ct),detach:function(){for(var e=0,n=t.length;n>e;e++)o.detach(t[e])},isDetachable:st(t,"isDetachable"),isReattach:st(t,"isReattach")})},ht=function(t){var e=ut(t,ht);return g.extend(e,{setEnabled:it(t,"setEnabled",ht),setAnchor:it(t,"setAnchor",ht),isEnabled:st(t,"isEnabled"),detachAll:function(){for(var e=0,n=t.length;n>e;e++)t[e].detachAll()},remove:function(){for(var e=0,n=t.length;n>e;e++)o.deleteObject({endpoint:t[e]})}})};this.select=function(t){return t=t||{},t.scope=t.scope||"*",ct(t.connections||o.getConnections(t,!0))},this.selectEndpoints=function(t){t=t||{},t.scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":ot(t.element),i=e?"*":ot(t.source),s=e?"*":ot(t.target),o=ot(t.scope,!0),r=[];for(var a in w){var l=rt(n,a,!0),u=rt(i,a,!0),c="*"!=i,h=rt(s,a,!0),d="*"!=s;if(l||u||h)t:for(var p=0,f=w[a].length;f>p;p++){var m=w[a][p];if(rt(o,m.scope,!0)){var g=c&&i.length>0&&!m.isSource,v=d&&s.length>0&&!m.isTarget;if(g||v)continue t;r.push(m)}}}return ht(r)},this.getAllConnections=function(){return _},this.getDefaultScope=function(){return M},this.getEndpoint=L,this.getEndpoints=function(t){return w[d(t).id]},this.getDefaultEndpointType=function(){return g.Endpoint},this.getDefaultConnectionType=function(){return g.Connection},this.getId=K,this.appendElement=I;var dt=!1;this.isHoverSuspended=function(){return dt},this.setHoverSuspended=function(t){dt=t},this.hide=function(t,e){return V(t,"none",e),o},this.idstamp=j,this.connectorsInitialized=!1,this.registerConnectorType=function(t,e){n.push([t,e])};var pt=function(t){if(!m&&t){var e=o.getElement(t);e.offsetParent&&o.setContainer(e.offsetParent)}},ft=function(){o.Defaults.Container&&o.setContainer(o.Defaults.Container)},mt=o.manage=function(t,e,n){return C[t]||(C[t]={el:e,endpoints:[],connections:[]},C[t].info=gt({elId:t,timestamp:N}),n||o.fire("manageElement",{id:t,info:C[t].info,el:e})),C[t]},gt=this.updateOffset=function(t){var e,n=t.timestamp,i=t.recalc,s=t.offset,r=t.elId;return T&&!n&&(n=N),!i&&n&&n===D[r]?{o:t.offset||k[r],s:P[r]}:(i||!s&&null==k[r]?null!=(e=C[r]?C[r].el:null)&&(P[r]=o.getSize(e),k[r]=o.getOffset(e),D[r]=n):(k[r]=s||k[r],null==P[r]&&null!=(e=C[r].el)&&(P[r]=o.getSize(e)),D[r]=n),k[r]&&!k[r].right&&(k[r].right=k[r].left+P[r][0],k[r].bottom=k[r].top+P[r][1],k[r].width=P[r][0],k[r].height=P[r][1],k[r].centerx=k[r].left+k[r].width/2,k[r].centery=k[r].top+k[r].height/2),{o:k[r],s:P[r]})};this.init=function(){t=g.getRenderModes();if(!g.connectorsInitialized){for(var e=0;e<n.length;e++)for(var i=0;i<t.length;i++)!function(t,e,n){g.Connectors[t][e]=function(){n.apply(this,arguments),g.ConnectorRenderers[t].apply(this,arguments)},jsPlumbUtil.extend(g.Connectors[t][e],[n,g.ConnectorRenderers[t]])}(t[i],n[e][1],n[e][0]);g.connectorsInitialized=!0}y||(ft(),o.anchorManager=new g.AnchorManager({jsPlumbInstance:o}),o.setRenderMode(o.Defaults.RenderMode),y=!0,o.fire("ready",o))}.bind(this),this.log=b,this.jsPlumbUIComponent=h,this.makeAnchor=function(){var t,e=function(t,e){if(g.Anchors[t])return new g.Anchors[t](e);if(!o.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var n=arguments[0],s=arguments[1],r=(arguments[2],null);if(n.compute&&n.getOrientation)return n;if("string"==typeof n)r=e(arguments[0],{elementId:s,jsPlumbInstance:o});else if(i.isArray(n))if(i.isArray(n[0])||i.isString(n[0]))2==n.length&&i.isObject(n[1])?i.isString(n[0])?(t=g.extend({elementId:s,jsPlumbInstance:o},n[1]),r=e(n[0],t)):(t=g.extend({elementId:s,jsPlumbInstance:o,anchors:n[0]},n[1]),r=new g.DynamicAnchor(t)):r=new g.DynamicAnchor({anchors:n,selector:null,elementId:s,jsPlumbInstance:o});else{var a={x:n[0],y:n[1],orientation:n.length>=4?[n[2],n[3]]:[0,0],offsets:n.length>=6?[n[4],n[5]]:[0,0],elementId:s,jsPlumbInstance:o,cssClass:7==n.length?n[6]:null};r=new g.Anchor(a),
r.clone=function(){return new g.Anchor(a)}}return r.id||(r.id="anchor_"+j()),r},this.makeAnchors=function(t,e,n){for(var s=[],r=0,a=t.length;a>r;r++)"string"==typeof t[r]?s.push(g.Anchors[t[r]]({elementId:e,jsPlumbInstance:n})):i.isArray(t[r])&&s.push(o.makeAnchor(t[r],e,n));return s},this.makeDynamicAnchor=function(t,e){return new g.DynamicAnchor({anchors:t,selector:e,elementId:null,jsPlumbInstance:o})},this.targetEndpointDefinitions={};var vt=function(t,e,n){t.paintStyle=t.paintStyle||n.Defaults.EndpointStyles[e]||n.Defaults.EndpointStyle,t.hoverPaintStyle=t.hoverPaintStyle||n.Defaults.EndpointHoverStyles[e]||n.Defaults.EndpointHoverStyle,t.anchor=t.anchor||n.Defaults.Anchors[e]||n.Defaults.Anchor,t.endpoint=t.endpoint||n.Defaults.Endpoints[e]||n.Defaults.Endpoint};this.sourceEndpointDefinitions={};var bt=function(t,e,n,i,s){for(var o=t.target||t.srcElement,r=!1,a=i.getSelector(e,n),l=0;l<a.length;l++)if(a[l]==o){r=!0;break}return s?!r:r},yt=function(t,e,n,s,r){var a=new h(e),l=e._jsPlumb.EndpointDropHandler({jsPlumb:o,enabled:function(){return t.def.enabled},isFull:function(){var e=o.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:s,isTarget:r,addClass:function(e){o.addClass(t.el,e)},removeClass:function(e){o.removeClass(t.el,e)},onDrop:function(t){t.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return a.isDropAllowed.apply(a,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(n){var i=t.def.endpoint;if((null==i||null==i._jsPlumb)&&(i=o.addEndpoint(t.el,e),i._mtNew=!0),e.uniqueEndpoint&&(t.def.endpoint=i),i._doNotDeleteOnDetach=!1,i._deleteOnDetach=!0,n.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder){var s=o.getUIPosition(arguments,o.getZoom()),r=o.getOffset(t.el),a=o.getSize(t.el),l=i.anchor.positionFinder(s,r,a,i.anchor.constructorParams);i.anchor.x=l[0],i.anchor.y=l[1]}return i},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?o.deleteObject({endpoint:t}):delete t._mtNew}}),u=g.dragEvents.drop;return n.scope=n.scope||e.scope||o.Defaults.Scope,n[u]=i.wrap(n[u],l,!0),r&&(n[g.dragEvents.over]=function(){return!0}),!1===e.allowLoopback&&(n.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!=t.el}),o.initDroppable(t.el,n,"internal"),l};this.makeTarget=function(t,e,n){var i=g.extend({_jsPlumb:this},n);g.extend(i,e),vt(i,1,this);for(var s=(i.deleteEndpointsOnDetach,i.maxConnections||-1),o=function(t){var e=d(t),n=e.id,o=g.extend({},i.dropOptions||{});pt(n);var r={def:i,uniqueEndpoint:i.uniqueEndpoint,maxConnections:s,enabled:!0};e.def=r,this.targetEndpointDefinitions[n]=r,yt(e,i,o,!0===i.isSource,!0)}.bind(this),r=t.length&&t.constructor!=String?t:[t],a=0,l=r.length;l>a;a++)o(r[a]);return this},this.unmakeTarget=function(t,e){var n=d(t);return g.destroyDroppable(n.el),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,e,n){var s=g.extend({_jsPlumb:this},n);g.extend(s,e),vt(s,0,this);for(var r=s.maxConnections||1,a=s.onMaxConnections,l=function(t){var e=t.id,n=this.getElement(t.el);pt(e);var l={def:s,uniqueEndpoint:s.uniqueEndpoint,maxConnections:r,enabled:!0};this.sourceEndpointDefinitions[e]=l,t.def=l;var u=g.dragEvents.stop,h=g.dragEvents.drag,d=g.extend({},s.dragOptions||{}),p=d.drag,f=d.stop,m=null,v=!1;d.scope=d.scope||s.scope,d[h]=i.wrap(d[h],function(){p&&p.apply(this,arguments),v=!1}),d[u]=i.wrap(d[u],function(){if(f&&f.apply(this,arguments),this.currentlyDragging=!1,null!=m._jsPlumb){var t=s.anchor||this.Defaults.Anchor,n=m.anchor,i=m.connections[0],r=this.makeAnchor(t,e,this),a=m.element;if(null!=r.positionFinder){var l=o.getOffset(a),u=this.getSize(a),c={left:l.left+n.x*u[0],top:l.top+n.y*u[1]},h=r.positionFinder(c,l,u,r.constructorParams);r.x=h[0],r.y=h[1]}m.setAnchor(r,!0),m.repaint(),this.repaint(m.elementId),null!=i&&this.repaint(i.targetId)}}.bind(this));var b=function(i){var l=this.getOriginalEvent(i);if(3!==i.which&&2!==i.button){var u=this.sourceEndpointDefinitions[e];if(u.enabled){if(e=this.getId(this.getElement(t.el)),s.filter){if(!1===(jsPlumbUtil.isString(s.filter)?bt(l,t.el,s.filter,this,s.filterExclude):s.filter(l,t.el)))return}var h=this.select({source:e}).length;if(u.maxConnections>=0&&u.uniqueEndpoint&&h>=u.maxConnections)return a&&a({element:t.el,maxConnections:r},i),!1;var p=g.getPositionOnElement(l,n,c),f={};g.extend(f,s),f.isTemporarySource=!0,f.anchor=[p[0],p[1],0,0],f.dragOptions=d,m=this.addEndpoint(e,f),v=!0,m._doNotDeleteOnDetach=!1,m._deleteOnDetach=!0,u.uniqueEndpoint&&(u.endpoint?m.finalEndpoint=u.endpoint:(u.endpoint=m,m._deleteOnDetach=!1,m._doNotDeleteOnDetach=!0));var b=function(){o.off(m.canvas,"mouseup",b),o.off(t.el,"mouseup",b),v&&(v=!1,o.deleteEndpoint(m))};o.on(m.canvas,"mouseup",b),o.on(t.el,"mouseup",b),o.trigger(m.canvas,"mousedown",i),jsPlumbUtil.consume(i)}}}.bind(this);this.on(t.el,"mousedown",b),l.trigger=b,s.filter&&(jsPlumbUtil.isString(s.filter)||jsPlumbUtil.isFunction(s.filter))&&o.setDragFilter(t.el,s.filter);var y=g.extend({},s.dropOptions||{});yt(t,s,y,!0,!0===s.isTarget)}.bind(this),u=t.length&&t.constructor!=String?t:[t],h=0,p=u.length;p>h;h++)l(d(u[h]));return this},this.unmakeSource=function(t,e){var n=d(t),i=this.sourceEndpointDefinitions[n.id].trigger;return i&&o.off(n.el,"mousedown",i),e||delete this.sourceEndpointDefinitions[n.id],this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)o.unmakeSource(t,!0);return this.sourceEndpointDefinitions={},this};var _t=function(t,e){e=jsPlumbUtil.isArray(e)?e:[e];for(var n=K(t),i=0;i<e.length;i++){var s=this[e[i]][n];if(s)return s.def.scope||this.Defaults.Scope}}.bind(this),wt=function(t,e,n){n=jsPlumbUtil.isArray(n)?n:[n];for(var i=K(t),s=0;s<n.length;s++){var o=this[n[s]][i];o&&(o.def.scope=e,null!=this.scopeChange&&this.scopeChange(t,i,w[i],e,n[s]))}}.bind(this);this.getScope=function(t){return _t(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return _t(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return _t(t,"targetEndpointDefinitions")},this.setScope=function(t,e){wt(t,e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.setSourceScope=function(t,e){wt(t,e,"sourceEndpointDefinitions")},this.setTargetScope=function(t,e){wt(t,e,"targetEndpointDefinitions")},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)o.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var xt=function(t,e,n,s){var o="source"==t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(i.isString(e))o[e].enabled=s?!o[e].enabled:n;else if(e.length)for(var r=0,a=e.length;a>r;r++){var l=d(e[r]);o[l.id]&&(o[l.id].enabled=s?!o[l.id].enabled:n)}else{var u=d(e).id;o[u].enabled=s?!o[u].enabled:n}return this}.bind(this),Ct=function(t,e){return i.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t){return xt("source",t,null,!0),this.isSourceEnabled(t)},this.setSourceEnabled=function(t,e){return xt("source",t,e)},this.isSource=function(t){return Ct(t,function(t){return null!=this.sourceEndpointDefinitions[d(t).id]}.bind(this))},this.isSourceEnabled=function(t){return Ct(t,function(t){var e=this.sourceEndpointDefinitions[d(t).id];return e&&!0===e.enabled}.bind(this))},this.toggleTargetEnabled=function(t){return xt("target",t,null,!0),this.isTargetEnabled(t)},this.isTarget=function(t){return Ct(t,function(t){return null!=this.targetEndpointDefinitions[d(t).id]}.bind(this))},this.isTargetEnabled=function(t){return Ct(t,function(t){var e=this.targetEndpointDefinitions[d(t).id];return e&&!0===e.enabled}.bind(this))},this.setTargetEnabled=function(t,e){return xt("target",t,e)},this.ready=function(t){o.bind("ready",t)};var kt=function(t,e){if("object"==typeof t&&t.length)for(var n=0,i=t.length;i>n;n++)e(t[n]);else e(t);return o};this.repaint=function(t,e,n){return kt(t,function(t){F(t,e,n)})},this.revalidate=function(t,e,n){return kt(t,function(t){var i=n?t:o.getId(t);o.updateOffset({elId:i,recalc:!0,timestamp:e}),o.repaint(t)})},this.repaintEverything=function(){var t,e=s();for(t in w)o.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in w)F(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];var i=function(t){var s,r,a=d(t),l=w[a.id];if(l)for(n.push(a),s=0,r=l.length;r>s;s++)o.deleteEndpoint(l[s]);if(delete w[a.id],e&&a.el&&3!=a.el.nodeType&&8!=a.el.nodeType)for(s=0,r=a.el.childNodes.length;r>s;s++)i(a.el.childNodes[s])};return i(t),this};var Dt=function(t,e){o.removeAllEndpoints(t.id,!0,e);for(var n=function(t){o.getDragManager().elementRemoved(t.id),o.anchorManager.clearFor(t.id),o.anchorManager.removeFloatingConnection(t.id),delete o.floatingConnections[t.id],delete C[t.id],delete k[t.id],t.el&&(o.removeElement(t.el),t.el._jsPlumb=null)},i=1;i<e.length;i++)n(e[i]);n(t)};this.remove=function(t,e){var n=d(t),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&o.batch(function(){Dt(n,i)},!1===e),o},this.empty=function(t,e){var n=[],i=function(t,e){var s=d(t);if(s.text)s.el.parentNode.removeChild(s.el);else if(s.el){for(;s.el.childNodes.length>0;)i(s.el.childNodes[0]);e||Dt(s,n)}};return o.batch(function(){i(t,!0)},!1===e),o},this.reset=function(){o.silently(function(){o.deleteEveryEndpoint(),o.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},_.length=0,this.doReset&&this.doReset()}.bind(this))};var St=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){o.select().each(St),o.selectEndpoints().each(St),w={},x={}},this.setDefaultScope=function(t){return M=t,o},this.setDraggable=U,this.setId=function(t,e,n){var i;jsPlumbUtil.isString(t)?i=t:(t=this.getElement(t),i=this.getId(t));var s=this.getConnections({source:i,scope:"*"},!0),o=this.getConnections({target:i,scope:"*"},!0);e=""+e,n?t=this.getElement(e):(t=this.getElement(i),this.setAttribute(t,"id",e)),w[e]=w[i]||[];for(var r=0,a=w[e].length;a>r;r++)w[e][r].setElementId(e),w[e][r].setReferenceElement(t);delete w[i],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[i],delete this.sourceEndpointDefinitions[i],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[i],delete this.targetEndpointDefinitions[i],this.anchorManager.changeId(i,e),this.getDragManager().changeId(i,e),C[e]=C[i],delete C[i];var l=function(n,i,s){for(var o=0,r=n.length;r>o;o++)n[o].endpoints[i].setElementId(e),n[o].endpoints[i].setReferenceElement(t),n[o][s+"Id"]=e,n[o][s]=t};l(s,0,"source"),l(o,1,"target"),this.repaint(e)},this.setDebugLog=function(t){b=t},this.setSuspendDrawing=function(t,e){var n=T;return T=t,N=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return T},this.getSuspendedAt=function(){return N},this.batch=function(t,e){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{t()}catch(t){i.log("Function run while suspended failed",t)}n||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=G,this.timestamp=s,this.setRenderMode=function(t){if(t!==g.SVG&&t!==g.VML)throw new TypeError("Render mode ["+t+"] not supported");return O=this.trySetRenderMode(t)},this.getRenderMode=function(){return O},this.show=function(t,e){return V(t,"block",e),o},this.toggleVisible=X,this.toggleDraggable=$,this.addListener=this.bind};jsPlumbUtil.extend(m,jsPlumbUtil.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(t,e){return this.getAttribute(g.getElement(t),e)},convertToFullOverlaySpec:function(t){return jsPlumbUtil.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||jsPlumbUtil.uuid(),t},registerConnectionType:function(t,e){if(this._connectionTypes[t]=g.extend({},e),e.overlays){for(var n={},i=0;i<e.overlays.length;i++){var s=this.convertToFullOverlaySpec(e.overlays[i]);n[s[1].id]=s}this._connectionTypes[t].overlays=n}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(t,e){this._endpointTypes[t]=g.extend({},e)},registerEndpointTypes:function(t){for(var e in t)this._endpointTypes[e]=g.extend({},t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),i=this.getId(n),s=this.getElement(e),o=this.getId(s);n.parentNode.removeChild(n),s.appendChild(n),this.getDragManager().setParent(n,i,s,o)},extend:function(t,e,n){var i;if(n)for(i=0;i<n.length;i++)t[n[i]]=e[n[i]];else for(i in e)t[i]=e[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:1}});var g=new m;"undefined"!=typeof window&&(window.jsPlumb=g),g.getInstance=function(t){var e=new m(t);return e.init(),e},g.each=function(t,e){if(null!=t)if("string"==typeof t)e(g.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(g.getElement(t[n]));else e(t)},"function"==typeof define&&(define("jsplumb",[],function(){return g}),define("jsplumbinstance",[],function(){return g.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=g)}.call(this),function(){this.jsPlumbUtil;var t=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),e=function(){if(void 0===e.vml){var t=document.body.appendChild(document.createElement("div"));t.innerHTML='<v:shape id="vml_flag1" adj="1" />';var n=t.firstChild;null!=n&&null!=n.style?(n.style.behavior="url(#default#VML)",e.vml=!n||"object"==typeof n.adj):e.vml=!1,t.parentNode.removeChild(t)}return e.vml},n=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),i=n>-1&&9>n,s=function(t,e){if(null==t)return[0,0];var n=u(t),i=l(n,0);return[i[e+"X"],i[e+"Y"]]},o=function(t){return null==t?[0,0]:i?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:s(t,"page")},r=function(t){return s(t,"screen")},a=function(t){return s(t,"client")},l=function(t,e){return t.item?t.item(e):t[e]},u=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},c=function(t){var e={},n=[],i={},s={},o={};this.register=function(r){var a=t.getId(r),l=t.getOffset(r);e[a]||(e[a]=r,n.push(r),i[a]={});var u=function(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!=e.childNodes[n].nodeType&&8!=e.childNodes[n].nodeType){var r=jsPlumb.getElement(e.childNodes[n]),c=t.getId(e.childNodes[n],null,!0);if(c&&s[c]&&s[c]>0){var h=t.getOffset(r);i[a][c]={id:c,offset:{left:h.left-l.left,top:h.top-l.top}},o[c]=a}u(e.childNodes[n])}};u(r)},this.updateOffsets=function(e){if(null!=e){var n=jsPlumb.getElement(e),s=t.getId(n),r=i[s],a=t.getOffset(n);if(r)for(var l in r)if(r.hasOwnProperty(l)){var u=jsPlumb.getElement(l),c=t.getOffset(u);i[s][l]={id:l,offset:{left:c.left-a.left,top:c.top-a.top}},o[l]=s}}},this.endpointAdded=function(n,r){r=r||t.getId(n);var a=document.body,l=n.parentNode;for(s[r]=s[r]?s[r]+1:1;null!=l&&l!=a;){var u=t.getId(l,null,!0);if(u&&e[u]){var c=t.getOffset(l);if(null==i[u][r]){var h=t.getOffset(n);i[u][r]={id:r,offset:{left:h.left-c.left,top:h.top-c.top}},o[r]=u}break}l=l.parentNode}},this.endpointDeleted=function(t){if(s[t.elementId]&&--s[t.elementId]<=0)for(var e in i)i.hasOwnProperty(e)&&i[e]&&(delete i[e][t.elementId],delete o[t.elementId])},this.changeId=function(t,e){i[e]=i[t],i[t]={},o[e]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var e=o[t];e&&(delete i[e][t],delete o[t])},this.reset=function(){e={},n=[],i={},s={}},this.dragEnded=function(e){var n=t.getId(e),i=o[n];i&&this.updateOffsets(i)},this.setParent=function(e,n,s,r){var a=o[n];if(a){i[r]||(i[r]={}),i[r][n]=i[a][n],delete i[a][n];var l=t.getOffset(s),u=t.getOffset(e);i[r][n].offset={left:u.left-l.left,top:u.top-l.top},o[n]=r}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),i=t.getId(n),s=o[i];return s?jsPlumb.getElement(s):null}},h=function(t){return null==t?null:t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},d=function(t,e){e=h(e),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e},p=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},f=function(t,e,n){e=null==e?[]:jsPlumbUtil.isArray(e)?e:e.split(/\s+/),n=null==n?[]:jsPlumbUtil.isArray(n)?n:n.split(/\s+/);var i=p(t),s=i.split(/\s+/),o=function(t,e){for(var n=0;n<e.length;n++)if(t)-1==jsPlumbUtil.indexOf(s,e[n])&&s.push(e[n]);else{var i=jsPlumbUtil.indexOf(s,e[n]);-1!=i&&s.splice(i,1)}};o(!0,e),o(!1,n),d(t,s.join(" "))};jsPlumb.extend(jsPlumbInstance.prototype,{headless:!1,pageLocation:o,screenLocation:r,clientLocation:a,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new c(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,i){return this.createElementNS(null,t,e,n,i)},createElementNS:function(t,e,n,i,s){var o,r=null==t?document.createElement(e):document.createElementNS(t,e);n=n||{};for(o in n)r.style[o]=n[o];i&&(r.className=i),s=s||{};for(o in s)r.setAttribute(o,""+s[o]);return r},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg","vml"]},isRenderModeAvailable:function(n){return{svg:t,vml:e()}[n]},trySetRenderMode:function(t){var e;if(t){t=t.toLowerCase();var n=this.isRenderModeAvailable("svg"),i=this.isRenderModeAvailable("vml");"svg"===t&&n?e="svg":i&&(e="vml")}return e},getClass:p,addClass:function(t,e){jsPlumb.each(t,function(t){f(t,e)})},hasClass:function(t,e){return t=jsPlumb.getElement(t),t.classList?t.classList.contains(e):-1!=p(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){f(t,null,e)})},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){f(t,e,n)})},setClass:function(t,e){jsPlumb.each(t,function(t){d(t,e)})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1==arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e){t=jsPlumb.getElement(t);for(var n=this.getContainer(),i={left:t.offsetLeft,top:t.offsetTop},s=e||null!=n&&t!=n&&t.offsetParent!=n?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);null!=s;)i.left+=s.offsetLeft,i.top+=s.offsetTop,o(s),s=e?s.offsetParent:s.offsetParent==n?null:s.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var r=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==r&&"fixed"!=r&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(t,e,n){var i=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},s=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||s.scrollTop,a=window.pageXOffset||o.scrollLeft||s.scrollLeft,l=o.clientTop||s.clientTop||0,u=o.clientLeft||s.clientLeft||0,c=i.top+r-l+0*n,h=i.left+a-u+0*n,d=jsPlumb.pageLocation(t),p=i.width||e.offsetWidth*n,f=i.height||e.offsetHeight*n;return[(d[0]-h)/p,(d[1]-c)/f]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];return n?parseFloat(n.substring(0,n.length-2)):void 0};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,i){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},i):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i="__label",s=function(t,n){var s={cssClass:n.cssClass,labelStyle:t.labelStyle,id:i,component:t,_jsPlumb:t._jsPlumb.instance},o=jsPlumb.extend(s,n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(o)},o=function(t,i){var s=null;if(n.isArray(i)){var o=i[0],r=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3==i.length&&e.extend(r,i[2]),s=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][o])(r)}else s=i.constructor==String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return s.id=s.id||n.uuid(),t.cacheTypeItem("overlay",s,s.id),t._jsPlumb.overlays[s.id]=s,s};e.OverlayCapableJsPlumbUIComponent=function(t){jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays[i]=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:i}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,i={};for(n in e.overlays){var s=t._jsPlumb.overlays[e.overlays[n][1].id];if(s)s.updateFrom(e.overlays[n][1]),i[e.overlays[n][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=o?(o.reattach(t._jsPlumb.instance),o.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(e.overlays[n],!0),i[o.id]=!0}}for(n in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id)}},n.extend(e.OverlayCapableJsPlumbUIComponent,jsPlumbUIComponent,{setHover:function(t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,e){var n=o(this,t);return e||this.repaint(),n},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,t||this.repaint()},removeOverlay:function(t){var e=this._jsPlumb.overlays[t];e&&(e.cleanup&&e.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t])},removeOverlays:function(){for(var t=0,e=arguments.length;e>t;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas);for(var e in this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}}},getLabel:function(){var t=this.getOverlay(i);return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay(i)},setLabel:function(t){var e=this.getOverlay(i);if(e)t.constructor==String||t.constructor==Function?e.setLabel(t):(t.label&&e.setLabel(t.label),t.location&&e.setLocation(t.location));else{var n=t.constructor==String||t.constructor==Function?{label:t}:t;e=s(this,n),this._jsPlumb.overlays[i]=e}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,n){var i=!1;return{drag:function(){if(i)return i=!1,!0;var s=e.getUIPosition(arguments,n.getZoom());t.element&&(jsPlumb.setPosition(t.element,s),n.repaint(t.element,s))},stopDrag:function(){i=!0}}},s=function(t,e){var n=jsPlumb.createElement("div",{position:"absolute"});e.appendElement(n);var i=e.getId(n);e.manage(i,n,!0),t.id=i,t.element=n},o=function(t,n,i,s,o,r,a,l){return a({paintStyle:t,endpoint:i,anchor:new e.FloatingAnchor({reference:n,referenceCanvas:s,jsPlumbInstance:r}),source:o,scope:l})},r=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(t,e){var n=0;if(null!=e)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId==e||t.connections[i].targetId==e){n=i;break}return t.connections[n]},l=function(t,e){return n.findWithFunction(e.connections,function(e){return e.id==t.id})};e.Endpoint=function(t){var u=t._jsPlumb,c=t.newConnection,h=t.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:t.connectionType,maxConnections:null==t.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:t.maxConnections,paintStyle:t.endpointStyle||t.paintStyle||t.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:t.endpointHoverStyle||t.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:t.connectorStyle,connectorHoverStyle:t.connectorHoverStyle,connectorClass:t.connectorClass,connectorHoverClass:t.connectorHoverClass,connectorOverlays:t.connectorOverlays,connector:t.connector,connectorTooltip:t.connectorTooltip}),this._jsPlumb.enabled=!(!1===t.enabled),this._jsPlumb.visible=!0,this.element=e.getElement(t.source),this._jsPlumb.uuid=t.uuid,this._jsPlumb.floatingEndpoint=null;var d=null;this._jsPlumb.uuid&&(t.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=t.elementId,this._jsPlumb.connectionCost=t.connectionCost,this._jsPlumb.connectionsDirected=t.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var p=function(){var t=u.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=u.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"_"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),jsPlumb.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,u);return e.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),p()}.bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,p(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var f=function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){f(!0)}),this.bind("mouseout",function(){f(!1)}),t._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(i,s){var o,r=function(t,n){var i=u.getRenderMode();if(e.Endpoints[i][t])return new e.Endpoints[i][t](n);if(!u.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:t.cssClass,container:t.container,tooltip:t.tooltip,connectorTooltip:t.connectorTooltip,endpoint:this};return n.isString(i)?o=r(i,a):n.isArray(i)?(a=n.merge(i[1],a),o=r(i[0],a)):o=i.clone(),o.clone=function(){return n.isString(i)?r(i,a):n.isArray(i)?(a=n.merge(i[1],a),r(i[0],a)):void 0}.bind(this),o.typeId=s,o},this.setEndpoint=function(t){var e=this.prepareEndpoint(t);this.setPreparedEndpoint(e,!0)},this.setPreparedEndpoint=function(t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,t,r),this.isSource=t.isSource||!1,this.isTemporarySource=t.isTemporarySource||!1,this.isTarget=t.isTarget||!1,this.connections=t.connections||[],this.connectorPointerEvents=t["connector-pointer-events"],this.scope=t.scope||u.getDefaultScope(),this.timestamp=null,this.reattachConnections=t.reattach||u.Defaults.ReattachConnections,this.connectionsDetachable=u.Defaults.ConnectionsDetachable,(!1===t.connectionsDetachable||!1===t.detachable)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==t.dragAllowedWhenFull,t.onMaxConnections&&this.bind("maxConnections",t.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](u.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](u.endpointFullClass)},this.detachFromConnection=function(t,e,n){e=null==e?l(t,this):e,e>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](u.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](u.endpointFullClass)),!n&&this._deleteOnDetach&&0===this.connections.length&&u.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!1})},this.detach=function(t,e,n,i,s,o,r){var a=null==r?l(t,this):r,c=!1;return i=!1!==i,a>=0&&(n||t._forceDetach||t.isDetachable()&&t.isDetachAllowed(t)&&this.isDetachAllowed(t)&&u.checkCondition("beforeDetach",t,o))&&(u.deleteObject({connection:t,fireEvent:!e&&i,originalEvent:s,deleteAttachedObjects:!1}),c=!0),c},this.detachAll=function(t,e){for(var n=[];this.connections.length>0;){this.detach(this.connections[0],!1,!0===e,!1!==t,null,this,0)||(n.push(this.connections[0]),this.connections.splice(0,1))}return this.connections=n,this},this.detachFrom=function(t,e,n){for(var i=[],s=0;s<this.connections.length;s++)(this.connections[s].endpoints[1]==t||this.connections[s].endpoints[0]==t)&&i.push(this.connections[s]);for(var o=0;o<i.length;o++)this.detach(i[o],!1,!0,e,n);return this},this.getElement=function(){return this.element},this.setElement=function(e){var i=this._jsPlumb.instance.getId(e),s=this.elementId;return n.removeWithFunction(t.endpointsByElement[this.elementId],function(t){return t.id==this.id}.bind(this)),this.element=jsPlumb.getElement(e),this.elementId=u.getId(this.element),u.anchorManager.rehomeEndpoint(this,s,this.element),u.dragManager.endpointAdded(this.element),n.addToList(t.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),i=this.anchor.getCssClass(),s={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},
getOrientation:function(){return n},getCssClass:function(){return i}};return h({dropOptions:t.dropOptions,anchor:s,source:this.element,paintStyle:this.getPaintStyle(),endpoint:t.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var t=this.connections[0];return t||(this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:t)},this.setStyle=this.setPaintStyle,this.paint=function(t){t=t||{};var e=t.timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var i=u.updateOffset({elId:this.elementId,timestamp:e}),s=t.offset?t.offset.o:i.o;if(null!=s){var o=t.anchorPoint,r=t.connectorPaintStyle;if(null==o){var l=t.dimensions||i.s,c={xy:[s.left,s.top],wh:l,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var h=a(this,t.elementWithPrecedence),d=h.endpoints[0]==this?1:0,p=0===d?h.sourceId:h.targetId,f=u.getCachedData(p),m=f.o,g=f.s;c.txy=[m.left,m.top],c.twh=g,c.tElement=h.endpoints[d]}o=this.anchor.compute(c)}this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,r||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e;for(var v in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var b=this._jsPlumb.overlays[v];b.isVisible()&&(this._jsPlumb.overlayPlacements[v]=b.draw(this.endpoint,this._jsPlumb.paintStyleInUse),b.paint(this._jsPlumb.overlayPlacements[v]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var m=!1;this.initDraggable=function(){if(!m&&e.isDragSupported(this.element)){var r={id:null,element:null},a=null,l=!1,p=null,f=i(r,u),g=t.dragOptions||{},v={},b=e.dragEvents.start,y=e.dragEvents.stop,_=e.dragEvents.drag,w=function(){a=this.connectorSelector();var e=!0;this.isEnabled()||(e=!1),null!=a||this.isSource||this.isTemporarySource||(e=!1),!this.isSource||!this.isFull()||null!=a&&this.dragAllowedWhenFull||(e=!1),null==a||a.isDetachable(this)||(e=!1);var i=u.checkCondition(null==a?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:a});if(!1===i&&(e=!1),!1===e)return u.stopDrag&&u.stopDrag(this.canvas),f.stopDrag(),!1;for(var m=0;m<this.connections.length;m++)this.connections[m].setHover(!1);this.addClass("endpointDrag"),u.setConnectionBeingDragged(!0),a&&!this.isFull()&&this.isSource&&(a=null),u.updateOffset({elId:this.elementId}),d=this.makeInPlaceCopy(),d.addClass(u.draggingClass),d.referenceEndpoint=this,d.paint(),s(r,u);var g=this._jsPlumb.instance.getOffset(d.canvas),v=this.canvas;if(jsPlumb.setPosition(r.element,g),this.parentAnchor&&(this.anchor=u.makeAnchor(this.parentAnchor,this.elementId,u)),u.setAttributes(this.canvas,{dragId:r.id,elId:this.elementId}),this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),this.anchor,this.endpoint,this.canvas,r.element,u,h,this.scope),this.canvas.style.visibility="hidden",null==a)this.anchor.locked=!0,this.setHover(!1,!1),a=c({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:r.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:t.connectorStyle,hoverPaintStyle:t.connectorHoverStyle,connector:t.connector,overlays:t.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,data:i}),a.addClass(u.draggingClass),this._jsPlumb.floatingEndpoint.addClass(u.draggingClass),u.fire("connectionDrag",a);else{l=!0,a.setHover(!1);var b=a.endpoints[0].id==this.id?0:1;this.detachFromConnection(a,null,!0);var y=u.getDragScope(v);u.setAttribute(this.canvas,"originalScope",y);var _=u.getDropScope(v);u.setDragScope(v,_),u.fire("connectionDrag",a),0===b?(p=[a.source,a.sourceId,v,y],a.source=r.element,a.sourceId=r.id):(p=[a.target,a.targetId,v,y],a.target=r.element,a.targetId=r.id),a.endpoints[0===b?1:0].anchor.locked=!0,a.suspendedEndpoint=a.endpoints[b],a.suspendedElement=a.endpoints[b].getElement(),a.suspendedElementId=a.endpoints[b].elementId,a.suspendedElementType=0===b?"source":"target",a.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=a.suspendedEndpoint,a.endpoints[b]=this._jsPlumb.floatingEndpoint,a.addClass(u.draggingClass),this._jsPlumb.floatingEndpoint.addClass(u.draggingClass)}u.floatingConnections[r.id]=a,u.anchorManager.addFloatingConnection(r.id,a),n.addToList(t.endpointsByElement,r.id,this._jsPlumb.floatingEndpoint),u.currentlyDragging=!0}.bind(this),x=function(){if(u.setConnectionBeingDragged(!1),a&&null!=a.endpoints){var t=u.getDropEvent(arguments),e=u.getFloatingAnchorIndex(a);if(a.endpoints[0===e?1:0].anchor.locked=!1,a.removeClass(u.draggingClass),this._jsPlumb&&(a.deleteConnectionNow||a.endpoints[e]==this._jsPlumb.floatingEndpoint)&&l&&a.suspendedEndpoint){0===e?(a.source=p[0],a.sourceId=p[1]):(a.target=p[0],a.targetId=p[1]);var n=this._jsPlumb.floatingEndpoint;u.setDragScope(p[2],p[3]),a.endpoints[e]=a.suspendedEndpoint,a.isReattach()||a._forceReattach||a._forceDetach||!a.endpoints[0===e?1:0].detach(a,!1,!1,!0,t,!0)?(a.setHover(!1),a._forceDetach=null,a._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(a),a.suspendedEndpoint.addConnection(a),u.repaint(p[1])):u.deleteObject({endpoint:n})}this.deleteAfterDragStop?u.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),u.fire("connectionDragStop",a,t),u.currentlyDragging=!1,a=null}r&&r.element&&u.remove(r.element,!1),d&&u.deleteObject({endpoint:d}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);g=e.extend(v,g),g.scope=this.scope||g.scope,g[b]=n.wrap(g[b],w,!1),g[_]=n.wrap(g[_],f.drag),g[y]=n.wrap(g[y],x),g.multipleDrop=!1,g.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),u.initDraggable(this.canvas,g,"internal"),this.canvas._jsPlumbRelatedElement=this.element,m=!0}};var g=t.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(g,!0);var v=t.anchor?t.anchor:t.anchors?t.anchors:u.Defaults.Anchor||"Top";this.setAnchor(v,!0);var b=["default",t.type||""].join(" ");this.addType(b,t.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var y=function(i,s,o,r){if(e.isDropSupported(this.element)){var a=t.dropOptions||u.Defaults.DropOptions||e.Defaults.DropOptions;a=e.extend({},a),a.scope=a.scope||this.scope;var l=e.dragEvents.drop,c=e.dragEvents.over,h=e.dragEvents.out,d=this,p=u.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:u,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){d.addClass(t)},removeClass:function(t){d.removeClass(t)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:r,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});a[l]=n.wrap(a[l],p,!0),a[c]=n.wrap(a[c],function(){var t=e.getDragObject(arguments),n=u.getAttribute(e.getElement(t),"dragId"),i=u.floatingConnections[n];if(null!=i){var s=u.getFloatingAnchorIndex(i);if(this.isTarget&&0!==s||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id){var o=u.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[s],targetEndpoint:this,connection:i});this[(o?"add":"remove")+"Class"](u.endpointDropAllowedClass),this[(o?"remove":"add")+"Class"](u.endpointDropForbiddenClass),i.endpoints[s].anchor.over(this.anchor,this)}}}.bind(this)),a[h]=n.wrap(a[h],function(){var t=e.getDragObject(arguments),n=null==t?null:u.getAttribute(e.getElement(t),"dragId"),i=n?u.floatingConnections[n]:null;if(null!=i){var s=u.getFloatingAnchorIndex(i);(this.isTarget&&0!==s||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id)&&(this.removeClass(u.endpointDropAllowedClass),this.removeClass(u.endpointDropForbiddenClass),i.endpoints[s].anchor.out())}}.bind(this)),u.initDroppable(i,a,"internal",s)}}.bind(this);return this.anchor.isFloating||y(this.canvas,!(t._transient||this.anchor.isFloating),this,t.reference),this},n.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!n){var s=this===this.connections[i].endpoints[0]?1:0;1==this.connections[i].endpoints[s].connections.length&&this.connections[i].endpoints[s].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,n){this.setPaintStyle(t.endpointStyle||t.paintStyle,n),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,n),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,r),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"_"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==t||this.connections[n].endpoints[0]==t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(e){var n=t.jsPlumb;t.removeClass(n.endpointDropAllowedClass),t.removeClass(n.endpointDropForbiddenClass);var i=n.getDropEvent(arguments),s=n.getDragObject(arguments),o=n.getAttribute(s,"dragId"),r=(n.getAttribute(s,"elId"),n.getAttribute(s,"originalScope")),a=n.floatingConnections[o];if(null!=a&&(!a.suspendedEndpoint||null!=a.suspendedEndpoint._jsPlumb)){var l=t.getEndpoint(a);if(null!=l){if(t.isRedrop(a,t))return a._forceReattach=!0,a.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(l));var u=n.getFloatingAnchorIndex(a);if(0===u&&!t.isSource||1===u&&!t.isTarget)return void(t.maybeCleanup&&t.maybeCleanup(l));t.onDrop&&t.onDrop(a),r&&n.setDragScope(s,r);var c=t.isFull(e);if(c&&l.fire("maxConnections",{endpoint:this,connection:a,maxConnections:l._jsPlumb.maxConnections},i),!c&&(0!==u||t.isSource)&&(1!=u||t.isTarget)&&t.enabled()){var h=!0;0===u?(a.source=t.element,a.sourceId=t.elementId):(a.target=t.element,a.targetId=t.elementId),a.suspendedEndpoint&&a.suspendedEndpoint._jsPlumb&&a.suspendedEndpoint.id!=l.id&&(a.isDetachAllowed(a)&&a.endpoints[u].isDetachAllowed(a)&&a.suspendedEndpoint.isDetachAllowed(a)&&n.checkCondition("beforeDetach",a)||(h=!1));var d=function(t){a.endpoints[u].detachFromConnection(a),a.suspendedEndpoint&&a.suspendedEndpoint.detachFromConnection(a),a.endpoints[u]=l,l.addConnection(a);var e=l.getParameters();for(var s in e)a.setParameter(s,e[s]);if(a.suspendedEndpoint){var o=a.suspendedEndpoint.elementId;n.fireMoveEvent({index:u,originalSourceId:0===u?o:a.sourceId,newSourceId:0===u?l.elementId:a.sourceId,originalTargetId:1==u?o:a.targetId,newTargetId:1==u?l.elementId:a.targetId,originalSourceEndpoint:0===u?a.suspendedEndpoint:a.endpoints[0],newSourceEndpoint:0===u?l:a.endpoints[0],originalTargetEndpoint:1==u?a.suspendedEndpoint:a.endpoints[1],newTargetEndpoint:1==u?l:a.endpoints[1],connection:a},i)}else e.draggable&&n.initDraggable(this.element,dragOptions,"internal",n);if(1==u?n.anchorManager.updateOtherEndpoint(a.sourceId,a.suspendedElementId,a.targetId,a):n.anchorManager.sourceChanged(a.suspendedEndpoint.elementId,a.sourceId,a),a.endpoints[0].finalEndpoint){a.endpoints[0].detachFromConnection(a),a.endpoints[0]=a.endpoints[0].finalEndpoint,a.endpoints[0].addConnection(a)}jsPlumbUtil.isObject(t)&&a.mergeData(t),n.finaliseConnection(a,null,i),a.setHover(!1)}.bind(this);if(h=h&&t.isDropAllowed(a.sourceId,a.targetId,a.scope,a,l))return d(h),!0;!function(){a.suspendedEndpoint&&(a.endpoints[u]=a.suspendedEndpoint,a.setHover(!1),a._forceDetach=!0,0===u?(a.source=a.suspendedEndpoint.element,a.sourceId=a.suspendedEndpoint.elementId):(a.target=a.suspendedEndpoint.element,a.targetId=a.suspendedEndpoint.elementId),a.suspendedEndpoint.addConnection(a),n.repaint(a.sourceId),a._forceDetach=!1)}()}t.maybeCleanup&&t.maybeCleanup(l),n.currentlyDragging=!1}}}}}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,n,i,s,o){if(!t.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[n][i])throw{msg:"jsPlumb: unknown connector type '"+i+"'"};return new e.Connectors[n][i](s,o)},s=function(t,e,n){return t?n.makeAnchor(t,e,n):null},o=function(t,e,i,s){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},s?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?i.removeClass(e,i.connectedClass):i.addClass(e,i.connectedClass))};e.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),t.sourceEndpoint&&(this.source=t.sourceEndpoint.getElement()),t.targetEndpoint&&(this.target=t.targetEndpoint.getElement()),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var s=this._jsPlumb.instance;s.manage(this.sourceId,this.source),s.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===t.editable,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(e,n,o,r){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(s,i,this,r,e?0:1,t,n,o)};var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),r=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&n.addToList(t.endpointsByElement,this.sourceId,o),r&&n.addToList(t.endpointsByElement,this.targetId,r),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=t.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=t.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));var a=s.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var l=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||s.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,rettach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||s.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||s.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle});var u=s.getSuspendedAt();if(!s.isSuspendDrawing()){var c=s.getCachedData(this.sourceId),h=c.o,d=c.s,p=s.getCachedData(this.targetId),f=p.o,m=p.s,g=u||s.timestamp(),v=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[f.left,f.top],twh:m,tElement:this.endpoints[1],timestamp:g});this.endpoints[0].paint({anchorLoc:v,timestamp:g}),v=this.endpoints[1].anchor.compute({xy:[f.left,f.top],wh:m,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:g}),this.endpoints[1].paint({anchorLoc:v,timestamp:g})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var b=jsPlumb.extend({},this.endpoints[1].getParameters());e.extend(b,this.endpoints[0].getParameters()),e.extend(b,this.getParameters()),this.setParameters(b),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||s.Defaults.Connector||e.Defaults.Connector,!0);var y=null!=t.data&&jsPlumbUtil.isObject(t.data)?t.data:{};this.getData=function(){return y},this.setData=function(t){y=t||{}},this.mergeData=function(t){y=jsPlumb.extend(y,t)};var _=["default",t.type,this.endpoints[0].connectionType,this.endpoints[1].connectionType].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,i){null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var s=null;t.anchor?null==(s=this.getCachedTypeItem("anchors",i.anchor))&&(s=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",s,i.anchor)):t.anchors&&null==(s=this.getCachedTypeItem("anchors",i.anchors))&&(s=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",s,i.anchors)),null!=s&&(this.endpoints[0].anchor=s[0],this.endpoints[1].anchor=s[1]),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t)},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb.cost},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return!0===this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,e){var s,o={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},r=this._jsPlumb.instance.getRenderMode();return n.isString(t)?s=i(this._jsPlumb.instance,r,t,o,this):n.isArray(t)&&(s=1==t.length?i(this._jsPlumb.instance,r,t[0],o,this):i(this._jsPlumb.instance,r,t[0],n.merge(t[1],o),this)),null!=e&&(s.typeId=e),s},setPreparedConnector:function(t,e,n,i){var s,o="";if(null!=this.connector&&(s=this.connector,o=s.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=s)for(var r=this.getOverlays(),a=0;a<r.length;a++)r[a].transfer&&r[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()},setConnector:function(t,e,n,i){var s=this.prepareConnector(t,i);this.setPreparedConnector(s,e,n,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){t=t||{};var e=t.timestamp,n=this.targetId,i=this.sourceId;if(null==e||e!=this._jsPlumb.lastPaintedAt){var s=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,r=this.endpoints[0],a=this.endpoints[1],l=r.anchor.getCurrentLocation({xy:[s.left,s.top],wh:[s.width,s.height],element:r,timestamp:e}),u=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:l,targetPos:u,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:s,targetInfo:o});var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var h in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var d=this._jsPlumb.overlays[h];d.isVisible()&&(this._jsPlumb.overlayPlacements[h]=d.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(d)),c.minX=Math.min(c.minX,this._jsPlumb.overlayPlacements[h].minX),c.maxX=Math.max(c.maxX,this._jsPlumb.overlayPlacements[h].maxX),c.minY=Math.min(c.minY,this._jsPlumb.overlayPlacements[h].minY),c.maxY=Math.max(c.maxY,this._jsPlumb.overlayPlacements[h].maxY))}var p=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,f=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),m={xmin:Math.min(this.connector.bounds.minX-(p+f),c.minX),ymin:Math.min(this.connector.bounds.minY-(p+f),c.minY),xmax:Math.max(this.connector.bounds.maxX+(p+f),c.maxX),ymax:Math.max(this.connector.bounds.maxY+(p+f),c.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,m);for(var g in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var v=this._jsPlumb.overlays[g];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[g],m)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){t=t||{},this.paint({elId:this.sourceId,recalc:!(!1===t.recalc),timestamp:t.timestamp})},prepareEndpoint:function(t,n,i,o,r,a,l,u){var c;if(o)i.endpoints[r]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[r]||a.endpoint||t.Defaults.Endpoints[r]||jsPlumb.Defaults.Endpoints[r]||t.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var d=a.endpointStyles[r]||a.endpointStyle||t.Defaults.EndpointStyles[r]||jsPlumb.Defaults.EndpointStyles[r]||t.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==d.fillStyle&&null!=a.paintStyle&&(d.fillStyle=a.paintStyle.strokeStyle),null==d.outlineColor&&null!=a.paintStyle&&(d.outlineColor=a.paintStyle.outlineColor),null==d.outlineWidth&&null!=a.paintStyle&&(d.outlineWidth=a.paintStyle.outlineWidth);var p=a.endpointHoverStyles[r]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[r]||jsPlumb.Defaults.EndpointHoverStyles[r]||t.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==p&&(p={}),null==p.fillStyle&&(p.fillStyle=a.hoverPaintStyle.strokeStyle));var f=a.anchors?a.anchors[r]:a.anchor?a.anchor:s(t.Defaults.Anchors[r],u,t)||s(e.Defaults.Anchors[r],u,t)||s(t.Defaults.Anchor,u,t)||s(e.Defaults.Anchor,u,t);c=n({paintStyle:d,hoverPaintStyle:p,endpoint:h,connections:[i],uuid:a.uuids?a.uuids[r]:null,anchor:f,source:l,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),i.endpoints[r]=c,!1===a.drawEndpoints&&c.setVisible(!1,!0,!0)}return c}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumb;n.AnchorManager=function(t){var i={},s={},o={},r={},a={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},l=["left","top","right","bottom"],u={},c=this,h={},d=t.jsPlumbInstance,p={},f=function(t,e,n,i,s,o){if(t===e)return{orientation:a.IDENTITY,a:["top","top"]};var r=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),u=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),c=[],h={};!function(t,e){for(var n=0;n<t.length;n++)h[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,i]);for(var d=0;d<l.length;d++)for(var p=0;p<l.length;p++)d!=p&&c.push({source:l[d],target:l[p],dist:Biltong.lineLength(h.source[l[d]],h.target[l[p]])});c.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var f=c[0].source,m=c[0].target,g=0;g<c.length&&(f=!s.isContinuous||s.isEdgeSupported(c[g].source)?c[g].source:null,m=!o.isContinuous||o.isEdgeSupported(c[g].target)?c[g].target:null,null==f||null==m);g++);return{a:[f,m],theta:r,theta2:u}},m=function(t,e,n,i,s,o,r){for(var a=[],l=e[s?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,h=o*e[s?1:0];r&&(c=e[s?0:1]-c);var d=s?c:h,p=n[0]+d,f=d/e[0],m=s?h:c,g=n[1]+m,v=m/e[1];a.push([p,g,f,v,i[u][1],i[u][2]])}return a},g=function(t){return function(e,n){var i=!0;return i=t?e[0][0]<n[0][0]:e[0][0]>n[0][0],!1===i?-1:1}},v=function(t,e){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])?1:t[0][1]>e[0][1]?1:-1},b={top:function(t,e){return t[0]>e[0]?1:-1},right:g(!0),bottom:g(!0),left:v},y=function(t,e){return t.sort(e)},_=function(t,e){var n=d.getCachedData(t),i=n.s,o=n.o,a=function(e,n,i,o,a,l,u){if(o.length>0)for(var c=y(o,b[e]),h="right"===e||"top"===e,d=m(0,n,i,c,a,l,h),p=function(t,e){s[t.id]=[e[0],e[1],e[2],e[3]],r[t.id]=u},f=0;f<d.length;f++){var g=d[f][4],v=g.endpoints[0].elementId===t,_=g.endpoints[1].elementId===t;v?p(g.endpoints[0],d[f]):_&&p(g.endpoints[1],d[f])}};a("bottom",i,[o.left,o.top],e.bottom,!0,1,[0,1]),a("top",i,[o.left,o.top],e.top,!0,0,[0,-1]),a("left",i,[o.left,o.top],e.left,!1,0,[-1,0]),a("right",i,[o.left,o.top],e.right,!1,1,[1,0])};this.reset=function(){i={},u={},h={}},this.addFloatingConnection=function(t,e){p[t]=e},this.removeFloatingConnection=function(t){delete p[t]},this.newConnection=function(t){var i=t.sourceId,s=t.targetId,o=t.endpoints,r=!0,a=function(a,l,c,h,d){i==s&&c.isContinuous&&(t._jsPlumb.instance.removeElement(o[1].canvas),r=!1),e.addToList(u,h,[d,l,c.constructor==n.DynamicAnchor])};a(0,o[0],o[0].anchor,s,t),r&&a(0,o[1],o[1].anchor,i,t)};var w=function(t){!function(t,n){if(t){var i=function(t){return t[4]==n};e.removeWithFunction(t.top,i),e.removeWithFunction(t.left,i),e.removeWithFunction(t.bottom,i),e.removeWithFunction(t.right,i)}}(h[t.elementId],t.id)};this.connectionDetached=function(t){var i=t.connection||t,s=t.sourceId,o=t.targetId,r=i.endpoints,a=function(t,i,s,o,r){null!=s&&s.constructor==n.FloatingAnchor||e.removeWithFunction(u[o],function(t){return t[0].id==r.id})};a(0,r[1],r[1].anchor,s,i),a(0,r[0],r[0].anchor,o,i),w(i.endpoints[0]),w(i.endpoints[1]),c.redraw(i.sourceId),c.redraw(i.targetId)},this.add=function(t,n){e.addToList(i,n,t)},this.changeId=function(t,e){u[e]=u[t],i[e]=i[t],delete u[t],delete i[t]},this.getConnectionsFor=function(t){return u[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(i[t.elementId],function(e){return e.id==t.id}),w(t)},this.clearFor=function(t){delete i[t],i[t]=[]};var x=function(n,i,s,o,r,a,l,u,c,h,d,p){var f,m,g=-1,v=o.endpoints[l],b=v.id,y=[1,0][l],_=[[i,s],o,r,a,b],w=n[c],x=v._continuousAnchorEdge?n[v._continuousAnchorEdge]:null;if(x){var C=e.findWithFunction(x,function(t){return t[4]==b});if(-1!=C)for(x.splice(C,1),f=0;f<x.length;f++)m=x[f][1],e.addWithFunction(d,m,function(t){return t.id==m.id}),e.addWithFunction(p,x[f][1].endpoints[l],function(t){return t.id==m.endpoints[l].id}),e.addWithFunction(p,x[f][1].endpoints[y],function(t){return t.id==m.endpoints[y].id})}for(f=0;f<w.length;f++)m=w[f][1],1==t.idx&&w[f][3]===a&&-1==g&&(g=f),e.addWithFunction(d,m,function(t){return t.id==m.id}),e.addWithFunction(p,w[f][1].endpoints[l],function(t){return t.id==m.endpoints[l].id}),e.addWithFunction(p,w[f][1].endpoints[y],function(t){return t.id==m.endpoints[y].id});var k=u?-1!=g?g:0:w.length;w.splice(k,0,_),v._continuousAnchorEdge=c};this.updateOtherEndpoint=function(t,i,s,o){var r=e.findWithFunction(u[t],function(t){return t[0].id===o.id}),a=e.findWithFunction(u[i],function(t){return t[0].id===o.id});-1!=r&&(u[t][r][0]=o,u[t][r][1]=o.endpoints[1],u[t][r][2]=o.endpoints[1].anchor.constructor==n.DynamicAnchor),a>-1&&(u[i].splice(a,1),e.addToList(u,s,[o,o.endpoints[0],o.endpoints[0].anchor.constructor==n.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(t,i,s){if(t!==i){e.removeWithFunction(u[t],function(t){return t[0].id===s.id});var o=e.findWithFunction(u[s.targetId],function(t){return t[0].id===s.id});o>-1&&(u[s.targetId][o][0]=s,u[s.targetId][o][1]=s.endpoints[0],u[s.targetId][o][2]=s.endpoints[0].anchor.constructor==n.DynamicAnchor),e.addToList(u,i,[s,s.endpoints[1],s.endpoints[1].anchor.constructor==n.DynamicAnchor]),s.endpoints[1].anchor.isContinuous&&(s.source===s.target?s._jsPlumb.instance.removeElement(s.endpoints[1].canvas):null==s.endpoints[1].canvas.parentNode&&s._jsPlumb.instance.appendElement(s.endpoints[1].canvas)),s.updateConnectedClass()}},this.rehomeEndpoint=function(t,n,s){var o=i[n]||[],r=d.getId(s);if(r!==n){var a=e.indexOf(o,t);if(a>-1){var l=o.splice(a,1)[0];c.add(l,r)}}for(var u=0;u<t.connections.length;u++)t.connections[u].sourceId==n?(t.connections[u].sourceId=t.elementId,t.connections[u].source=t.element,c.sourceChanged(n,t.elementId,t.connections[u])):t.connections[u].targetId==n&&(t.connections[u].targetId=t.elementId,t.connections[u].target=t.element,
c.updateOtherEndpoint(t.connections[u].sourceId,n,t.elementId,t.connections[u]))},this.redraw=function(t,s,o,r,a,l){if(!d.isSuspendDrawing()){var c=i[t]||[],m=u[t]||[],g=[],v=[],b=[];o=o||d.timestamp(),r=r||{left:0,top:0},s&&(s={left:s.left+r.left,top:s.top+r.top});for(var y=d.updateOffset({elId:t,offset:s,recalc:!1,timestamp:o}),w={},C=0;C<m.length;C++){var k=m[C][0],D=k.sourceId,S=k.targetId,E=k.endpoints[0].anchor.isContinuous,P=k.endpoints[1].anchor.isContinuous;if(E||P){var T=D+"_"+S,N=w[T],M=k.sourceId==t?1:0;E&&!h[D]&&(h[D]={top:[],right:[],bottom:[],left:[]}),P&&!h[S]&&(h[S]={top:[],right:[],bottom:[],left:[]}),t!=S&&d.updateOffset({elId:S,timestamp:o}),t!=D&&d.updateOffset({elId:D,timestamp:o});var O=d.getCachedData(S),A=d.getCachedData(D);S==D&&(E||P)?x(h[D],-Math.PI/2,0,k,!1,S,0,!1,"top",0,g,v):(N||(N=f(D,S,A.o,O.o,k.endpoints[0].anchor,k.endpoints[1].anchor),w[T]=N),E&&x(h[D],N.theta,0,k,!1,S,0,!1,N.a[0],0,g,v),P&&x(h[S],N.theta2,-1,k,!0,D,1,!0,N.a[1],0,g,v)),E&&e.addWithFunction(b,D,function(t){return t===D}),P&&e.addWithFunction(b,S,function(t){return t===S}),e.addWithFunction(g,k,function(t){return t.id==k.id}),(E&&0===M||P&&1===M)&&e.addWithFunction(v,k.endpoints[M],function(t){return t.id==k.endpoints[M].id})}}for(C=0;C<c.length;C++)0===c[C].connections.length&&c[C].anchor.isContinuous&&(h[t]||(h[t]={top:[],right:[],bottom:[],left:[]}),x(h[t],-Math.PI/2,0,{endpoints:[c[C],c[C]],paint:function(){}},!1,t,0,!1,c[C].anchor.getDefaultFace(),0,g,v),e.addWithFunction(b,t,function(e){return e===t}));for(C=0;C<b.length;C++)_(b[C],h[b[C]]);for(C=0;C<c.length;C++)c[C].paint({timestamp:o,offset:y,dimensions:y.s,recalc:!0!==l});for(C=0;C<v.length;C++){var j=d.getCachedData(v[C].elementId);v[C].paint({timestamp:o,offset:j,dimensions:j.s})}for(C=0;C<m.length;C++){var I=m[C][1];if(I.anchor.constructor==n.DynamicAnchor){I.paint({elementWithPrecedence:t,timestamp:o}),e.addWithFunction(g,m[C][0],function(t){return t.id==m[C][0].id});for(var F=0;F<I.connections.length;F++)I.connections[F]!==m[C][0]&&e.addWithFunction(g,I.connections[F],function(t){return t.id==I.connections[F].id})}else I.anchor.constructor==n.Anchor&&e.addWithFunction(g,m[C][0],function(t){return t.id==m[C][0].id})}var L=p[t];for(L&&L.paint({timestamp:o,recalc:!1,elId:t}),C=0;C<g.length;C++)g[C].paint({elId:t,timestamp:o,recalc:!1,clearEdits:a})}};var C=function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],i=!(!1===t.clockwise),a={},l={top:"bottom",right:"left",left:"right",bottom:"top"},u={top:"right",right:"bottom",left:"top",bottom:"left"},c={top:"left",right:"top",left:"bottom",bottom:"right"},h=i?u:c,d=i?c:u,p=t.cssClass||"",f=0;f<n.length;f++)a[n[f]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(t){return a[t]?t:a[l[t]]?l[t]:a[h[t]]?h[t]:a[d[t]]?d[t]:t},this.isEdgeSupported=function(t){return!0===a[t]},this.compute=function(t){return o[t.element.id]||s[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return o[t.element.id]||s[t.element.id]||[0,0]},this.getOrientation=function(t){return r[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete o[t.elementId]},this.setUserDefinedLocation=function(e){o[t.elementId]=e},this.getCssClass=function(){return p}};d.continuousAnchorFactory={get:function(t){return new C(t)},clear:function(t){delete o[t],delete s[t]}}},n.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null,e.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===self.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!=t.timestamp?this.compute(t):this.lastReturnValue}},e.extend(n.Anchor,e.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x==t.x&&this.y==t.y&&this.offsets[0]==t.offsets[0]&&this.offsets[1]==t.offsets[1]&&n[0]==e[0]&&n[1]==e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),n.FloatingAnchor=function(t){n.Anchor.apply(this,arguments);var e=t.reference,i=t.referenceCanvas,s=n.getSize(i),o=null,r=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+s[0]/2,e[1]+s[1]/2];return r=n,n},this.getOrientation=function(t){if(o)return o;var n=e.getOrientation(t);return[-1*Math.abs(n[0])*0,-1*Math.abs(n[1])*0]},this.over=function(t,e){o=t.getOrientation(e)},this.out=function(){o=null},this.getCurrentLocation=function(t){return null==r?this.compute(t):r}},e.extend(n.FloatingAnchor,n.Anchor);var i=function(t,e,i){return t.constructor==n.Anchor?t:e.makeAnchor(t,i,e)};n.DynamicAnchor=function(t){n.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var e=0;e<t.anchors.length;e++)this.anchors[e]=i(t.anchors[e],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors},this.locked=!1;var s=this.anchors.length>0?this.anchors[0]:null,o=s,r=this,a=function(t,e,n,i,s){var o=i[0]+t.x*s[0],r=i[1]+t.y*s[1],a=i[0]+s[0]/2,l=i[1]+s[1]/2;return Math.sqrt(Math.pow(e-o,2)+Math.pow(n-r,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-r,2))},l=t.selector||function(t,e,n,i,s){for(var o=n[0]+i[0]/2,r=n[1]+i[1]/2,l=-1,u=1/0,c=0;c<s.length;c++){var h=a(s[c],o,r,t,e);u>h&&(l=c+0,u=h)}return s[l]};this.compute=function(t){var e=t.xy,n=t.wh,i=t.txy,a=t.twh;this.timestamp=t.timestamp;var u=r.getUserDefinedLocation();return null!=u?u:this.locked||null==i||null==a?s.compute(t):(t.timestamp=null,s=l(e,n,i,a,this.anchors),this.x=s.x,this.y=s.y,s!=o&&this.fire("anchorChanged",s),o=s,s.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=s?s.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=s?s.getOrientation(t):[0,0]},this.over=function(t,e){null!=s&&s.over(t,e)},this.out=function(){null!=s&&s.out()},this.getCssClass=function(){return s&&s.getCssClass()||""}},e.extend(n.DynamicAnchor,n.Anchor);var s=function(t,e,i,s,o,r){n.Anchors[o]=function(n){var a=n.jsPlumbInstance.makeAnchor([t,e,i,s,0,0],n.elementId,n.jsPlumbInstance);return a.type=o,r&&r(a,n),a}};s(.5,0,0,-1,"TopCenter"),s(.5,1,0,1,"BottomCenter"),s(0,.5,-1,0,"LeftMiddle"),s(1,.5,1,0,"RightMiddle"),s(.5,0,0,-1,"Top"),s(.5,1,0,1,"Bottom"),s(0,.5,-1,0,"Left"),s(1,.5,1,0,"Right"),s(.5,.5,0,0,"Center"),s(1,0,0,-1,"TopRight"),s(1,1,0,1,"BottomRight"),s(0,0,0,-1,"TopLeft"),s(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},n.Anchors.AutoDefault=function(t){var e=t.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(t));return e.type="AutoDefault",e};var o=function(t,e){n.Anchors[t]=function(n){var i=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],n.elementId,n.jsPlumbInstance);return i.type=t,i}};n.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),s(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor==String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,i){var s=t.left-e.left,o=t.top-e.top,r=n[0]/i.grid[0],a=n[1]/i.grid[1],l=Math.floor(s/r),u=Math.floor(o/a);return[(l*r+r/2)/n[0],(u*a+a/2)/n[1]]}},n.Anchors.Perimeter=function(t){t=t||{};var e=t.anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=2*Math.PI/e,n=0,i=[],s=0;e>s;s++){var o=.5+.5*Math.sin(n),r=.5+.5*Math.cos(n);i.push([o,r,0,0]),n+=t}return i},s=function(t){for(var n=e/t.length,i=[],s=function(t,s,o,r,a){n=e*a;for(var l=(o-t)/n,u=(r-s)/n,c=0;n>c;c++)i.push([t+l*c,s+u*c,0,0])},o=0;o<t.length;o++)s.apply(null,t[o]);return i},o=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return s(e)},r=function(){return o([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:r,Square:r,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],i=0,o=0;o<e.length-1;o++){var r=Math.sqrt(Math.pow(e[o][2]-e[o][0])+Math.pow(e[o][3]-e[o][1]));i+=r,n.push([e[o][0],e[o][1],e[o+1][0],e[o+1][1],r])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return s(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var l=a[n](t);t.rotation&&(l=function(t,e){for(var n=[],i=e/180*Math.PI,s=0;s<t.length;s++){var o=t[s][0]-.5,r=t[s][1]-.5;n.push([o*Math.cos(i)-r*Math.sin(i)+.5,o*Math.sin(i)+r*Math.cos(i)+.5,t[s][2],t[s][3]])}return n}(l,t.rotation));var u=t.jsPlumbInstance.makeDynamicAnchor(l);return u.type="Perimeter",u}}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){var n,s,o,r,a,l,u,c=(e.Segments.AbstractSegment.apply(this,arguments),function(){n=Math.sqrt(Math.pow(a-r,2)+Math.pow(u-l,2)),s=i.gradient({x:r,y:l},{x:a,y:u}),o=-1/s});this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return s},this.getCoordinates=function(){return{x1:r,y1:l,x2:a,y2:u}},this.setCoordinates=function(t){r=t.x1,l=t.y1,a=t.x2,u=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(r,a),minY:Math.min(l,u),maxX:Math.max(r,a),maxY:Math.max(l,u)}},this.pointOnPath=function(t,e){if(0!==t||e){if(1!=t||e){var s=e?t>0?t:n+t:t*n;return i.pointOnLine({x:r,y:l},{x:a,y:u},s)}return{x:a,y:u}}return{x:r,y:l}},this.gradientAtPoint=function(){return s},this.pointAlongPathFrom=function(t,e,n){var s=this.pointOnPath(t,n),o=0>=e?{x:r,y:l}:{x:a,y:u};return 0>=e&&Math.abs(e)>1&&(e*=-1),i.pointOnLine(s,o,e)};var h=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},d=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var c={d:1/0,x:null,y:null,l:null,x1:r,x2:a,y1:l,y2:u};if(0===s)c.y=l,c.x=h(r,a,t)?t:d(r,a,t);else if(1/0==s||s==-1/0)c.x=r,c.y=h(l,u,e)?e:d(l,u,e);else{var p=l-s*r,f=e-o*t,m=(f-p)/(s-o),g=s*m+p;c.x=h(r,a,m)?m:d(r,a,m),c.y=h(l,u,g)?g:d(l,u,g)}var v=i.lineLength([c.x,c.y],[r,l]);return c.d=i.lineLength([t,e],[c.x,c.y]),c.l=v/n,c}},Arc:function(t){var n=(e.Segments.AbstractSegment.apply(this,arguments),function(e,n){return i.theta([t.cx,t.cy],[e,n])}),s=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var i=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,s=Math.abs(i-t.startAngle);return t.startAngle+s*e},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o),this.segment=i.quadrant([this.x1,this.y1],[this.x2,this.y2]);var r=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(r-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,l=this.sweep/o,u=a*l;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=function(t){var e=Math.floor(t),n=Math.ceil(t);return 1e-10>t-e?e:1e-10>n-t?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=u);var i=s(this,e),o=t.cx+t.r*Math.cos(i),r=t.cy+t.r*Math.sin(i);return{x:c(o),y:c(r),theta:i}},this.gradientAtPoint=function(e,n){var s=this.pointOnPath(e,n),o=i.normal([t.cx,t.cy],[s.x,s.y]);return this.anticlockwise||1/0!=o&&o!=-1/0||(o*=-1),o},this.pointAlongPathFrom=function(e,n,i){var s=this.pointOnPath(e,i),o=n/a*2*Math.PI,r=this.anticlockwise?-1:1,l=s.theta+r*o;return{x:t.cx+this.radius*Math.cos(l),y:t.cy+this.radius*Math.sin(l)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],e.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var i=function(e,n,i){return i&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=i(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=i(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,s){return e=i(this.curve,e,s),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}};var s=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){s.apply(this,arguments);var o=[],r=0,a=[],l=[],u=t.stub||0,c=n.isArray(u)?u[0]:u,h=n.isArray(u)?u[1]:u,d=t.gap||0,p=n.isArray(d)?d[0]:d,f=n.isArray(d)?d[1]:d,m=null,g=null;this.getPath=function(){},this.setPath=function(){},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var s=o[i].findClosestPointOnPath(t,e);s.d<n.d&&(n.d=s.d,n.l=s.l,n.x=s.x,n.y=s.y,n.s=o[i],n.x1=s.x1,n.x2=s.x2,n.y1=s.y1,n.y2=s.y2,n.index=i)}return n};var v=function(){for(var t=0,e=0;e<o.length;e++){var n=o[e].getLength();l[e]=n/r,a[e]=[t,t+=n/r]}},b=function(t,e){e&&(t=t>0?t/r:(r+t)/r);for(var n=a.length-1,i=1,s=0;s<a.length;s++)if(a[s][1]>=t){n=s,i=1==t?1:0===t?0:(t-a[s][0])/l[s];break}return{segment:o[n],proportion:i,index:n}},y=function(t,n,i){if(i.x1!=i.x2||i.y1!=i.y2){var s=new e.Segments[n](i);o.push(s),r+=s.getLength(),t.updateBounds(s)}},_=function(){r=o.length=a.length=l.length=0};this.setSegments=function(t){m=[],r=0;for(var e=0;e<t.length;e++)m.push(t[e]),r+=t[e].getLength()},this.getLength=function(){return r};var w=function(t){this.lineWidth=t.lineWidth;var e=i.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],s=t.targetPos[1]<t.sourcePos[1],o=t.lineWidth||1,r=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),l=n?t.targetPos[0]:t.sourcePos[0],u=s?t.targetPos[1]:t.sourcePos[1],d=Math.abs(t.targetPos[0]-t.sourcePos[0]),m=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===r[0]&&0===r[1]||0===a[0]&&0===a[1]){var g=d>m?0:1,v=[1,0][g];r=[],a=[],r[g]=t.sourcePos[g]>t.targetPos[g]?-1:1,a[g]=t.sourcePos[g]>t.targetPos[g]?1:-1,r[v]=0,a[v]=0}var b=n?d+p*r[0]:p*r[0],y=s?m+p*r[1]:p*r[1],_=n?f*a[0]:d+f*a[0],w=s?f*a[1]:m+f*a[1],x=r[0]*a[0]+r[1]*a[1],C={sx:b,sy:y,tx:_,ty:w,lw:o,xSpan:Math.abs(_-b),ySpan:Math.abs(w-y),mx:(b+_)/2,my:(y+w)/2,so:r,to:a,x:l,y:u,w:d,h:m,segment:e,startStubX:b+r[0]*c,startStubY:y+r[1]*c,endStubX:_+a[0]*h,endStubY:w+a[1]*h,isXGreaterThanStubTimes2:Math.abs(b-_)>c+h,isYGreaterThanStubTimes2:Math.abs(y-w)>c+h,opposite:-1==x,perpendicular:0===x,orthogonal:1==x,sourceAxis:0===r[0]?"y":"x",points:[l,u,d,m,b,y,_,w]};return C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular",C};return this.getSegments=function(){return o},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)},this.pointOnPath=function(t,e){var n=b(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=b(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var i=b(t,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,e,!1)||[0,0]},this.compute=function(t){g=w.call(this,t),_(),this._compute(g,t),this.x=g.points[0],this.y=g.points[1],this.w=g.points[2],this.h=g.points[3],this.segment=g.segment,v()},{addSegment:y,prepareCompute:w,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:p,targetGap:f,maxGap:Math.max(p,f)}},n.extend(e.Connectors.AbstractConnector,s);var o=e.Connectors.Straight=function(){this.type="Straight";var t=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e){t.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),t.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),t.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};n.extend(e.Connectors.Straight,e.Connectors.AbstractConnector),e.registerConnectorType(o,"Straight"),e.Endpoints.AbstractEndpoint=function(t){return s.apply(this,arguments),{compute:this.compute=function(){var t=this._compute.apply(this,arguments);return this.x=t[0],this.y=t[1],this.w=t[2],this.h=t[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,t},cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,s),e.Endpoints.Dot=function(t){this.type="Dot",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n){this.radius=n.radius||this.radius;var i=t[0]-this.radius,s=t[1]-this.radius,o=2*this.radius,r=2*this.radius;if(n.strokeStyle){var a=n.lineWidth||1;i-=a,s-=a,o+=2*a,r+=2*a}return[i,s,o,r,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,e,n){var i=n.width||this.width,s=n.height||this.height;return[t[0]-i/2,t[1]-s/2,i,s]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var r=function(){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(r,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(i){this.type="Image",r.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var s=i.onload,o=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,s&&s(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,e){var n=t.constructor==String?t:t.src;s=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(o,s),this._compute=function(t){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var t=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,e=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,t,e,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout(function(){this.paint(e,n)}.bind(this),200))}},n.extend(e.Endpoints.Image,[r,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",r.apply(this,arguments),this._compute=function(t){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,r],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},t.width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,n){var i=n.width||self.width,s=n.height||self.height;return[t[0]-i/2,t[1]-s/2,i,s]}};var a=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation};a.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",a.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{},this.length=t.length||20,this.width=t.width||20,this.id=t.id;var e=(t.direction||1)<0?-1:1,s=t.paintStyle||{lineWidth:1},o=t.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.draw=function(t,r){var a,l,u,c,h;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var d=parseInt(this.loc,10),p=this.loc<0?1:0;a=t.pointAlongPathFrom(p,d,!1),l=t.pointAlongPathFrom(p,d-e*this.length/2,!1),u=i.pointOnLine(a,l,this.length)}else if(1==this.loc){if(a=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,-this.length),u=i.pointOnLine(a,l,this.length),-1==e){var f=u;u=a,a=f}}else if(0===this.loc){if(u=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,this.length),a=i.pointOnLine(u,l,this.length),-1==e){var m=u;u=a,a=m}}else a=t.pointAlongPathFrom(this.loc,e*this.length/2),l=t.pointOnPath(this.loc),u=i.pointOnLine(a,l,this.length);c=i.perpendicularLineTo(a,u,this.width),h=i.pointOnLine(a,u,o*this.length);var g={hxy:a,tail:c,cxy:h},v=s.strokeStyle||r.strokeStyle,b=s.fillStyle||r.strokeStyle;return{component:t,d:g,lineWidth:s.lineWidth||r.lineWidth,strokeStyle:v,fillStyle:b,minX:Math.min(a.x,c[0].x,c[1].x),maxX:Math.max(a.x,c[0].x,c[1].x),minY:Math.min(a.y,c[0].y,c[1].y),maxY:Math.max(a.y,c[0].y,c[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,a,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback}}),e.Overlays.PlainArrow=function(t){t=t||{};var n=e.extend(t,{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){t=t||{};var n=t.length||40,i=jsPlumb.extend(t,{length:n/2,foldback:2});e.Overlays.Arrow.call(this,i),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var l=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){e.jsPlumbUIComponent.apply(this,arguments),a.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var n="translate(-50%, -50%)";e.style.webkitTransform=n,e.style.mozTransform=n,e.style.msTransform=n,e.style.oTransform=n,e.style.transform=n,e._jsPlumb=this,!1===t.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,i){var s=l(this);if(null!=s&&2==s.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var r=this.loc,a=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(r=parseInt(this.loc,10),a=!0),o=t.pointOnPath(r,a)}else{var u=this.loc.constructor==Array?this.loc:this.endpointLoc;o={x:u[0]*t.w,y:u[1]*t.h}}var c=o.x-s[0]/2,h=o.y-s[1]/2;return{component:t,d:{minx:c,miny:h,td:s,cxy:o},minX:c,maxX:c+s[0],minY:h,maxY:h+s[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[e.jsPlumbUIComponent,a],{getDimensions:function(){return n.oldIE?e.getSize(this.getElement()):[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(l(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=l(this);return Math.max(t[0],t[1])},paint:function(t){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(){this.type="Custom",u.apply(this,arguments)},n.extend(e.Overlays.Custom,u),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.lineWidth=5,this.type="GuideLines",a.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e){var n=e.pointAlongPathFrom(t.loc,t.length/2),s=e.pointOnPath(t.loc),o=i.pointOnLine(n,s,t.length),r=i.perpendicularLineTo(n,o,40),a=i.perpendicularLineTo(o,n,20);return{connector:e,head:n,tail:o,headLine:a,tailLine:r,minX:Math.min(n.x,o.x,a[0].x,a[1].x),minY:Math.min(n.y,o.y,a[0].y,a[1].y),maxX:Math.max(n.x,o.x,a[0].x,a[1].x),maxY:Math.max(n.y,o.y,a[0].y,a[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return jsPlumb.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(i.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0){var s=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+s}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){t.label&&this.setLabel(t.label)}})}.call(this),function(){"use strict";var t=this,e=function(e){var n=e._mottle;return n||(n=e._mottle=new t.Mottle),n};t.jsPlumb.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return e(this)},on:function(){return this.getEventManager().on.apply(this,arguments),this},off:function(){return this.getEventManager().off.apply(this,arguments),this}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t){this.type="Flowchart",t=t||{},t.stub=null==t.stub?30:t.stub;var n,i,s=e.Connectors.AbstractConnector.apply(this,arguments),o=null==t.midpoint?.5:t.midpoint,r=!0===t.alwaysRespectStubs,a=null,l=null,u=null,c=null!=t.cornerRadius?t.cornerRadius:0,h=function(t){return 0>t?-1:0===t?0:1},d=function(t,e,n,i){if(l!=e||u!=n){var s=null==l?i.sx:l,o=null==u?i.sy:u,r=s==e?"v":"h",a=h(e-s),c=h(n-o);l=e,u=n,t.push([s,o,e,n,r,a,c])}},p=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},f=function(t){var e=[];return e.push.apply(e,t),e},m=function(t,e,n){for(var i,o=null,r=0;r<e.length-1;r++){if(o=o||f(e[r]),i=f(e[r+1]),c>0&&o[4]!=i[4]){var a=Math.min(c,p(o),p(i));o[2]-=o[5]*a,o[3]-=o[6]*a,i[0]+=i[5]*a,i[1]+=i[6]*a
;var l=o[6]==i[5]&&1==i[5]||o[6]==i[5]&&0===i[5]&&o[5]!=i[6]||o[6]==i[5]&&-1==i[5],u=i[1]>o[3]?1:-1,h=i[0]>o[2]?1:-1,d=u==h,m=d&&l||!d&&!l?i[0]:o[2],g=d&&l||!d&&!l?o[3]:i[1];s.addSegment(t,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]}),s.addSegment(t,"Arc",{r:a,x1:o[2],y1:o[3],x2:i[0],y2:i[1],cx:m,cy:g,ac:l})}else{var v=o[2]==o[0]?0:o[2]>o[0]?n.lw/2:-n.lw/2,b=o[3]==o[1]?0:o[3]>o[1]?n.lw/2:-n.lw/2;s.addSegment(t,"Straight",{x1:o[0]-v,y1:o[1]-b,x2:o[2]+v,y2:o[3]+b})}o=i}null!=i&&s.addSegment(t,"Straight",{x1:i[0],y1:i[1],x2:i[2],y2:i[3]})};this.setSegments=function(t){a=t},this.isEditable=function(){return!0},this.getOriginalSegments=function(){return a||n},this._compute=function(t,e){if(e.clearEdits&&(a=null),null!=a)return void m(this,a,t);n=[],l=null,u=null,i=null;var c=t.startStubX+(t.endStubX-t.startStubX)*o,h=t.startStubY+(t.endStubY-t.startStubY)*o,p={x:[0,1],y:[1,0]},f=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},g={perpendicular:f,orthogonal:f,opposite:function(e){var n=t,i="x"==e?0:1,s={x:function(){return 1==n.so[i]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1==n.so[i]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1==n.so[i]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1==n.so[i]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}};return!r&&s[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}},v={perpendicular:function(e){var n=t,i={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},s={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},o={x:[[c,n.startStubY],[c,n.endStubY]],y:[[n.startStubX,h],[n.endStubX,h]]},r={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},a={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},l={x:[[n.startStubX,h],[n.endStubX,h],[n.endStubX,n.endStubY]],y:[[c,n.startStubY],[c,n.endStubY],[n.endStubX,n.endStubY]]},u={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},d=p[e][0],f=p[e][1],m=n.so[d]+1,g=n.to[f]+1,v=-1==n.to[f]&&u[e][1]<u[e][0]||1==n.to[f]&&u[e][1]>u[e][0],b=s[e][m][0],y=s[e][m][1],_=i[e][m][g];return n.segment==_[3]||n.segment==_[2]&&v?o[e]:n.segment==_[2]&&b>y?r[e]:n.segment==_[2]&&y>=b||n.segment==_[1]&&!v?l[e]:n.segment==_[0]||n.segment==_[1]&&v?a[e]:void 0},orthogonal:function(e,n,i,s,o){var r=t,a={x:-1==r.so[0]?Math.min(n,s):Math.max(n,s),y:-1==r.so[1]?Math.min(n,s):Math.max(n,s)}[e];return{x:[[a,i],[a,o],[s,o]],y:[[i,a],[o,a],[o,s]]}[e]},opposite:function(n,i,o,r){var a=t,l={x:"y",y:"x"}[n],u={x:"height",y:"width"}[n],d=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId==e.targetEndpoint.elementId){var p=o+(1-e.sourceEndpoint.anchor[l])*e.sourceInfo[u]+s.maxStub;return{x:[[i,p],[r,p]],y:[[p,i],[p,r]]}[n]}return!d||1==a.so[y]&&i>r||-1==a.so[y]&&r>i?{x:[[i,h],[r,h]],y:[[c,i],[c,r]]}[n]:1==a.so[y]&&r>i||-1==a.so[y]&&i>r?{x:[[c,a.sy],[c,a.ty]],y:[[a.sx,h],[a.tx,h]]}[n]:void 0}},b=g[t.anchorOrientation](t.sourceAxis),y="x"==t.sourceAxis?0:1,_="x"==t.sourceAxis?1:0,w=b[y],x=b[_],C=b[y+2],k=b[_+2];d(n,b[0],b[1],t);var D=v[t.anchorOrientation](t.sourceAxis,w,x,C,k);if(D)for(var S=0;S<D.length;S++)d(n,D[S][0],D[S][1],t);d(n,b[2],b[3],t),d(n,t.tx,t.ty,t),m(this,n,t)},this.getPath=function(){for(var t=null,e=null,i=[],s=a||n,o=0;o<s.length;o++){var r=s[o],l=r[4],u="v"==l?3:2;null!=t&&e===l?t[u]=r[u]:(r[0]!=r[2]||r[1]!=r[3])&&(i.push({start:[r[0],r[1]],end:[r[2],r[3]]}),t=r,e=r[4])}return i},this.setPath=function(t){a=[];for(var e=0;e<t.length;e++){var n=t[e].start[0],i=t[e].start[1],s=t[e].end[0],o=t[e].end[1],r=n==s?"v":"h",l=h(s-n),u=h(o-i);a.push([n,i,s,o,r,l,u])}}};n.extend(i,e.Connectors.AbstractConnector),e.registerConnectorType(i,"Flowchart")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,e,n,i){return n>=t&&e>=i?1:n>=t&&i>=e?2:t>=n&&i>=e?3:4},s=function(t,e,n,i,s,o,r,a,l){return l>=a?[t,e]:1===n?i[3]<=0&&s[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&s[2]<=0?[t,e+(i[3]<.5?-1*r:r)]:[t+-1*o,e+-1*r]:2===n?i[3]>=1&&s[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&s[2]<=0?[t,e+(i[3]<.5?-1*r:r)]:[t+o,e+-1*r]:3===n?i[3]>=1&&s[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&s[2]>=1?[t,e+(i[3]<.5?-1*r:r)]:[t+-1*o,e+-1*r]:4===n?i[3]<=0&&s[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&s[2]>=1?[t,e+(i[3]<.5?-1*r:r)]:[t+o,e+-1*r]:void 0},o=function(t){t=t||{},this.type="StateMachine";var n=e.Connectors.AbstractConnector.apply(this,arguments),o=t.curviness||10,r=t.margin||5,a=t.proximityLimit||80,l=t.orientation&&"clockwise"===t.orientation,u=t.loopbackRadius||25,c=!1!==t.showLoopback;this._compute=function(t,e){var h=Math.abs(e.sourcePos[0]-e.targetPos[0]),d=Math.abs(e.sourcePos[1]-e.targetPos[1]);if(c&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var p=e.sourcePos[0],f=e.sourcePos[1]-r,m=p,g=f-u,v=2*u,b=2*u,y=m-u,_=g-u;t.points[0]=y,t.points[1]=_,t.points[2]=v,t.points[3]=b,n.addSegment(this,"Arc",{loopback:!0,x1:p-y+4,y1:f-_,startAngle:0,endAngle:2*Math.PI,r:u,ac:!l,x2:p-y-4,y2:f-_,cx:m-y,cy:g-_})}else{var w=e.sourcePos[0]<e.targetPos[0]?0:h,x=e.sourcePos[1]<e.targetPos[1]?0:d,C=e.sourcePos[0]<e.targetPos[0]?h:0,k=e.sourcePos[1]<e.targetPos[1]?d:0;0===e.sourcePos[2]&&(w-=r),1===e.sourcePos[2]&&(w+=r),0===e.sourcePos[3]&&(x-=r),1===e.sourcePos[3]&&(x+=r),0===e.targetPos[2]&&(C-=r),1===e.targetPos[2]&&(C+=r),0===e.targetPos[3]&&(k-=r),1===e.targetPos[3]&&(k+=r);var D=(w+C)/2,S=(x+k)/2,E=i(w,x,C,k),P=Math.sqrt(Math.pow(C-w,2)+Math.pow(k-x,2)),T=s(D,S,E,e.sourcePos,e.targetPos,o,o,P,a);n.addSegment(this,"Bezier",{x1:C,y1:k,x2:w,y2:x,cp1x:T[0],cp1y:T[1],cp2x:T[0],cp2y:T[1]})}}};n.extend(o,e.Connectors.AbstractConnector),e.registerConnectorType(o,"StateMachine")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t){t=t||{};var n=e.Connectors.AbstractConnector.apply(this,arguments),i=t.curviness||150,s=10;this.type="Bezier",this.getCurviness=function(){return i},this._findControlPoint=function(t,e,n,o,r,a,l){var u=a[0]!=l[0]||a[1]==l[1],c=[];return u?(0===l[0]?c.push(n[0]<e[0]?t[0]+s:t[0]-s):c.push(t[0]+i*l[0]),0===l[1]?c.push(n[1]<e[1]?t[1]+s:t[1]-s):c.push(t[1]+i*a[1])):(0===a[0]?c.push(e[0]<n[0]?t[0]+s:t[0]-s):c.push(t[0]-i*a[0]),0===a[1]?c.push(e[1]<n[1]?t[1]+s:t[1]-s):c.push(t[1]+i*l[1])),c},this._compute=function(t,e){var i=e.sourcePos,s=e.targetPos,o=Math.abs(i[0]-s[0]),r=Math.abs(i[1]-s[1]),a=i[0]<s[0]?o:0,l=i[1]<s[1]?r:0,u=i[0]<s[0]?0:o,c=i[1]<s[1]?0:r,h=this._findControlPoint([a,l],i,s,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),d=this._findControlPoint([u,c],s,i,e.targetEndpoint,e.sourceEndpoint,t.to,t.so);n.addSegment(this,"Bezier",{x1:a,y1:l,x2:u,y2:c,cp1x:h[0],cp1y:h[1],cp2x:d[0],cp2y:d[1]})}};n.extend(i,e.Connectors.AbstractConnector),e.registerConnectorType(i,"Bezier")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},s="stroke-dasharray",o="dashstyle",r="fill",a="stroke",l="none",u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},c=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},h=function(t,e){return e=e||{},e.version="1.1",e.xmlns=u.xhtml,jsPlumb.createElementNS(u.svg,t,null,null,e)},d=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},p=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},f=function(t,e,n,i,s){var o="jsplumb_gradient_"+s._jsPlumb.instance.idstamp();p(t);var l;l=n.gradient.offset?h("radialGradient",{id:o}):h("linearGradient",{id:o,gradientUnits:"userSpaceOnUse"});var u=h("defs");t.appendChild(u),u.appendChild(l);for(var c=0;c<n.gradient.stops.length;c++){var d=1==s.segment||2==s.segment?c:n.gradient.stops.length-1-c,f=n.gradient.stops[d][1],m=h("stop",{offset:Math.floor(100*n.gradient.stops[c][0])+"%","stop-color":f});l.appendChild(m)}var g=n.strokeStyle?a:r;e.setAttribute(g,"url(#"+o+")")},m=function(t,e,n,u,c){if(e.setAttribute(r,n.fillStyle?n.fillStyle:l),e.setAttribute(a,n.strokeStyle?n.strokeStyle:l),n.gradient?f(t,e,n,0,c):(p(t),e.setAttribute("style","")),n.lineWidth&&e.setAttribute("stroke-width",n.lineWidth),n[o]&&n.lineWidth&&!n[s]){var h=-1==n[o].indexOf(",")?" ":",",d=n[o].split(h),m="";d.forEach(function(t){m+=Math.floor(t*n.lineWidth)+h}),e.setAttribute(s,m)}else n[s]&&e.setAttribute(s,n[s]);for(var g in i)n[g]&&e.setAttribute(i[g],n[g])},g=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};n.svg={node:h,attr:c,pos:d};var v=function(t){var i=t.pointerEventsSpec||"all",s={};e.jsPlumbUIComponent.apply(this,t.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var o=t.cssClass+" "+(t.originalArgs[0].cssClass||""),r={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=h("svg",r),t.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),n.sizeElement(this.canvas,0,0,1,1),this.canvas.className=o):(c(this.svg,{class:o}),this.canvas=this.svg),t._jsPlumb.appendElement(this.canvas,t.originalArgs[0].parent),t.useDivWrapper&&this.canvas.appendChild(this.svg);var a=[this.canvas];return this.getDisplayElements=function(){return a},this.appendDisplayElement=function(t){a.push(t)},this.paint=function(e,i,o){if(null!=e){var r,a=[this.x,this.y],l=[this.w,this.h];null!=o&&(o.xmin<0&&(a[0]+=o.xmin),o.ymin<0&&(a[1]+=o.ymin),l[0]=o.xmax+(o.xmin<0?-o.xmin:0),l[1]=o.ymax+(o.ymin<0?-o.ymin:0)),t.useDivWrapper?(n.sizeElement(this.canvas,a[0],a[1],l[0],l[1]),a[0]=0,a[1]=0,r=d([0,0])):r=d([a[0],a[1]]),s.paint.apply(this,arguments),c(this.svg,{style:r,width:l[0]||0,height:l[1]||0})}},{renderer:s}};n.extend(v,e.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this;v.apply(this,[{cssClass:t._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]).renderer.paint=function(i,s,o){var r=n.getSegments(),a="",l=[0,0];if(o.xmin<0&&(l[0]=-o.xmin),o.ymin<0&&(l[1]=-o.ymin),r.length>0){for(var u=0;u<r.length;u++)a+=e.Segments.svg.SegmentRenderer.getPath(r[u]),a+=" ";var d={d:a,transform:"translate("+l[0]+","+l[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},p=null;if(n.x,n.y,n.w,n.h,i.outlineColor){var f=i.outlineWidth||1,v=i.lineWidth+2*f;p=e.extend({},i),delete p.gradient,p.strokeStyle=i.outlineColor,p.lineWidth=v,null==n.bgPath?(n.bgPath=h("path",d),e.addClass(n.bgPath,e.connectorOutlineClass),g(n.svg,n.bgPath,0)):c(n.bgPath,d),m(n.svg,n.bgPath,p,0,n)}null==n.path?(n.path=h("path",d),g(n.svg,n.path,i.outlineColor?1:0)):c(n.path,d),m(n.svg,n.path,i,0,n)}}},n.extend(e.ConnectorRenderers.svg,v),e.Segments.svg={SegmentRenderer:{getPath:function(t){return{Straight:function(){var e=t.getCoordinates();return"M "+e.x1+" "+e.y1+" L "+e.x2+" "+e.y2},Bezier:function(){var e=t.params;return"M "+e.x1+" "+e.y1+" C "+e.cp1x+" "+e.cp1y+" "+e.cp2x+" "+e.cp2y+" "+e.x2+" "+e.y2},Arc:function(){var e=t.params,n=t.sweep>Math.PI?1:0,i=t.anticlockwise?0:1;return"M"+t.x1+" "+t.y1+" A "+t.radius+" "+e.r+" 0 "+n+","+i+" "+t.x2+" "+t.y2}}[t.type]()}}};var b=e.SvgEndpoint=function(t){v.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]).renderer.paint=function(t){var n=e.extend({},t);n.outlineColor&&(n.strokeWidth=n.outlineWidth,n.strokeStyle=n.outlineColor),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),m(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),d(this.node,(this.x,this.y))}.bind(this)};n.extend(b,v),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),b.apply(this,arguments),this.makeNode=function(){return h("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){c(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},n.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,b]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),b.apply(this,arguments),this.makeNode=function(){return h("rect",{width:this.w,height:this.h})},this.updateNode=function(t){c(t,{width:this.w,height:this.h})}},n.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,b]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var y=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=h("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.canvas=t.component.svg);var s=n&&1==n.length?n[0].cssClass||"":"",o=[0,0];e.xmin<0&&(o[0]=-e.xmin),e.ymin<0&&(o[1]=-e.ymin),c(this.path,{d:i(t.d),class:s,stroke:t.strokeStyle?t.strokeStyle:null,fill:t.fillStyle?t.fillStyle:null,transform:"translate("+o[0]+","+o[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};n.extend(y,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),e.Overlays.svg.Arrow=function(){y.apply(this,[e.Overlays.Arrow,arguments])},n.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,y]),e.Overlays.svg.PlainArrow=function(){y.apply(this,[e.Overlays.PlainArrow,arguments])},n.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,y]),e.Overlays.svg.Diamond=function(){y.apply(this,[e.Overlays.Diamond,arguments])},n.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,y]),e.Overlays.svg.GuideLines=function(){var t,n,i=null,s=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,r){null==i&&(i=h("path"),e.connector.svg.appendChild(i),s.attachListeners(i,e.connector),s.attachListeners(i,s),t=h("path"),e.connector.svg.appendChild(t),s.attachListeners(t,e.connector),s.attachListeners(t,s),n=h("path"),e.connector.svg.appendChild(n),s.attachListeners(n,e.connector),s.attachListeners(n,s));var a=[0,0];r.xmin<0&&(a[0]=-r.xmin),r.ymin<0&&(a[1]=-r.ymin),c(i,{d:o(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),c(t,{d:o(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),c(n,{d:o(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+a[0]+","+a[1]+")"})};var o=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},n.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,e){if("transparent"===t)return t;var n=t,i=function(t){return 1==t.length?"0"+t:t},s=function(t){return i(Number(t).toString(16))},o=/(rgb[a]?\()(.*)(\))/;if(t.match(o)){var r=t.match(o)[2].split(",");n="#"+s(r[0])+s(r[1])+s(r[2]),e||4!=r.length||(n+=function(t){return s(parseInt(255*t,10))}(r[3]))}return n},s={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},o=null;if(document.createStyleSheet&&document.namespaces){var r=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"];o=document.createStyleSheet();for(var a=0;a<r.length;a++)o.addRule(r[a],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}e.vml={};var l=1e3,u=function(t,e){for(var n in e)t[n]=e[n]},c=function(t,e,n,i,s,o){n=n||{};var r=document.createElement("jsplumb:"+t);return o?s.appendElement(r,i):i.appendChild(r),r.className=(n.class?n.class+" ":"")+"jsplumb_vml",h(r,e),u(r,n),r},h=function(t,e,n){t.style.left=e[0]+"px",t.style.top=e[1]+"px",t.style.width=e[2]+"px",t.style.height=e[3]+"px",t.style.position="absolute",n&&(t.style.zIndex=n)},d=e.vml.convertValue=function(t){return Math.floor(t*l)},p=function(t,e,n,i){"transparent"===e?i.setOpacity(n,"0.0"):i.setOpacity(n,"1.0")},f=function(t,e,n,s){var o={};if(e.strokeStyle){o.stroked="true";var r=i(e.strokeStyle,!0);o.strokecolor=r,p(0,r,"stroke",n),o.strokeweight=e.lineWidth+"px"}else o.stroked="false";if(e.fillStyle){o.filled="true";var a=i(e.fillStyle,!0);o.fillcolor=a,p(0,a,"fill",n)}else o.filled="false";if(e.dashstyle)null==n.strokeNode?n.strokeNode=c("stroke",[0,0,0,0],{dashstyle:e.dashstyle},t,s):n.strokeNode.dashstyle=e.dashstyle;else if(e["stroke-dasharray"]&&e.lineWidth){for(var l=-1==e["stroke-dasharray"].indexOf(",")?" ":",",h=e["stroke-dasharray"].split(l),d="",f=0;f<h.length;f++)d+=Math.floor(h[f]/e.lineWidth)+l;null==n.strokeNode?n.strokeNode=c("stroke",[0,0,0,0],{dashstyle:d},t,s):n.strokeNode.dashstyle=d}u(t,o)},m=function(){var t=this;e.jsPlumbUIComponent.apply(this,arguments),this.opacityNodes={stroke:null,fill:null},this.initOpacityNodes=function(e){t.opacityNodes.stroke=c("stroke",[0,0,1,1],{opacity:"0.0"},e,t._jsPlumb.instance),t.opacityNodes.fill=c("fill",[0,0,1,1],{opacity:"0.0"},e,t._jsPlumb.instance)},this.setOpacity=function(e,n){var i=t.opacityNodes[e];i&&(i.opacity=""+n)};var n=[];this.getDisplayElements=function(){return n},this.appendDisplayElement=function(e,i){i||t.canvas.parentNode.appendChild(e),n.push(e)}};n.extend(m,e.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&this.bgCanvas.parentNode.removeChild(this.bgCanvas),this.canvas&&this.canvas.parentNode.removeChild(this.canvas)}});var g=e.ConnectorRenderers.vml=function(t,i){this.strokeNode=null,this.canvas=null,m.apply(this,arguments);var o=this._jsPlumb.instance.connectorClass+(t.cssClass?" "+t.cssClass:"");this.paint=function(r){if(null!==r){this.w=Math.max(this.w,1),this.h=Math.max(this.h,1);for(var a=this.getSegments(),d={path:""},p=[this.x,this.y,this.w,this.h],m=0;m<a.length;m++)d.path+=e.Segments.vml.SegmentRenderer.getPath(a[m]),d.path+=" ";if(r.outlineColor){var g=r.outlineWidth||1,v=r.lineWidth+2*g,b={strokeStyle:n.convertStyle(r.outlineColor),lineWidth:v};for(var y in s)b[y]=r[y];null==this.bgCanvas?(d.class=o,d.coordsize=p[2]*l+","+p[3]*l,this.bgCanvas=c("shape",p,d,t.parent,this._jsPlumb.instance,!0),h(this.bgCanvas,p),this.appendDisplayElement(this.bgCanvas,!0),this.initOpacityNodes(this.bgCanvas,["stroke"]),this.bgCanvas._jsPlumb=i):(d.coordsize=p[2]*l+","+p[3]*l,h(this.bgCanvas,p),u(this.bgCanvas,d)),f(this.bgCanvas,b,this)}null==this.canvas?(d.class=o,d.coordsize=p[2]*l+","+p[3]*l,this.canvas=c("shape",p,d,t.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(this.canvas,["stroke"]),this.canvas._jsPlumb=i):(d.coordsize=p[2]*l+","+p[3]*l,h(this.canvas,p),u(this.canvas,d)),f(this.canvas,r,this,this._jsPlumb.instance)}}};n.extend(g,m,{setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none"),this.bgCanvas&&(this.bgCanvas.style.display=t?"block":"none")}});var v=e.VmlEndpoint=function(t){m.apply(this,arguments),this._jsPlumb.vml=null,this.canvas=document.createElement("div"),this.canvas.style.position="absolute",this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(t.cssClass?" "+t.cssClass:""),t._jsPlumb.appendElement(this.canvas,t.parent),this.paint=function(t,e){var i={},s=this._jsPlumb.vml;n.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null==this._jsPlumb.vml?(i.class=this._jsPlumb.clazz,s=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],i,e,this.canvas,this._jsPlumb.instance),this.appendDisplayElement(s,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(s,["fill"])):(h(s,[0,0,this.w,this.h]),u(s,i)),f(s,t,this)}};n.extend(v,m),e.Segments.vml={SegmentRenderer:{getPath:function(t){return{Straight:function(t){var e=t.params;return"m"+d(e.x1)+","+d(e.y1)+" l"+d(e.x2)+","+d(e.y2)+" e"},Bezier:function(t){var e=t.params;return"m"+d(e.x1)+","+d(e.y1)+" c"+d(e.cp1x)+","+d(e.cp1y)+","+d(e.cp2x)+","+d(e.cp2y)+","+d(e.x2)+","+d(e.y2)+" e"},Arc:function(t){var e=t.params,n=Math.min(e.x1,e.x2),i=(Math.max(e.x1,e.x2),Math.min(e.y1,e.y2)),s=(Math.max(e.y1,e.y2),t.anticlockwise?1:0),o=t.anticlockwise?"at ":"wa ";return o+" "+function(){if(e.loopback)return"0,0,"+d(2*e.r)+","+d(2*e.r);var o=[null,[function(){return[n,i]},function(){return[n-e.r,i-e.r]}],[function(){return[n-e.r,i]},function(){return[n,i-e.r]}],[function(){return[n-e.r,i-e.r]},function(){return[n,i]}],[function(){return[n,i-e.r]},function(){return[n-e.r,i]}]][t.segment][s]();return d(o[0])+","+d(o[1])+","+d(o[0]+2*e.r)+","+d(o[1]+2*e.r)}()+","+d(e.x1)+","+d(e.y1)+","+d(e.x2)+","+d(e.y2)+" e"}}[t.type](t)}}},e.Endpoints.vml.Dot=function(){e.Endpoints.Dot.apply(this,arguments),v.apply(this,arguments),this.getVml=function(t,e,n,i,s){return c("oval",t,e,i,s)}},n.extend(e.Endpoints.vml.Dot,v),e.Endpoints.vml.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),v.apply(this,arguments),this.getVml=function(t,e,n,i,s){return c("rect",t,e,i,s)}},n.extend(e.Endpoints.vml.Rectangle,v),e.Endpoints.vml.Image=e.Endpoints.Image,e.Endpoints.vml.Blank=e.Endpoints.Blank,e.Overlays.vml.Label=e.Overlays.Label,e.Overlays.vml.Custom=e.Overlays.Custom;var b=function(t,e){t.apply(this,e),m.apply(this,e);var i=this;this.canvas=null,this.isAppendedAtTopLevel=!0;var s=function(t){return"m "+d(t.hxy.x)+","+d(t.hxy.y)+" l "+d(t.tail[0].x)+","+d(t.tail[0].y)+" "+d(t.cxy.x)+","+d(t.cxy.y)+" "+d(t.tail[1].x)+","+d(t.tail[1].y)+" x e"};this.paint=function(t,o){if(t.component.canvas&&o){var r={},a=t.d,d=t.component;t.strokeStyle&&(r.stroked="true",r.strokecolor=n.convertStyle(t.strokeStyle,!0)),t.lineWidth&&(r.strokeweight=t.lineWidth+"px"),t.fillStyle&&(r.filled="true",r.fillcolor=t.fillStyle);var p=Math.min(a.hxy.x,a.tail[0].x,a.tail[1].x,a.cxy.x),f=Math.min(a.hxy.y,a.tail[0].y,a.tail[1].y,a.cxy.y),m=Math.max(a.hxy.x,a.tail[0].x,a.tail[1].x,a.cxy.x),g=Math.max(a.hxy.y,a.tail[0].y,a.tail[1].y,a.cxy.y),v=Math.abs(m-p),b=Math.abs(g-f),y=[p,f,v,b];if(r.path=s(a),r.coordsize=d.w*l+","+d.h*l,y[0]=d.x,y[1]=d.y,y[2]=d.w,y[3]=d.h,null==i.canvas){var _=d._jsPlumb.overlayClass||"",w=e&&1==e.length?e[0].cssClass||"":"";r.class=w+" "+_,i.canvas=c("shape",y,r,d.canvas.parentNode,d._jsPlumb.instance,!0),d.appendDisplayElement(i.canvas,!0)}else h(i.canvas,y),u(i.canvas,r)}},this.cleanup=function(){null!=this.canvas&&this._jsPlumb.instance.removeElement(this.canvas)}};n.extend(b,[m,e.Overlays.AbstractOverlay],{setVisible:function(t){this.canvas.style.display=t?"block":"none"}}),e.Overlays.vml.Arrow=function(){b.apply(this,[e.Overlays.Arrow,arguments])},n.extend(e.Overlays.vml.Arrow,[e.Overlays.Arrow,b]),e.Overlays.vml.PlainArrow=function(){b.apply(this,[e.Overlays.PlainArrow,arguments])},n.extend(e.Overlays.vml.PlainArrow,[e.Overlays.PlainArrow,b]),e.Overlays.vml.Diamond=function(){b.apply(this,[e.Overlays.Diamond,arguments])},n.extend(e.Overlays.vml.Diamond,[e.Overlays.Diamond,b])}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Katavorio,s=t.Biltong,o=function(t,e){e=e||"main";var o="_katavorio_"+e,r=t[o],a=t.getEventManager();return r||(r=new i({bind:a.on,unbind:a.off,getSize:jsPlumb.getSize,getPosition:function(e){var n=t.getOffset(e);return[n.left,n.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:jsPlumb.addClass,removeClass:jsPlumb.removeClass,intersects:s.intersects,indexOf:n.indexOf,css:{noSelect:t.dragSelectClass,droppable:"jsplumb-droppable",draggable:"jsplumb-draggable",drag:"jsplumb-drag",selected:"jsplumb-drag-selected",active:"jsplumb-drag-active",hover:"jsplumb-drag-hover"}}),t[o]=r,t.bind("zoom",r.setZoom)),r},r=function(t,e){var i=function(i){if(null!=e[i]){if(n.isString(e[i])){var s=e[i].match(/-=/)?-1:1,o=e[i].substring(2);return t[i]+s*o}return e[i]}return t[i]};return[i("left"),i("top")]};e.extend(t.jsPlumbInstance.prototype,{animationSupported:!0,scopeChange:function(){},getElement:function(t){return null==t?null:(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t,"string"==typeof t?document.getElementById(t):t)},removeElement:function(t){o(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,n){n=n||{};var i=this.getOffset(t),s=r(i,e),o=s[0]-i.left,a=s[1]-i.top,l=n.duration||250,u=l/15,c=15/l*o,h=15/l*a,d=0,p=setInterval(function(){jsPlumb.setPosition(t,{left:i.left+c*(d+1),top:i.top+h*(d+1)}),null!=n.step&&n.step(),++d>=u&&(window.clearInterval(p),null!=n.complete&&n.complete())},15)},destroyDraggable:function(t,e){o(this,e).destroyDraggable(t)},destroyDroppable:function(t,e){o(this,e).destroyDroppable(t)},initDraggable:function(t,e,n){o(this,n).draggable(t,e)},initDroppable:function(t,e,n){o(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(){return!0},isDropSupported:function(){return!0},isElementDraggable:function(t){return t=jsPlumb.getElement(t),t._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getDropScope:function(t){return t._katavorioDrop&&t._katavorioDrop.scopes.join(" ")||""},getUIPosition:function(t){return{left:t[0].pos[0],top:t[0].pos[1]}},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){t=jsPlumb.getElement(t),t._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){o(this).select(t)},removeFromDragSelection:function(t){o(this).deselect(t)},clearDragSelection:function(){o(this).deselectAll()},getOriginalEvent:function(t){return t},trigger:function(t,e,n){this.getEventManager().trigger(t,e,n)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});!function(t){var e=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?t():setTimeout(e,9)};e()}(e.init)}.call(this);var DateFormatter;!function(){"use strict";var t,e,n,i,s,o;s=864e5,o=3600,t=function(t,e){return"string"==typeof t&&"string"==typeof e&&t.toLowerCase()===e.toLowerCase()},e=function(t,n,i){var s=i||"0",o=t.toString();return o.length<n?e(s+o,n):o},n=function(t){var e,i;for(t=t||{},e=1;e<arguments.length;e++)if(i=arguments[e])for(var s in i)i.hasOwnProperty(s)&&("object"==typeof i[s]?n(t[s],i[s]):t[s]=i[s]);return t},i={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(t){var e=t%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(t%100/10)&&n[e]?n[e]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},DateFormatter=function(t){var e=this,s=n(i,t);e.dateSettings=s.dateSettings,e.separators=s.separators,e.validParts=s.validParts,e.intParts=s.intParts,e.tzParts=s.tzParts,e.tzClip=s.tzClip},DateFormatter.prototype={constructor:DateFormatter,parseDate:function(e,n){var i,s,o,r,a,l,u,c,h,d,p=this,f=!1,m=!1,g=p.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(e){if(e instanceof Date)return e;if("number"==typeof e)return new Date(e);if("U"===n)return o=parseInt(e),o?new Date(1e3*o):e;if("string"!=typeof e)return"";if(!(i=n.match(p.validParts))||0===i.length)throw new Error("Invalid date format definition.");for(s=e.replace(p.separators,"\0").split("\0"),o=0;o<s.length;o++)switch(r=s[o],a=parseInt(r),i[o]){case"y":case"Y":h=r.length,2===h?v.year=parseInt((70>a?"20":"19")+r):4===h&&(v.year=a),f=!0;break;case"m":case"n":case"M":case"F":isNaN(r)?(l=g.monthsShort.indexOf(r),l>-1&&(v.month=l+1),(l=g.months.indexOf(r))>-1&&(v.month=l+1)):a>=1&&12>=a&&(v.month=a),f=!0;break;case"d":case"j":a>=1&&31>=a&&(v.day=a),f=!0;break;case"g":case"h":u=i.indexOf("a")>-1?i.indexOf("a"):i.indexOf("A")>-1?i.indexOf("A"):-1,d=s[u],u>-1?(c=t(d,g.meridiem[0])?0:t(d,g.meridiem[1])?12:-1,a>=1&&12>=a&&c>-1?v.hour=a+c:a>=0&&23>=a&&(v.hour=a)):a>=0&&23>=a&&(v.hour=a),m=!0;break;case"G":case"H":a>=0&&23>=a&&(v.hour=a),m=!0;break;case"i":a>=0&&59>=a&&(v.min=a),m=!0;break;case"s":a>=0&&59>=a&&(v.sec=a),m=!0}if(!0===f&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==m)return!1;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date}},guessDate:function(t,e){if("string"!=typeof t)return t;var n,i,s,o,r=this,a=t.replace(r.separators,"\0").split("\0"),l=/^[djmn]/g,u=e.match(r.validParts),c=new Date,h=0;if(!l.test(u[0]))return t;for(i=0;i<a.length;i++){switch(h=2,s=a[i],o=parseInt(s.substr(0,2)),i){case 0:"m"===u[0]||"n"===u[0]?c.setMonth(o-1):c.setDate(o);break;case 1:"m"===u[0]||"n"===u[0]?c.setDate(o):c.setMonth(o-1);break;case 2:n=c.getFullYear(),s.length<4?(c.setFullYear(parseInt(n.toString().substr(0,4-s.length)+s)),h=s.length):(c.setFullYear=parseInt(s.substr(0,4)),h=4);break;case 3:c.setHours(o);break;case 4:c.setMinutes(o);break;case 5:c.setSeconds(o)}s.substr(h).length>0&&a.splice(i+1,0,s.substr(h))}return c},parseFormat:function(t,n){var i,r=this,a=r.dateSettings,l=/\\?(.?)/gi,u=function(t,e){return i[t]?i[t]():e};return i={d:function(){return e(i.j(),2)},D:function(){return a.daysShort[i.w()]},j:function(){return n.getDate()},l:function(){return a.days[i.w()]},N:function(){return i.w()||7},w:function(){return n.getDay()},z:function(){var t=new Date(i.Y(),i.n()-1,i.j()),e=new Date(i.Y(),0,1);return Math.round((t-e)/s)},W:function(){var t=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),n=new Date(t.getFullYear(),0,4);return e(1+Math.round((t-n)/s/7),2)},F:function(){
return a.months[n.getMonth()]},m:function(){return e(i.n(),2)},M:function(){return a.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var t=i.Y();return t%4==0&&t%100!=0||t%400==0?1:0},o:function(){var t=i.n(),e=i.W();return i.Y()+(12===t&&9>e?1:1===t&&e>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return i.A().toLowerCase()},A:function(){var t=i.G()<12?0:1;return a.meridiem[t]},B:function(){var t=n.getUTCHours()*o,i=60*n.getUTCMinutes(),s=n.getUTCSeconds();return e(Math.floor((t+i+s+o)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return e(i.g(),2)},H:function(){return e(i.G(),2)},i:function(){return e(n.getMinutes(),2)},s:function(){return e(n.getSeconds(),2)},u:function(){return e(1e3*n.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(n))[1]||"Coordinated Universal Time"},T:function(){return(String(n).match(r.tzParts)||[""]).pop().replace(r.tzClip,"")||"UTC"},I:function(){return new Date(i.Y(),0)-Date.UTC(i.Y(),0)!=new Date(i.Y(),6)-Date.UTC(i.Y(),6)?1:0},O:function(){var t=n.getTimezoneOffset(),i=Math.abs(t);return(t>0?"-":"+")+e(100*Math.floor(i/60)+i%60,4)},P:function(){var t=i.O();return t.substr(0,3)+":"+t.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,u)},r:function(){return"D, d M Y H:i:s O".replace(l,u)},U:function(){return n.getTime()/1e3||0}},u(t,t)},formatDate:function(t,e){var n,i,s,o,r,a=this,l="";if("string"==typeof t&&!1===(t=a.parseDate(t,e)))return!1;if(t instanceof Date){for(s=e.length,n=0;s>n;n++)"S"!==(r=e.charAt(n))&&(o=a.parseFormat(r,t),n!==s-1&&a.intParts.test(r)&&"S"===e.charAt(n+1)&&(i=parseInt(o),o+=a.dateSettings.ordinal(i)),l+=o);return l}return""}}}(),function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){"use strict";function e(t,e,n){this.date=t,this.desc=e,this.style=n}var n={i18n:{ar:{months:[" ","","","","","","","",""," "," "," "],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","","",""]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","S"],dayOfWeek:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"],dayOfWeekShort:["Sun","Mn","ri","Mi","Fim","Fs","Lau"],dayOfWeek:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur"]},bg:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},fa:{months:["","","","","","","","","","","",""],dayOfWeekShort:["",""," ","","","",""],dayOfWeek:["","","","","","","",""]},ru:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},uk:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","'",""]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},de:{months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],dayOfWeekShort:["Paz","Pts","Sal","ar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],dayOfWeek:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"]},th:{months:["","","","","","","","","","","",""],dayOfWeekShort:[".",".",".",".",".",".","."],dayOfWeek:["","","","","","","",""]},pl:{months:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"],dayOfWeekShort:["nd","pn","wt","r","cz","pt","sb"],dayOfWeek:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},pt:{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"]},ch:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},kr:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayOfWeek:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayOfWeek:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"]},ja:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},vi:{months:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","et","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"]},cs:{months:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","t","St","t","P","So"]},hu:{months:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],dayOfWeekShort:["Va","H","Ke","Sze","Cs","P","Szo"],dayOfWeek:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","a","","Ca","C",""],dayOfWeek:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Keskuu","Heinkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mrcores","Xoves","Venres","Sbado"]},hr:{months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"]},ko:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},lt:{months:["Sausio","Vasario","Kovo","Balandio","Gegus","Birelio","Liepos","Rugpjio","Rugsjo","Spalio","Lapkriio","Gruodio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","e"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Treiadienis","Ketvirtadienis","Penktadienis","etadienis"]},lv:{months:["Janvris","Februris","Marts","Aprlis ","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svtdiena","Pirmdiena","Otrdiena","Trediena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},mn:{months:["1- ","2- ","3- ","4- ","5- ","6- ","7- ","8- ","9- ","10- ","11- ","12- "],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},"pt-BR":{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],dayOfWeek:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"]},sk:{months:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","t","Pi","So"],dayOfWeek:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nntor","Dhjetor"],dayOfWeekShort:["Die","Hn","Mar","Mr","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hn","E Mart","E Mrkur","E Enjte","E Premte","E Shtun"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","et","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota"]},sr:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],dayOfWeek:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"]},"zh-TW":{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},zh:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},he:{months:["","","","","","","","","","","",""],dayOfWeekShort:["'","'","'","'","'","'",""],dayOfWeek:["","","","","","","",""]},hy:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},kg:{months:[" "," "," "," ","","",""," "," "," "," "," "],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["","","","","","","","","","","",""],dayOfWeekShort:["","","","","","",""],dayOfWeek:["","","","","","",""]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},i=null,s="en",o={meridiem:["AM","PM"]},r=function(){var e=n.i18n[s],r={days:e.dayOfWeek,daysShort:e.dayOfWeekShort,months:e.months,monthsShort:t.map(e.months,function(t){return t.substring(0,3)})};i=new DateFormatter({dateSettings:t.extend({},o,r)})};t.datetimepicker={setLocale:function(t){var e=n.i18n[t]?t:"en";s!=e&&(s=e,r())},setDateFormatter:function(t){i=t},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},r(),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(t,e,n){return n.toUpperCase()})),t.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,i;for(n=e||0,i=this.length;i>n;n+=1)if(this[n]===t)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e){return this.each(function(){var n,i,s,o,r,a=t(this),l=function(t){var e,n={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n.x=e.clientX,n.y=e.clientY):("mousedown"===t.type||"mouseup"===t.type||"mousemove"===t.type||"mouseover"===t.type||"mouseout"===t.type||"mouseenter"===t.type||"mouseleave"===t.type)&&(n.x=t.clientX,n.y=t.clientY),n},u=100,c=!1,h=0,d=0,p=0,f=!1,m=0,g=function(){};return"hide"===e?void a.find(".xdsoft_scrollbar").hide():(t(this).hasClass("xdsoft_scroller_box")||(n=a.children().eq(0),i=a[0].clientHeight,s=n[0].offsetHeight,o=t('<div class="xdsoft_scrollbar"></div>'),r=t('<div class="xdsoft_scroller"></div>'),o.append(r),a.addClass("xdsoft_scroller_box").append(o),g=function(t){var e=l(t).y-h+m;0>e&&(e=0),e+r[0].offsetHeight>p&&(e=p-r[0].offsetHeight),a.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])},r.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){i||a.trigger("resize_scroll.xdsoft_scroller",[e]),h=l(n).y,m=parseInt(r.css("margin-top"),10),p=o[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(document&&t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("touchend mouseup.xdsoft_scroller",function e(){t([document.body,window]).off("touchend mouseup.xdsoft_scroller",e).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),t(document.body).on("mousemove.xdsoft_scroller",g)):(f=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(t){f&&(t.preventDefault(),g(t))}).on("touchend touchcancel",function(){f=!1,m=0}),a.on("scroll_element.xdsoft_scroller",function(t,e){i||a.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,r.css("margin-top",u*e),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-i)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,l){var c,h;i=a[0].clientHeight,s=n[0].offsetHeight,c=i/s,h=c*o[0].offsetHeight,c>1?r.hide():(r.show(),r.css("height",parseInt(h>10?h:10,10)),u=o[0].offsetHeight-r[0].offsetHeight,!0!==l&&a.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(n.css("marginTop"),10))/(s-i)]))}),a.on("mousewheel",function(t){var e=Math.abs(parseInt(n.css("marginTop"),10));return e-=20*t.deltaY,0>e&&(e=0),a.trigger("scroll_element.xdsoft_scroller",[e/(s-i)]),t.stopPropagation(),!1}),a.on("touchstart",function(t){c=l(t),d=Math.abs(parseInt(n.css("marginTop"),10))}),a.on("touchmove",function(t){if(c){t.preventDefault();var e=l(t);a.trigger("scroll_element.xdsoft_scroller",[(d-(e.y-c.y))/(s-i)])}}),a.on("touchend touchcancel",function(){c=!1,d=0})),void a.trigger("resize_scroll.xdsoft_scroller",[e]))})},t.fn.datetimepicker=function(o,r){var a,l,u=this,c=48,h=96,d=105,p=17,f=46,m=13,g=8,v=9,b=!1,y=t.isPlainObject(o)||!o?t.extend(!0,{},n,o):t.extend(!0,{},n),_=0,w=function(t){t.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(_),_=setTimeout(function(){t.data("xdsoft_datetimepicker")||a(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")},100))})};return a=function(n){function r(){var t,e=!1;return y.startDate?e=C.strToDate(y.startDate):(e=y.value||(n&&n.val&&n.val()?n.val():""),e?e=C.strToDateTime(e):y.defaultDate&&(e=C.strToDateTime(y.defaultDate),y.defaultTime&&(t=C.strtotime(y.defaultTime),e.setHours(t.getHours()),e.setMinutes(t.getMinutes())))),e&&C.isValidDate(e)?D.data("changed",!0):e="",e||0}function a(e){var i=function(t,e){var n=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(e)},s=function(t){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(t.setSelectionRange)return t.selectionStart}catch(t){return 0}},o=function(t,e){if(!(t="string"==typeof t||t instanceof String?document.getElementById(t):t))return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select(),!0}return!!t.setSelectionRange&&(t.setSelectionRange(e,e),!0)};e.mask&&n.off("keydown.xdsoft"),!0===e.mask&&(e.mask="undefined"!=typeof moment?e.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):e.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(e.mask)&&(i(e.mask,n.val())||(n.val(e.mask.replace(/[0-9]/g,"_")),o(n[0],0)),n.on("keydown.xdsoft",function(r){var a,l,u=this.value,y=r.which;if(y>=c&&57>=y||y>=h&&d>=y||y===g||y===f){for(a=s(this),l=y!==g&&y!==f?String.fromCharCode(y>=h&&d>=y?y-c:y):"_",y!==g&&y!==f||!a||(a-=1,l="_");/[^0-9_]/.test(e.mask.substr(a,1))&&a<e.mask.length&&a>0;)a+=y===g||y===f?-1:1;if(u=u.substr(0,a)+l+u.substr(a+1),""===t.trim(u))u=e.mask.replace(/[0-9]/g,"_");else if(a===e.mask.length)return r.preventDefault(),!1;for(a+=y===g||y===f?0:1;/[^0-9_]/.test(e.mask.substr(a,1))&&a<e.mask.length&&a>0;)a+=y===g||y===f?-1:1;i(e.mask,u)?(this.value=u,o(this,a)):""===t.trim(u)?this.value=e.mask.replace(/[0-9]/g,"_"):n.trigger("error_input.xdsoft")}else if(-1!==[65,67,86,90,89].indexOf(y)&&b||-1!==[27,38,40,37,39,116,p,v,m].indexOf(y))return!0;return r.preventDefault(),!1}))}var l,u,_,w,x,C,k,D=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),S=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),E=t('<div class="xdsoft_datepicker active"></div>'),P=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),T=t('<div class="xdsoft_calendar"></div>'),N=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),M=N.find(".xdsoft_time_box").eq(0),O=t('<div class="xdsoft_time_variant"></div>'),A=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),j=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),I=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),F=!1,L=0;y.id&&D.attr("id",y.id),y.style&&D.attr("style",y.style),y.weeks&&D.addClass("xdsoft_showweeks"),y.rtl&&D.addClass("xdsoft_rtl"),D.addClass("xdsoft_"+y.theme),D.addClass(y.className),P.find(".xdsoft_month span").after(j),P.find(".xdsoft_year span").after(I),P.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(e){var n,i,s=t(this).find(".xdsoft_select").eq(0),o=0,r=0,a=s.is(":visible");for(P.find(".xdsoft_select").hide(),C.currentTime&&(o=C.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),s[a?"hide":"show"](),n=s.find("div.xdsoft_option"),i=0;i<n.length&&n.eq(i).data("value")!==o;i+=1)r+=n[0].offsetHeight;return s.xdsoftScroller(r/(s.children()[0].offsetHeight-s[0].clientHeight)),e.stopPropagation(),!1}),P.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(t){t.stopPropagation(),t.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){(void 0===C.currentTime||null===C.currentTime)&&(C.currentTime=C.now());var e=C.currentTime.getFullYear();C&&C.currentTime&&C.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),D.trigger("xchange.xdsoft"),y.onChangeMonth&&t.isFunction(y.onChangeMonth)&&y.onChangeMonth.call(D,C.currentTime,D.data("input")),e!==C.currentTime.getFullYear()&&t.isFunction(y.onChangeYear)&&y.onChangeYear.call(D,C.currentTime,D.data("input"))}),D.getValue=function(){return C.getCurrentTime()},D.setOptions=function(s){var o={};y=t.extend(!0,{},y,s),s.allowTimes&&t.isArray(s.allowTimes)&&s.allowTimes.length&&(y.allowTimes=t.extend(!0,[],s.allowTimes)),s.weekends&&t.isArray(s.weekends)&&s.weekends.length&&(y.weekends=t.extend(!0,[],s.weekends)),s.allowDates&&t.isArray(s.allowDates)&&s.allowDates.length&&(y.allowDates=t.extend(!0,[],s.allowDates)),s.allowDateRe&&"[object String]"===Object.prototype.toString.call(s.allowDateRe)&&(y.allowDateRe=new RegExp(s.allowDateRe)),s.highlightedDates&&t.isArray(s.highlightedDates)&&s.highlightedDates.length&&(t.each(s.highlightedDates,function(n,s){var r,a=t.map(s.split(","),t.trim),l=new e(i.parseDate(a[0],y.formatDate),a[1],a[2]),u=i.formatDate(l.date,y.formatDate);void 0!==o[u]?(r=o[u].desc)&&r.length&&l.desc&&l.desc.length&&(o[u].desc=r+"\n"+l.desc):o[u]=l}),y.highlightedDates=t.extend(!0,[],o)),s.highlightedPeriods&&t.isArray(s.highlightedPeriods)&&s.highlightedPeriods.length&&(o=t.extend(!0,[],y.highlightedDates),t.each(s.highlightedPeriods,function(n,s){var r,a,l,u,c,h,d;if(t.isArray(s))r=s[0],a=s[1],l=s[2],d=s[3];else{var p=t.map(s.split(","),t.trim);r=i.parseDate(p[0],y.formatDate),a=i.parseDate(p[1],y.formatDate),l=p[2],d=p[3]}for(;a>=r;)u=new e(r,l,d),c=i.formatDate(r,y.formatDate),r.setDate(r.getDate()+1),void 0!==o[c]?(h=o[c].desc)&&h.length&&u.desc&&u.desc.length&&(o[c].desc=h+"\n"+u.desc):o[c]=u}),y.highlightedDates=t.extend(!0,[],o)),s.disabledDates&&t.isArray(s.disabledDates)&&s.disabledDates.length&&(y.disabledDates=t.extend(!0,[],s.disabledDates)),s.disabledWeekDays&&t.isArray(s.disabledWeekDays)&&s.disabledWeekDays.length&&(y.disabledWeekDays=t.extend(!0,[],s.disabledWeekDays)),!y.open&&!y.opened||y.inline||n.trigger("open.xdsoft"),y.inline&&(F=!0,D.addClass("xdsoft_inline"),n.after(D).hide()),y.inverseButton&&(y.next="xdsoft_prev",y.prev="xdsoft_next"),y.datepicker?E.addClass("active"):E.removeClass("active"),y.timepicker?N.addClass("active"):N.removeClass("active"),y.value&&(C.setCurrentTime(y.value),n&&n.val&&n.val(C.str)),y.dayOfWeekStart=isNaN(y.dayOfWeekStart)?0:parseInt(y.dayOfWeekStart,10)%7,y.timepickerScrollbar||M.xdsoftScroller("hide"),y.minDate&&/^[\+\-](.*)$/.test(y.minDate)&&(y.minDate=i.formatDate(C.strToDateTime(y.minDate),y.formatDate)),y.maxDate&&/^[\+\-](.*)$/.test(y.maxDate)&&(y.maxDate=i.formatDate(C.strToDateTime(y.maxDate),y.formatDate)),A.toggle(y.showApplyButton),P.find(".xdsoft_today_button").css("visibility",y.todayButton?"visible":"hidden"),P.find("."+y.prev).css("visibility",y.prevButton?"visible":"hidden"),P.find("."+y.next).css("visibility",y.nextButton?"visible":"hidden"),a(y),y.validateOnBlur&&n.off("blur.xdsoft").on("blur.xdsoft",function(){if(y.allowBlank&&(!t.trim(t(this).val()).length||"string"==typeof y.mask&&t.trim(t(this).val())===y.mask.replace(/[0-9]/g,"_")))t(this).val(null),D.data("xdsoft_datetime").empty();else{var e=i.parseDate(t(this).val(),y.format);if(e)t(this).val(i.formatDate(e,y.format));else{var n=+[t(this).val()[0],t(this).val()[1]].join(""),s=+[t(this).val()[2],t(this).val()[3]].join("");t(this).val(!y.datepicker&&y.timepicker&&n>=0&&24>n&&s>=0&&60>s?[n,s].map(function(t){return t>9?t:"0"+t}).join(":"):i.formatDate(C.now(),y.format))}D.data("xdsoft_datetime").setCurrentTime(t(this).val())}D.trigger("changedatetime.xdsoft"),D.trigger("close.xdsoft")}),y.dayOfWeekStartPrev=0===y.dayOfWeekStart?6:y.dayOfWeekStart-1,D.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},D.data("options",y).on("touchstart mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),I.hide(),j.hide(),!1}),M.append(O),M.xdsoftScroller(),D.on("afterOpen.xdsoft",function(){M.xdsoftScroller()}),D.append(E).append(N),!0!==y.withoutCopyright&&D.append(S),E.append(P).append(T).append(A),t(y.parentID).append(D),l=function(){var e=this;e.now=function(t){var n,i,s=new Date;return!t&&y.defaultDate&&(n=e.strToDateTime(y.defaultDate),s.setFullYear(n.getFullYear()),s.setMonth(n.getMonth()),s.setDate(n.getDate())),y.yearOffset&&s.setFullYear(s.getFullYear()+y.yearOffset),!t&&y.defaultTime&&(i=e.strtotime(y.defaultTime),s.setHours(i.getHours()),s.setMinutes(i.getMinutes())),s},e.isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e.setCurrentTime=function(t,n){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:t||n||!y.allowBlank?e.now():null,D.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){(void 0===e.currentTime||null===e.currentTime)&&(e.currentTime=e.now());var n,i=e.currentTime.getMonth()+1;return 12===i&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),i=0),n=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(i),y.onChangeMonth&&t.isFunction(y.onChangeMonth)&&y.onChangeMonth.call(D,C.currentTime,D.data("input")),
n!==e.currentTime.getFullYear()&&t.isFunction(y.onChangeYear)&&y.onChangeYear.call(D,C.currentTime,D.data("input")),D.trigger("xchange.xdsoft"),i},e.prevMonth=function(){(void 0===e.currentTime||null===e.currentTime)&&(e.currentTime=e.now());var n=e.currentTime.getMonth()-1;return-1===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),n=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),y.onChangeMonth&&t.isFunction(y.onChangeMonth)&&y.onChangeMonth.call(D,C.currentTime,D.data("input")),D.trigger("xchange.xdsoft"),n},e.getWeekOfYear=function(e){if(y.onGetWeekOfYear&&t.isFunction(y.onGetWeekOfYear)){var n=y.onGetWeekOfYear.call(D,e);if(void 0!==n)return n}var i=new Date(e.getFullYear(),0,1);return 4!=i.getDay()&&i.setMonth(0,1+(4-i.getDay()+7)%7),Math.ceil(((e-i)/864e5+i.getDay()+1)/7)},e.strToDateTime=function(t){var n,s,o=[];return t&&t instanceof Date&&e.isValidDate(t)?t:(o=/^(\+|\-)(.*)$/.exec(t),o&&(o[2]=i.parseDate(o[2],y.formatDate)),o&&o[2]?(n=o[2].getTime()-6e4*o[2].getTimezoneOffset(),s=new Date(e.now(!0).getTime()+parseInt(o[1]+"1",10)*n)):s=t?i.parseDate(t,y.format):e.now(),e.isValidDate(s)||(s=e.now()),s)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?i.parseDate(t,y.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?i.parseDate(t,y.formatTime):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return i.formatDate(e.currentTime,y.format)},e.currentTime=this.now()},C=new l,A.on("touchend click",function(t){t.preventDefault(),D.data("changed",!0),C.setCurrentTime(r()),n.val(C.str()),D.trigger("close.xdsoft")}),P.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){D.data("changed",!0),C.setCurrentTime(0,!0),D.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var t,e,i=C.getCurrentTime();i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=C.strToDate(y.minDate),(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))>i||(e=C.strToDate(y.maxDate),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i>e||(n.val(C.str()),n.trigger("change"),D.trigger("close.xdsoft")))}),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),n=0,i=!1;!function t(s){e.hasClass(y.next)?C.nextMonth():e.hasClass(y.prev)&&C.prevMonth(),y.monthChangeSpinner&&(i||(n=setTimeout(t,s||100)))}(500),t([document.body,window]).on("touchend mouseup.xdsoft",function e(){clearTimeout(n),i=!0,t([document.body,window]).off("touchend mouseup.xdsoft",e)})}),N.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),n=0,i=!1,s=110;!function t(o){var r=M[0].clientHeight,a=O[0].offsetHeight,l=Math.abs(parseInt(O.css("marginTop"),10));e.hasClass(y.next)&&a-r-y.timeHeightInTimePicker>=l?O.css("marginTop","-"+(l+y.timeHeightInTimePicker)+"px"):e.hasClass(y.prev)&&l-y.timeHeightInTimePicker>=0&&O.css("marginTop","-"+(l-y.timeHeightInTimePicker)+"px"),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O[0].style.marginTop,10)/(a-r))]),s=s>10?10:s-10,i||(n=setTimeout(t,o||s))}(500),t([document.body,window]).on("touchend mouseup.xdsoft",function e(){clearTimeout(n),i=!0,t([document.body,window]).off("touchend mouseup.xdsoft",e)})}),u=0,D.on("xchange.xdsoft",function(e){clearTimeout(u),u=setTimeout(function(){if(void 0===C.currentTime||null===C.currentTime){if(y.allowBlank)return;C.currentTime=C.now()}for(var e,r,a,l,u,c,h,d,p,f,m="",g=new Date(C.currentTime.getFullYear(),C.currentTime.getMonth(),1,12,0,0),v=0,b=C.now(),_=!1,w=!1,x=[],k=!0,S="",E="";g.getDay()!==y.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",y.weeks&&(m+="<th></th>"),e=0;7>e;e+=1)m+="<th>"+y.i18n[s].dayOfWeekShort[(e+y.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==y.maxDate&&(_=C.strToDate(y.maxDate),_=new Date(_.getFullYear(),_.getMonth(),_.getDate(),23,59,59,999)),!1!==y.minDate&&(w=C.strToDate(y.minDate),w=new Date(w.getFullYear(),w.getMonth(),w.getDate()));v<C.currentTime.countDaysInMonth()||g.getDay()!==y.dayOfWeekStart||C.currentTime.getMonth()===g.getMonth();)x=[],v+=1,a=g.getDay(),l=g.getDate(),u=g.getFullYear(),c=g.getMonth(),h=C.getWeekOfYear(g),f="",x.push("xdsoft_date"),d=y.beforeShowDay&&t.isFunction(y.beforeShowDay.call)?y.beforeShowDay.call(D,g):null,y.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(y.allowDateRe)?y.allowDateRe.test(i.formatDate(g,y.formatDate))||x.push("xdsoft_disabled"):y.allowDates&&y.allowDates.length>0?-1===y.allowDates.indexOf(i.formatDate(g,y.formatDate))&&x.push("xdsoft_disabled"):!1!==_&&g>_||!1!==w&&w>g||d&&!1===d[0]?x.push("xdsoft_disabled"):-1!==y.disabledDates.indexOf(i.formatDate(g,y.formatDate))?x.push("xdsoft_disabled"):-1!==y.disabledWeekDays.indexOf(a)?x.push("xdsoft_disabled"):n.is("[readonly]")&&x.push("xdsoft_disabled"),d&&""!==d[1]&&x.push(d[1]),C.currentTime.getMonth()!==c&&x.push("xdsoft_other_month"),(y.defaultSelect||D.data("changed"))&&i.formatDate(C.currentTime,y.formatDate)===i.formatDate(g,y.formatDate)&&x.push("xdsoft_current"),i.formatDate(b,y.formatDate)===i.formatDate(g,y.formatDate)&&x.push("xdsoft_today"),(0===g.getDay()||6===g.getDay()||-1!==y.weekends.indexOf(i.formatDate(g,y.formatDate)))&&x.push("xdsoft_weekend"),void 0!==y.highlightedDates[i.formatDate(g,y.formatDate)]&&(r=y.highlightedDates[i.formatDate(g,y.formatDate)],x.push(void 0===r.style?"xdsoft_highlighted_default":r.style),f=void 0===r.desc?"":r.desc),y.beforeShowDay&&t.isFunction(y.beforeShowDay)&&x.push(y.beforeShowDay(g)),k&&(m+="<tr>",k=!1,y.weeks&&(m+="<th>"+h+"</th>")),m+='<td data-date="'+l+'" data-month="'+c+'" data-year="'+u+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+x.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",g.getDay()===y.dayOfWeekStartPrev&&(m+="</tr>",k=!0),g.setDate(l+1);if(m+="</tbody></table>",T.html(m),P.find(".xdsoft_label span").eq(0).text(y.i18n[s].months[C.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(C.currentTime.getFullYear()),S="",E="",c="",p=function(e,s){var o,r,a=C.now(),l=y.allowTimes&&t.isArray(y.allowTimes)&&y.allowTimes.length;a.setHours(e),e=parseInt(a.getHours(),10),a.setMinutes(s),s=parseInt(a.getMinutes(),10),o=new Date(C.currentTime),o.setHours(e),o.setMinutes(s),x=[],!1!==y.minDateTime&&y.minDateTime>o||!1!==y.maxTime&&C.strtotime(y.maxTime).getTime()<a.getTime()||!1!==y.minTime&&C.strtotime(y.minTime).getTime()>a.getTime()?x.push("xdsoft_disabled"):!1!==y.minDateTime&&y.minDateTime>o||!1!==y.disabledMinTime&&a.getTime()>C.strtotime(y.disabledMinTime).getTime()&&!1!==y.disabledMaxTime&&a.getTime()<C.strtotime(y.disabledMaxTime).getTime()?x.push("xdsoft_disabled"):n.is("[readonly]")&&x.push("xdsoft_disabled"),r=new Date(C.currentTime),r.setHours(parseInt(C.currentTime.getHours(),10)),l||r.setMinutes(Math[y.roundTime](C.currentTime.getMinutes()/y.step)*y.step),(y.initTime||y.defaultSelect||D.data("changed"))&&r.getHours()===parseInt(e,10)&&(!l&&y.step>59||r.getMinutes()===parseInt(s,10))&&(y.defaultSelect||D.data("changed")?x.push("xdsoft_current"):y.initTime&&x.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(e,10)&&parseInt(b.getMinutes(),10)===parseInt(s,10)&&x.push("xdsoft_today"),S+='<div class="xdsoft_time '+x.join(" ")+'" data-hour="'+e+'" data-minute="'+s+'">'+i.formatDate(a,y.formatTime)+"</div>"},y.allowTimes&&t.isArray(y.allowTimes)&&y.allowTimes.length)for(v=0;v<y.allowTimes.length;v+=1)E=C.strtotime(y.allowTimes[v]).getHours(),c=C.strtotime(y.allowTimes[v]).getMinutes(),p(E,c);else for(v=0,e=0;v<(y.hours12?12:24);v+=1)for(e=0;60>e;e+=y.step)E=(10>v?"0":"")+v,c=(10>e?"0":"")+e,p(E,c);for(O.html(S),o="",v=0,v=parseInt(y.yearStart,10)+y.yearOffset;v<=parseInt(y.yearEnd,10)+y.yearOffset;v+=1)o+='<div class="xdsoft_option '+(C.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+v+"</div>";for(I.children().eq(0).html(o),v=parseInt(y.monthStart,10),o="";v<=parseInt(y.monthEnd,10);v+=1)o+='<div class="xdsoft_option '+(C.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+y.i18n[s].months[v]+"</div>";j.children().eq(0).html(o),t(D).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(y.timepicker){var t,e,n,i;O.find(".xdsoft_current").length?t=".xdsoft_current":O.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=M[0].clientHeight,n=O[0].offsetHeight,i=O.find(t).index()*y.timeHeightInTimePicker+1,i>n-e&&(i=n-e),M.trigger("scroll_element.xdsoft_scroller",[parseInt(i,10)/(n-e)])):M.trigger("scroll_element.xdsoft_scroller",[0])}}),_=0,T.on("touchend click.xdsoft","td",function(e){e.stopPropagation(),_+=1;var i=t(this),s=C.currentTime;return(void 0===s||null===s)&&(C.currentTime=C.now(),s=C.currentTime),!i.hasClass("xdsoft_disabled")&&(s.setDate(1),s.setFullYear(i.data("year")),s.setMonth(i.data("month")),s.setDate(i.data("date")),D.trigger("select.xdsoft",[s]),n.val(C.str()),y.onSelectDate&&t.isFunction(y.onSelectDate)&&y.onSelectDate.call(D,C.currentTime,D.data("input"),e),D.data("changed",!0),D.trigger("xchange.xdsoft"),D.trigger("changedatetime.xdsoft"),(_>1||!0===y.closeOnDateSelect||!1===y.closeOnDateSelect&&!y.timepicker)&&!y.inline&&D.trigger("close.xdsoft"),void setTimeout(function(){_=0},200))}),O.on("touchend click.xdsoft","div",function(e){e.stopPropagation();var n=t(this),i=C.currentTime;return(void 0===i||null===i)&&(C.currentTime=C.now(),i=C.currentTime),!n.hasClass("xdsoft_disabled")&&(i.setHours(n.data("hour")),i.setMinutes(n.data("minute")),D.trigger("select.xdsoft",[i]),D.data("input").val(C.str()),y.onSelectTime&&t.isFunction(y.onSelectTime)&&y.onSelectTime.call(D,C.currentTime,D.data("input"),e),D.data("changed",!0),D.trigger("xchange.xdsoft"),D.trigger("changedatetime.xdsoft"),void(!0!==y.inline&&!0===y.closeOnTimeSelect&&D.trigger("close.xdsoft")))}),E.on("mousewheel.xdsoft",function(t){return!y.scrollMonth||(t.deltaY<0?C.nextMonth():C.prevMonth(),!1)}),n.on("mousewheel.xdsoft",function(t){return!y.scrollInput||(!y.datepicker&&y.timepicker?(w=O.find(".xdsoft_current").length?O.find(".xdsoft_current").eq(0).index():0,w+t.deltaY>=0&&w+t.deltaY<O.children().length&&(w+=t.deltaY),O.children().eq(w).length&&O.children().eq(w).trigger("mousedown"),!1):y.datepicker&&!y.timepicker?(E.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),n.val&&n.val(C.str()),D.trigger("changedatetime.xdsoft"),!1):void 0)}),D.on("changedatetime.xdsoft",function(e){if(y.onChangeDateTime&&t.isFunction(y.onChangeDateTime)){var n=D.data("input");y.onChangeDateTime.call(D,C.currentTime,n,e),delete y.value,n.trigger("change")}}).on("generate.xdsoft",function(){y.onGenerate&&t.isFunction(y.onGenerate)&&y.onGenerate.call(D,C.currentTime,D.data("input")),F&&(D.trigger("afterOpen.xdsoft"),F=!1)}).on("click.xdsoft",function(t){t.stopPropagation()}),w=0,k=function(t,e){do{if(t=t.parentNode,!1===e(t))break}while("HTML"!==t.nodeName)},x=function(){var e,n,i,s,o,r,a,l,u,c,h,d,p;if(l=D.data("input"),e=l.offset(),n=l[0],c="top",i=e.top+n.offsetHeight-1,s=e.left,o="absolute",u=t(window).width(),d=t(window).height(),p=t(window).scrollTop(),document.documentElement.clientWidth-e.left<E.parent().outerWidth(!0)){var f=E.parent().outerWidth(!0)-n.offsetWidth;s-=f}"rtl"===l.parent().css("direction")&&(s-=D.outerWidth()-l.outerWidth()),y.fixed?(i-=p,s-=t(window).scrollLeft(),o="fixed"):(a=!1,k(n,function(t){return"fixed"===window.getComputedStyle(t).getPropertyValue("position")?(a=!0,!1):void 0}),a?(o="fixed",i+D.outerHeight()>d+p?(c="bottom",i=d+p-e.top):i-=p):i+n.offsetHeight>d+p&&(i=e.top-n.offsetHeight+1),0>i&&(i=0),s+n.offsetWidth>u&&(s=u-n.offsetWidth)),r=D[0],k(r,function(t){var e;return e=window.getComputedStyle(t).getPropertyValue("position"),"relative"===e&&u>=t.offsetWidth?(s-=(u-t.offsetWidth)/2,!1):void 0}),h={position:o,left:s,top:"",bottom:""},h[c]=i,D.css(h)},D.on("open.xdsoft",function(e){var n=!0;y.onShow&&t.isFunction(y.onShow)&&(n=y.onShow.call(D,C.currentTime,D.data("input"),e)),!1!==n&&(D.show(),x(),t(window).off("resize.xdsoft",x).on("resize.xdsoft",x),y.closeOnWithoutClick&&t([document.body,window]).on("touchstart mousedown.xdsoft",function e(){D.trigger("close.xdsoft"),t([document.body,window]).off("touchstart mousedown.xdsoft",e)}))}).on("close.xdsoft",function(e){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),y.onClose&&t.isFunction(y.onClose)&&(n=y.onClose.call(D,C.currentTime,D.data("input"),e)),!1===n||y.opened||y.inline||D.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(){D.trigger(D.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",n),L=0,D.data("xdsoft_datetime",C),D.setOptions(y),C.setCurrentTime(r()),n.data("xdsoft_datetimepicker",D).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){n.is(":disabled")||n.data("xdsoft_datetimepicker").is(":visible")&&y.closeOnInputClick||(clearTimeout(L),L=setTimeout(function(){n.is(":disabled")||(F=!0,C.setCurrentTime(r(),!0),y.mask&&a(y),D.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var n,i=e.which;return-1!==[m].indexOf(i)&&y.enterLikeTab?(n=t("input:visible,textarea:visible,button:visible,a:visible"),D.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[v].indexOf(i)?(D.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){D.trigger("close.xdsoft")})},l=function(e){var n=e.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft touchstart"),e.unmousewheel&&e.unmousewheel())},t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode===p&&(b=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode===p&&(b=!1)}),this.each(function(){var e,n=t(this).data("xdsoft_datetimepicker");if(n){if("string"===t.type(o))switch(o){case"show":t(this).select().focus(),n.trigger("open.xdsoft");break;case"hide":n.trigger("close.xdsoft");break;case"toggle":n.trigger("toggle.xdsoft");break;case"destroy":l(t(this));break;case"reset":this.value=this.defaultValue,this.value&&n.data("xdsoft_datetime").isValidDate(i.parseDate(this.value,y.format))||n.data("changed",!1),n.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":e=n.data("input"),e.trigger("blur.xdsoft");break;default:n[o]&&t.isFunction(n[o])&&(u=n[o](r))}else n.setOptions(o);return 0}"string"!==t.type(o)&&(!y.lazyInit||y.open||y.inline?a(t(this)):w(t(this)))}),u},t.fn.datetimepicker.defaults=n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var r=e||window.event,a=l.call(arguments,1),u=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(r),e.type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(h=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=-1*d,d=0),u=0===d?h:d,"deltaY"in r&&(d=-1*r.deltaY,u=d),"deltaX"in r&&(h=r.deltaX,0===d&&(u=-1*h)),0!==d||0!==h){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");u*=g,d*=g,h*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!o||o>p)&&(o=p,i(r,p)&&(o/=40)),i(r,p)&&(u/=40,h/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,u,h,d),s&&clearTimeout(s),s=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var s,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=r.length;u;)t.event.fixHooks[r[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return fi.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){var e;for(e in t)return!1;return!0}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return ge(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function d(t){if(null==t._isValid){var e=h(t),n=gi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function p(t){var e=u(NaN);return null!=t?l(h(e),t):h(e).userInvalidated=!0,e}function f(t){return void 0===t}function m(t,e){var n,i,s;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=h(e)),f(e._locale)||(t._locale=e._locale),vi.length>0)for(n in vi)i=vi[n],s=e[i],f(s)||(t[i]=s);return t}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===bi&&(bi=!0,t.updateOffset(this),bi=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function _(t,e,n){var i,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&r++;return r+o}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function x(e,n){var i=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var s,o=[],r=0;r<arguments.length;r++){if(s="","object"==typeof arguments[r]){s+="\n["+r+"] ";for(var a in arguments[0])s+=a+": "+arguments[0][a]+", ";s=s.slice(0,-2)}else s=arguments[r];o.push(s)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function C(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),yi[e]||(w(n),yi[e]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],k(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var i,s=l({},t);for(i in e)a(e,i)&&(n(t[i])&&n(e[i])?(s[i]={},l(s[i],t[i]),l(s[i],e[i])):null!=e[i]?s[i]=e[i]:delete s[i]);for(i in t)a(t,i)&&!a(e,i)&&n(t[i])&&(s[i]=l({},s[i]));return s}function E(t){null!=t&&this.set(t)}function P(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,n):i}function T(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function N(){return this._invalidDate}function M(t){return this._ordinal.replace("%d",t)}function O(t,e,n,i){var s=this._relativeTime[n];return k(s)?s(t,e,n,i):s.replace(/%d/i,t)}function A(t,e){var n=this._relativeTime[t>0?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)}function j(t,e){var n=t.toLowerCase();Si[n]=Si[n+"s"]=Si[e]=t}function I(t){return"string"==typeof t?Si[t]||Si[t.toLowerCase()]:void 0}function F(t){var e,n,i={};for(n in t)a(t,n)&&(e=I(n))&&(i[e]=t[n]);return i}function L(t,e){Ei[t]=e}function W(t){var e=[];for(var n in t)e.push({unit:n,priority:Ei[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(e,n){return function(i){return null!=i?(z(this,e,i),t.updateOffset(this,n),this):R(this,e)}}function R(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function Y(t){return t=I(t),k(this[t])?this[t]():this}function B(t,e){if("object"==typeof t){t=F(t);for(var n=W(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=I(t),k(this[t]))return this[t](e);return this}function q(t,e,n){var i=""+Math.abs(t),s=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function U(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(Mi[t]=s),e&&(Mi[e[0]]=function(){return q(s.apply(this,arguments),e[1],e[2])}),n&&(Mi[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,n,i=t.match(Pi);for(e=0,n=i.length;e<n;e++)Mi[i[e]]?i[e]=Mi[i[e]]:i[e]=V(i[e]);return function(e){var s,o="";for(s=0;s<n;s++)o+=i[s]instanceof Function?i[s].call(e,t):i[s];return o}}function X(t,e){return t.isValid()?(e=G(e,t.localeData()),Ni[e]=Ni[e]||$(e),Ni[e](t)):t.localeData().invalidDate()}function G(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ti.lastIndex=0;i>=0&&Ti.test(t);)t=t.replace(Ti,n),Ti.lastIndex=0,i-=1;return t}function K(t,e,n){Ui[t]=k(e)?e:function(t,i){return t&&n?n:e}}function J(t,e){return a(Ui,t)?Ui[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)Vi[t[n]]=i}function et(t,e){tt(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function nt(t,e,n){null!=e&&a(Vi,t)&&Vi[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function st(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||is).test(n)?"format":"standalone"][t.month()]:this._months}function ot(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[is.test(n)?"format":"standalone"][t.month()]:this._monthsShort}function rt(t,e,n){var i,s,o,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(s=ns.call(this._shortMonthsParse,r),-1!==s?s:null):(s=ns.call(this._longMonthsParse,r),-1!==s?s:null):"MMM"===e?(s=ns.call(this._shortMonthsParse,r),-1!==s?s:(s=ns.call(this._longMonthsParse,r),-1!==s?s:null)):(s=ns.call(this._longMonthsParse,r),-1!==s?s:(s=ns.call(this._shortMonthsParse,r),-1!==s?s:null))}function at(t,e,n){var i,s,o;if(this._monthsParseExact)return rt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):R(this,"Month")}function ct(){return it(this.year(),this.month())}function ht(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=rs),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=as),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],o=[];for(e=0;e<12;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),o.sort(t),e=0;e<12;e++)i[e]=Q(i[e]),s[e]=Q(s[e]);for(e=0;e<24;e++)o[e]=Q(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){return mt(t)?366:365}function mt(t){return t%4==0&&t%100!=0||t%400==0}function gt(){return mt(this.year())}function vt(t,e,n,i,s,o,r){var a=new Date(t,e,n,i,s,o,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t,e,n){var i=7+e-n;return-(7+bt(t,0,i).getUTCDay()-e)%7+i-1}function _t(t,e,n,i,s){var o,r,a=(7+n-i)%7,l=yt(t,i,s),u=1+7*(e-1)+a+l;return u<=0?(o=t-1,r=ft(o)+u):u>ft(t)?(o=t+1,r=u-ft(t)):(o=t,r=u),{year:o,dayOfYear:r}}function wt(t,e,n){var i,s,o=yt(t.year(),e,n),r=Math.floor((t.dayOfYear()-o-1)/7)+1;return r<1?(s=t.year()-1,i=r+xt(s,e,n)):r>xt(t.year(),e,n)?(i=r-xt(t.year(),e,n),s=t.year()+1):(s=t.year(),i=r),{week:i,year:s}}function xt(t,e,n){var i=yt(t,e,n),s=yt(t+1,e,n);return(ft(t)-i+s)/7}function Ct(t){return wt(t,this._week.dow,this._week.doy).week}function kt(){return this._week.dow}function Dt(){return this._week.doy}function St(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Et(t){var e=wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Tt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Nt(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:this._weekdays}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ot(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function At(t,e,n){var i,s,o,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(s=ns.call(this._weekdaysParse,r),-1!==s?s:null):"ddd"===e?(s=ns.call(this._shortWeekdaysParse,r),-1!==s?s:null):(s=ns.call(this._minWeekdaysParse,r),-1!==s?s:null):"dddd"===e?(s=ns.call(this._weekdaysParse,r),-1!==s?s:(s=ns.call(this._shortWeekdaysParse,r),-1!==s?s:(s=ns.call(this._minWeekdaysParse,r),-1!==s?s:null))):"ddd"===e?(s=ns.call(this._shortWeekdaysParse,r),-1!==s?s:(s=ns.call(this._weekdaysParse,r),-1!==s?s:(s=ns.call(this._minWeekdaysParse,r),-1!==s?s:null))):(s=ns.call(this._minWeekdaysParse,r),-1!==s?s:(s=ns.call(this._weekdaysParse,r),-1!==s?s:(s=ns.call(this._shortWeekdaysParse,r),-1!==s?s:null)))}function jt(t,e,n){var i,s,o;if(this._weekdaysParseExact)return At.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pt(t,this.localeData()),this.add(t-e,"d")):e}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Lt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Tt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Wt(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=ps),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fs),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rt(t){
return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ms),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zt(){function t(t,e){return e.length-t.length}var e,n,i,s,o,r=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),a.push(s),l.push(o),c.push(i),c.push(s),c.push(o);for(r.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=Q(a[e]),l[e]=Q(l[e]),c[e]=Q(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Yt(){return this.hours()%12||12}function Bt(){return this.hours()||24}function qt(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ut(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function $t(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function Gt(t){for(var e,n,i,s,o=0;o<t.length;){for(s=Xt(t[o]).split("-"),e=s.length,n=Xt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Kt(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(s,n,!0)>=e-1)break;e--}o++}return null}function Kt(t){var e=null;if(!ys[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=gs._abbr,require("./locale/"+t),Jt(e)}catch(t){}return ys[t]}function Jt(t,e){var n;return t&&(n=f(e)?te(t):Zt(t,e))&&(gs=n),gs._abbr}function Zt(t,e){if(null!==e){var n=bs;if(e.abbr=t,null!=ys[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ys[t]._config;else if(null!=e.parentLocale){if(null==ys[e.parentLocale])return _s[e.parentLocale]||(_s[e.parentLocale]=[]),_s[e.parentLocale].push({name:t,config:e}),null;n=ys[e.parentLocale]._config}return ys[t]=new E(S(n,e)),_s[t]&&_s[t].forEach(function(t){Zt(t.name,t.config)}),Jt(t),ys[t]}return delete ys[t],null}function Qt(t,e){if(null!=e){var n,i=bs;null!=ys[t]&&(i=ys[t]._config),e=S(i,e),n=new E(e),n.parentLocale=ys[t],ys[t]=n,Jt(t)}else null!=ys[t]&&(null!=ys[t].parentLocale?ys[t]=ys[t].parentLocale:null!=ys[t]&&delete ys[t]);return ys[t]}function te(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return gs;if(!e(t)){if(n=Kt(t))return n;t=[t]}return Gt(t)}function ee(){return xi(ys)}function ne(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[Xi]<0||n[Xi]>11?Xi:n[Gi]<1||n[Gi]>it(n[$i],n[Xi])?Gi:n[Ki]<0||n[Ki]>24||24===n[Ki]&&(0!==n[Ji]||0!==n[Zi]||0!==n[Qi])?Ki:n[Ji]<0||n[Ji]>59?Ji:n[Zi]<0||n[Zi]>59?Zi:n[Qi]<0||n[Qi]>999?Qi:-1,h(t)._overflowDayOfYear&&(e<$i||e>Gi)&&(e=Gi),h(t)._overflowWeeks&&-1===e&&(e=ts),h(t)._overflowWeekday&&-1===e&&(e=es),h(t).overflow=e),t}function ie(t){var e,n,i,s,o,r,a=t._i,l=ws.exec(a)||xs.exec(a);if(l){for(h(t).iso=!0,e=0,n=ks.length;e<n;e++)if(ks[e][1].exec(l[1])){s=ks[e][0],i=!1!==ks[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ds.length;e<n;e++)if(Ds[e][1].exec(l[3])){o=(l[2]||" ")+Ds[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Cs.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=s+(o||"")+(r||""),ue(t)}else t._isValid=!1}function se(e){var n=Ss.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(ie(e),void(!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function re(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ae(t){var e,n,i,s,o=[];if(!t._d){for(i=re(t),t._w&&null==t._a[Gi]&&null==t._a[Xi]&&le(t),t._dayOfYear&&(s=oe(t._a[$i],i[$i]),t._dayOfYear>ft(s)&&(h(t)._overflowDayOfYear=!0),n=bt(s,0,t._dayOfYear),t._a[Xi]=n.getUTCMonth(),t._a[Gi]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ki]&&0===t._a[Ji]&&0===t._a[Zi]&&0===t._a[Qi]&&(t._nextDay=!0,t._a[Ki]=0),t._d=(t._useUTC?bt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ki]=24)}}function le(t){var e,n,i,s,o,r,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,r=4,n=oe(e.GG,t._a[$i],wt(ve(),1,4).year),i=oe(e.W,1),((s=oe(e.E,1))<1||s>7)&&(l=!0);else{o=t._locale._week.dow,r=t._locale._week.doy;var u=wt(ve(),o,r);n=oe(e.gg,t._a[$i],u.year),i=oe(e.w,u.week),null!=e.d?((s=e.d)<0||s>6)&&(l=!0):null!=e.e?(s=e.e+o,(e.e<0||e.e>6)&&(l=!0)):s=o}i<1||i>xt(n,o,r)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(a=_t(n,i,s,o,r),t._a[$i]=a.year,t._dayOfYear=a.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],h(e).empty=!0;var n,i,s,o,r,a=""+e._i,l=a.length,u=0;for(s=G(e._f,e._locale).match(Pi)||[],n=0;n<s.length;n++)o=s[n],i=(a.match(J(o,e))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&h(e).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Mi[o]?(i?h(e).empty=!1:h(e).unusedTokens.push(o),nt(o,i,e)):e._strict&&!i&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-u,a.length>0&&h(e).unusedInput.push(a),e._a[Ki]<=12&&!0===h(e).bigHour&&e._a[Ki]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Ki]=ce(e._locale,e._a[Ki],e._meridiem),ae(e),ne(e)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function he(t){var e,n,i,s,o;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],ue(e),d(e)&&(o+=h(e).charsLeftOver,o+=10*h(e).unusedTokens.length,h(e).score=o,(null==i||o<i)&&(i=o,n=e));l(t,n||e)}function de(t){if(!t._d){var e=F(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function pe(t){var e=new g(ne(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var n=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===n||void 0===i&&""===n?p({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),v(n)?new g(ne(n)):(o(n)?t._d=n:e(i)?he(t):i?ue(t):me(t),d(t)||(t._d=null),t))}function me(n){var i=n._i;void 0===i?n._d=new Date(t.now()):o(i)?n._d=new Date(i.valueOf()):"string"==typeof i?se(n):e(i)?(n._a=r(i.slice(0),function(t){return parseInt(t,10)}),ae(n)):"object"==typeof i?de(n):s(i)?n._d=new Date(i):t.createFromInputFallback(n)}function ge(t,s,o,r,a){var l={};return!0!==o&&!1!==o||(r=o,o=void 0),(n(t)&&i(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=s,l._strict=r,pe(l)}function ve(t,e,n,i){return ge(t,e,n,i,!1)}function be(t,n){var i,s;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return ve();for(i=n[0],s=1;s<n.length;++s)n[s].isValid()&&!n[s][t](i)||(i=n[s]);return i}function ye(){return be("isBefore",[].slice.call(arguments,0))}function _e(){return be("isAfter",[].slice.call(arguments,0))}function we(t){var e=F(t),n=e.year||0,i=e.quarter||0,s=e.month||0,o=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+r+7*o,this._months=+s+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function xe(t){return t instanceof we}function Ce(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ke(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function De(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],s=(i+"").match(Ns)||["-",0,0],o=60*s[1]+y(s[2]);return 0===o?0:"+"===s[0]?o:-o}function Se(e,n){var i,s;return n._isUTC?(i=n.clone(),s=(v(e)||o(e)?e.valueOf():ve(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),t.updateOffset(i,!1),i):ve(e).local()}function Ee(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Pe(e,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=De(Bi,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(i=Ee(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!n||this._changeInProgress?qe(this,He(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ee(this)}function Te(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ne(t){return this.utcOffset(0,t)}function Me(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this}function Oe(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=De(Yi,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ae(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function je(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ie(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=fe(t),t._a){var e=t._isUTC?u(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Fe(){return!!this.isValid()&&!this._isUTC}function Le(){return!!this.isValid()&&this._isUTC}function We(){return!!this.isValid()&&this._isUTC&&0===this._offset}function He(t,e){var n,i,o,r=t,l=null;return xe(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(r={},e?r[e]=t:r.milliseconds=t):(l=Ms.exec(t))?(n="-"===l[1]?-1:1,r={y:0,d:y(l[Gi])*n,h:y(l[Ki])*n,m:y(l[Ji])*n,s:y(l[Zi])*n,ms:y(Ce(1e3*l[Qi]))*n}):(l=Os.exec(t))?(n="-"===l[1]?-1:1,r={y:Re(l[2],n),M:Re(l[3],n),w:Re(l[4],n),d:Re(l[5],n),h:Re(l[6],n),m:Re(l[7],n),s:Re(l[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Ye(ve(r.from),ve(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new we(r),xe(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function Re(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ye(t,e){var n;return t.isValid()&&e.isValid()?(e=Se(e,t),t.isBefore(e)?n=ze(t,e):(n=ze(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Be(t,e){return function(n,i){var s,o;return null===i||isNaN(+i)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,s=He(n,i),qe(this,s,t),this}}function qe(e,n,i,s){var o=n._milliseconds,r=Ce(n._days),a=Ce(n._months);e.isValid()&&(s=null==s||s,o&&e._d.setTime(e._d.valueOf()+o*i),r&&z(e,"Date",R(e,"Date")+r*i),a&&lt(e,R(e,"Month")+a*i),s&&t.updateOffset(e,r||a))}function Ue(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ve(e,n){var i=e||ve(),s=Se(i,this).startOf("day"),o=t.calendarFormat(this,s)||"sameElse",r=n&&(k(n[o])?n[o].call(this,i):n[o]);return this.format(r||this.localeData().calendar(o,this,ve(i)))}function $e(){return new g(this)}function Xe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ge(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ke(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Je(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=I(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Ze(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Qe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tn(t,e,n){var i,s,o,r;return this.isValid()?(i=Se(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=I(e),"year"===e||"month"===e||"quarter"===e?(r=en(this,i),"quarter"===e?r/=3:"year"===e&&(r/=12)):(o=this-i,r="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-s)/864e5:"week"===e?(o-s)/6048e5:o),n?r:b(r)):NaN):NaN}function en(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(s,"months");return e-o<0?(n=t.clone().add(s-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(s+1,"months"),i=(e-o)/(n-o)),-(s+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+s)}function rn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=X(this,e);return this.localeData().postformat(n)}function an(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ln(t){return this.from(ve(),t)}function un(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.to(ve(),t)}function hn(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function dn(){return this._locale}function pn(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function fn(t){return t=I(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function bn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function yn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _n(){return this.isValid()?this.toISOString():null}function wn(){return d(this)}function xn(){return l({},h(this))}function Cn(){return h(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(t,e){U(0,[t,t.length],0,e)}function Sn(t){return Nn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function En(t){return Nn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Pn(){return xt(this.year(),1,4)}function Tn(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function Nn(t,e,n,i,s){var o;return null==t?wt(this,i,s).year:(o=xt(t,i,s),e>o&&(e=o),Mn.call(this,t,e,n,i,s))}function Mn(t,e,n,i,s){var o=_t(t,e,n,i,s),r=bt(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function On(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function An(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function jn(t,e){e[Qi]=y(1e3*("0."+t))}function In(){return this._isUTC?"UTC":""}function Fn(){return this._isUTC?"Coordinated Universal Time":""}function Ln(t){return ve(1e3*t)}function Wn(){return ve.apply(null,arguments).parseZone()}function Hn(t){return t}function Rn(t,e,n,i){var s=te(),o=u().set(i,e);return s[n](o,t)}function zn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Rn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Rn(t,i,n,"month");return o}function Yn(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var o=te(),r=t?o._week.dow:0;if(null!=n)return Rn(e,(n+r)%7,i,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Rn(e,(a+r)%7,i,"day");return l}function Bn(t,e){return zn(t,e,"months")}function qn(t,e){return zn(t,e,"monthsShort")}function Un(t,e,n){return Yn(t,e,n,"weekdays")}function Vn(t,e,n){return Yn(t,e,n,"weekdaysShort")}function $n(t,e,n){return Yn(t,e,n,"weekdaysMin")}function Xn(){var t=this._data;return this._milliseconds=Bs(this._milliseconds),this._days=Bs(this._days),this._months=Bs(this._months),t.milliseconds=Bs(t.milliseconds),t.seconds=Bs(t.seconds),t.minutes=Bs(t.minutes),t.hours=Bs(t.hours),t.months=Bs(t.months),t.years=Bs(t.years),this}function Gn(t,e,n,i){var s=He(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function Kn(t,e){return Gn(this,t,e,1)}function Jn(t,e){return Gn(this,t,e,-1)}function Zn(t){return t<0?Math.floor(t):Math.ceil(t)}function Qn(){var t,e,n,i,s,o=this._milliseconds,r=this._days,a=this._months,l=this._data;return o>=0&&r>=0&&a>=0||o<=0&&r<=0&&a<=0||(o+=864e5*Zn(ei(a)+r),r=0,a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,r+=b(n/24),s=b(ti(r)),a+=s,r-=Zn(ei(s)),i=b(a/12),a%=12,l.days=r,l.months=a,l.years=i,this}function ti(t){return 4800*t/146097}function ei(t){return 146097*t/4800}function ni(t){var e,n,i=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+i/864e5,n=this._months+ti(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ei(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ii(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function si(t){return function(){return this.as(t)}}function oi(t){return t=I(t),this[t+"s"]()}function ri(t){return function(){return this._data[t]}}function ai(){return b(this.days()/7)}function li(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function ui(t,e,n){var i=He(t).abs(),s=oo(i.as("s")),o=oo(i.as("m")),r=oo(i.as("h")),a=oo(i.as("d")),l=oo(i.as("M")),u=oo(i.as("y")),c=s<ro.s&&["s",s]||o<=1&&["m"]||o<ro.m&&["mm",o]||r<=1&&["h"]||r<ro.h&&["hh",r]||a<=1&&["d"]||a<ro.d&&["dd",a]||l<=1&&["M"]||l<ro.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,li.apply(null,c)}function ci(t){return void 0===t?oo:"function"==typeof t&&(oo=t,!0)}function hi(t,e){return void 0!==ro[t]&&(void 0===e?ro[t]:(ro[t]=e,!0))}function di(t){var e=this.localeData(),n=ui(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function pi(){var t,e,n,i=ao(this._milliseconds)/1e3,s=ao(this._days),o=ao(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(o/12),o%=12;var r=n,a=o,l=s,u=e,c=t,h=i,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var fi,mi;mi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var gi=mi,vi=t.momentProperties=[],bi=!1,yi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var _i;_i=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var wi,xi=_i,Ci={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ki={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Di={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Si={},Ei={},Pi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ti=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ni={},Mi={},Oi=/\d\d/,Ai=/\d{4}/,ji=/[+-]?\d{6}/,Ii=/\d\d?/,Fi=/\d\d\d\d?/,Li=/\d\d\d\d\d\d?/,Wi=/\d{1,3}/,Hi=/\d{1,4}/,Ri=/[+-]?\d{1,6}/,zi=/[+-]?\d+/,Yi=/Z|[+-]\d\d:?\d\d/gi,Bi=/Z|[+-]\d\d(?::?\d\d)?/gi,qi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ui={},Vi={},$i=0,Xi=1,Gi=2,Ki=3,Ji=4,Zi=5,Qi=6,ts=7,es=8;wi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var ns=wi;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),L("month",8),K("M",Ii),K("MM",Ii,Oi),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Xi]=y(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[Xi]=s:h(n).invalidMonth=t});var is=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ss="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),os="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rs=qi,as=qi;U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),j("year","y"),L("year",1),K("Y",zi),K("YY",Ii,Oi),K("YYYY",Hi,Ai),K("YYYYY",Ri,ji),K("YYYYYY",Ri,ji),tt(["YYYYY","YYYYYY"],$i),tt("YYYY",function(e,n){n[$i]=2===e.length?t.parseTwoDigitYear(e):y(e)}),tt("YY",function(e,n){n[$i]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[$i]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var ls=H("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),L("week",5),L("isoWeek",5),K("w",Ii),K("ww",Ii,Oi),K("W",Ii),K("WW",Ii,Oi),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var us={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),K("d",Ii),K("e",Ii),K("E",Ii),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:h(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var cs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ds="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ps=qi,fs=qi,ms=qi;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Yt),U("k",["kk",2],0,Bt),U("hmm",0,0,function(){return""+Yt.apply(this)+q(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Yt.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qt("a",!0),qt("A",!1),j("hour","h"),L("hour",13),K("a",Ut),K("A",Ut),K("H",Ii),K("h",Ii),K("HH",Ii,Oi),K("hh",Ii,Oi),K("hmm",Fi),K("hmmss",Li),K("Hmm",Fi),K("Hmmss",Li),tt(["H","HH"],Ki),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[Ki]=y(t),h(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[Ki]=y(t.substr(0,i)),e[Ji]=y(t.substr(i)),h(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Ki]=y(t.substr(0,i)),e[Ji]=y(t.substr(i,2)),e[Zi]=y(t.substr(s)),h(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[Ki]=y(t.substr(0,i)),e[Ji]=y(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[Ki]=y(t.substr(0,i)),e[Ji]=y(t.substr(i,2)),e[Zi]=y(t.substr(s))});var gs,vs=H("Hours",!0),bs={calendar:Ci,longDateFormat:ki,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:Di,months:ss,monthsShort:os,week:us,weekdays:cs,weekdaysMin:ds,weekdaysShort:hs,meridiemParse:/[ap]\.?m?\.?/i},ys={},_s={},ws=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xs=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cs=/Z|[+-]\d\d(?::?\d\d)?/,ks=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ds=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ss=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Es=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Ps=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Ts=function(){return Date.now?Date.now():+new Date};ke("Z",":"),ke("ZZ",""),K("Z",Bi),K("ZZ",Bi),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=De(Bi,t)});var Ns=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ms=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Os=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;He.fn=we.prototype;var As=Be(1,"add"),js=Be(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Is=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),K("G",zi),K("g",zi),K("GG",Ii,Oi),K("gg",Ii,Oi),K("GGGG",Hi,Ai),K("gggg",Hi,Ai),K("GGGGG",Ri,ji),K("ggggg",Ri,ji),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),et(["gg","GG"],function(e,n,i,s){n[s]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),j("quarter","Q"),L("quarter",7),K("Q",/\d/),tt("Q",function(t,e){e[Xi]=3*(y(t)-1)}),U("D",["DD",2],"Do","date"),j("date","D"),L("date",9),K("D",Ii),K("DD",Ii,Oi),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Gi),tt("Do",function(t,e){e[Gi]=y(t.match(Ii)[0],10)});var Fs=H("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),L("dayOfYear",4),K("DDD",Wi),K("DDDD",/\d{3}/),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),U("m",["mm",2],0,"minute"),j("minute","m"),L("minute",14),K("m",Ii),K("mm",Ii,Oi),tt(["m","mm"],Ji);var Ls=H("Minutes",!1);U("s",["ss",2],0,"second"),j("second","s"),L("second",15),K("s",Ii),K("ss",Ii,Oi),tt(["s","ss"],Zi);var Ws=H("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),L("millisecond",16),K("S",Wi,/\d/),K("SS",Wi,Oi),K("SSS",Wi,/\d{3}/);var Hs;for(Hs="SSSS";Hs.length<=9;Hs+="S")K(Hs,/\d+/);for(Hs="S";Hs.length<=9;Hs+="S")tt(Hs,jn);var Rs=H("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var zs=g.prototype;zs.add=As,zs.calendar=Ve,zs.clone=$e,zs.diff=tn,zs.endOf=fn,zs.format=rn,zs.from=an,zs.fromNow=ln,zs.to=un,zs.toNow=cn,zs.get=Y,zs.invalidAt=Cn,zs.isAfter=Xe,zs.isBefore=Ge,zs.isBetween=Ke,zs.isSame=Je,zs.isSameOrAfter=Ze,zs.isSameOrBefore=Qe,zs.isValid=wn,zs.lang=Is,zs.locale=hn,zs.localeData=dn,zs.max=Ps,zs.min=Es,zs.parsingFlags=xn,zs.set=B,zs.startOf=pn,zs.subtract=js,zs.toArray=bn,zs.toObject=yn,zs.toDate=vn,zs.toISOString=sn,zs.inspect=on,zs.toJSON=_n,zs.toString=nn,zs.unix=gn,zs.valueOf=mn,zs.creationData=kn,zs.year=ls,zs.isLeapYear=gt,zs.weekYear=Sn,zs.isoWeekYear=En,zs.quarter=zs.quarters=On,zs.month=ut,zs.daysInMonth=ct,zs.week=zs.weeks=St,zs.isoWeek=zs.isoWeeks=Et,zs.weeksInYear=Tn,zs.isoWeeksInYear=Pn,zs.date=Fs,zs.day=zs.days=It,zs.weekday=Ft,zs.isoWeekday=Lt,zs.dayOfYear=An,zs.hour=zs.hours=vs,zs.minute=zs.minutes=Ls,zs.second=zs.seconds=Ws,zs.millisecond=zs.milliseconds=Rs,zs.utcOffset=Pe,zs.utc=Ne,zs.local=Me,zs.parseZone=Oe,zs.hasAlignedHourOffset=Ae,zs.isDST=je,zs.isLocal=Fe,zs.isUtcOffset=Le,zs.isUtc=We,zs.isUTC=We,zs.zoneAbbr=In,zs.zoneName=Fn,zs.dates=x("dates accessor is deprecated. Use date instead.",Fs),zs.months=x("months accessor is deprecated. Use month instead",ut),zs.years=x("years accessor is deprecated. Use year instead",ls),zs.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Te),
zs.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ie);var Ys=E.prototype;Ys.calendar=P,Ys.longDateFormat=T,Ys.invalidDate=N,Ys.ordinal=M,Ys.preparse=Hn,Ys.postformat=Hn,Ys.relativeTime=O,Ys.pastFuture=A,Ys.set=D,Ys.months=st,Ys.monthsShort=ot,Ys.monthsParse=at,Ys.monthsRegex=dt,Ys.monthsShortRegex=ht,Ys.week=Ct,Ys.firstDayOfYear=Dt,Ys.firstDayOfWeek=kt,Ys.weekdays=Nt,Ys.weekdaysMin=Ot,Ys.weekdaysShort=Mt,Ys.weekdaysParse=jt,Ys.weekdaysRegex=Wt,Ys.weekdaysShortRegex=Ht,Ys.weekdaysMinRegex=Rt,Ys.isPM=Vt,Ys.meridiem=$t,Jt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",te);var Bs=Math.abs,qs=si("ms"),Us=si("s"),Vs=si("m"),$s=si("h"),Xs=si("d"),Gs=si("w"),Ks=si("M"),Js=si("y"),Zs=ri("milliseconds"),Qs=ri("seconds"),to=ri("minutes"),eo=ri("hours"),no=ri("days"),io=ri("months"),so=ri("years"),oo=Math.round,ro={s:45,m:45,h:22,d:26,M:11},ao=Math.abs,lo=we.prototype;return lo.abs=Xn,lo.add=Kn,lo.subtract=Jn,lo.as=ni,lo.asMilliseconds=qs,lo.asSeconds=Us,lo.asMinutes=Vs,lo.asHours=$s,lo.asDays=Xs,lo.asWeeks=Gs,lo.asMonths=Ks,lo.asYears=Js,lo.valueOf=ii,lo._bubble=Qn,lo.get=oi,lo.milliseconds=Zs,lo.seconds=Qs,lo.minutes=to,lo.hours=eo,lo.days=no,lo.weeks=ai,lo.months=io,lo.years=so,lo.humanize=di,lo.toISOString=pi,lo.toString=pi,lo.toJSON=pi,lo.locale=hn,lo.localeData=dn,lo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pi),lo.lang=Is,U("X",0,0,"unix"),U("x",0,0,"valueOf"),K("x",zi),K("X",/[+-]?\d+(\.\d{1,3})?/),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(y(t))}),t.version="2.17.1",function(t){fi=t}(ve),t.fn=zs,t.min=ye,t.max=_e,t.now=Ts,t.utc=u,t.unix=Ln,t.months=Bn,t.isDate=o,t.locale=Jt,t.invalid=p,t.duration=He,t.isMoment=v,t.weekdays=Un,t.parseZone=Wn,t.localeData=te,t.isDuration=xe,t.monthsShort=qn,t.weekdaysMin=$n,t.defineLocale=Zt,t.updateLocale=Qt,t.locales=ee,t.weekdaysShort=Vn,t.normalizeUnits=I,t.relativeTimeRounding=ci,t.relativeTimeThreshold=hi,t.calendarFormat=Ue,t.prototype=zs,t}),function(t){function e(t,e){var n=$("div.topo-map"),i=n.offset().left,s=n.offset().top;return{x:(t.pageX||t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))-i,y:(t.pageY||t.clientY+(document.documentElement.scrollTop||document.body.scrollTop))-s}}function n(t){this.regions=[],this.selProp=t,this.InitRegions(t),this.selectedClass=t.selectedClass,this.selectedRegion=[],this.selectDiv=null,this.startX=null,this.startY=null,this.parentId=t.parentId}function i(){return d}function s(t,e){for(var n=i(),s=t.left,o=t.top,r=0;r<n.length;r++){var a=parseInt($(n[r]).attr("bLeft")),l=parseInt($(n[r]).attr("bTop"));$(n[r]).css("left",a+s+"px"),$(n[r]).css("top",l+o+"px")}}function o(){for(var t=i(),e=0;e<t.length;e++)$(t[e]).attr("bLeft",$(t[e]).position().left),$(t[e]).attr("bTop",$(t[e]).position().top)}function r(){for(var t=i(),e=0,n=0;n<t.length;n++)($(t[n]).position().left<e||0===e)&&(e=$(t[n]).position().left);for(var s=0;s<t.length;s++)$(t[s]).css("left",e+"px");r7Plumb.repaintSelected(t)}function a(){for(var t=i(),e=0,n=0;n<t.length;n++)($(t[n]).position().left+$(t[n]).width()>e||0===e)&&(e=$(t[n]).position().left+$(t[n]).width());for(var s=0;s<t.length;s++)$(t[s]).css("left",e-$(t[s]).width()+"px");r7Plumb.repaintSelected(t)}function l(){for(var t=i(),e=0,n=0;n<t.length;n++)($(t[n]).position().top<e||0===e)&&(e=$(t[n]).position().top);for(var s=0;s<t.length;s++)$(t[s]).css("top",e+"px");r7Plumb.repaintSelected(t)}function u(){for(var t=i(),e=0,n=0;n<t.length;n++)($(t[n]).position().top+$(t[n]).height()/2<e||0===e)&&(e=$(t[n]).position().top+$(t[n]).height()/2);for(var s=0;s<t.length;s++)$(t[s]).css("top",e-$(t[s]).height()/2+"px");r7Plumb.repaintSelected(t)}function c(){for(var t=i(),e=0,n=0;n<t.length;n++)($(t[n]).position().top+$(t[n]).height()>e||0===e)&&(e=$(t[n]).position().top+$(t[n]).height());for(var s=0;s<t.length;s++)$(t[s]).css("top",e-$(t[s]).height()+"px");r7Plumb.repaintSelected(t)}function h(){for(var t=i(),e=0;e<t.length;e++){var n=$(t[e]).attr("id");r7Plumb.deleteElement(n)}r7Plumb.repaintSelected(t)}Array.prototype.remove=function(t){for(var e=0;e<this.length&&t!==this[e];e++);if(e!==this.length){for(var n=e;n<this.length-1;n++)this[n]=this[n+1];this.length--}};var d=[];n.prototype.InitRegions=function(){var t=this;t.regions=[];var e=$(t.selProp.region),n=!0;e&&e.length>0&&$.each(e,function(i,s){$(s).mousedown(function(i){n=!1,i.shiftKey||i.ctrlKey?$(s).hasClass(t.selectedClass)?($(s).removeClass(t.selectedClass),d.remove(s)):($(s).addClass(t.selectedClass),d.push(s)):-1===$.inArray(s,d)&&(t.clearSelections(e),$(s).addClass(t.selectedClass),d=[],d.push(this))}),t.regions.push(e[i])}),n&&(t.clearSelections(e),d=[])},n.prototype.select=function(){var t=this,e=t.parentId,n="#"+e,i=[0,0],s=[0,0];$(n).mousedown(function(o){var r=o.which;if(o.target&&o.target.id===e)if(1===r)t.onBeforeSelect(o,n);else if(3===r){i=[o.clientX,o.clientY];var a=$(n).position().left,l=$(n).position().top;s=[a,l],$(n).css("cursor","move")}else t.onBeforeSelect(o,n)}),$(n).mousemove(function(i){if(i.target&&i.target.id===e){var s=i.which;1===s?t.onSelect(i,n):3===s||t.onSelect(i,n)}}),$(n).mouseup(function(e){$(n).css("cursor","default"),t.onEnd()})},n.prototype.onBeforeSelect=function(t,n){var i=this;i.InitRegions(i.selProp),$("#selContainer").length<=0?(i.selectDiv=document.createElement("div"),$(i.selectDiv).attr("id","selContainer"),$(i.selectDiv).css({position:"absolute",width:0,height:0,margin:0,padding:0,border:"1px dashed #0099FF",backgroundColor:"#C3D5ED",zIndex:998,filter:"alpha(opacity:60)",opacity:.6,display:"none"}),$(n).append(i.selectDiv)):i.selectDiv=document.getElementById("selContainer"),i.startX=e(t,n).x,i.startY=e(t,n).y,i.isSelect=!0},n.prototype.onSelect=function(t,n){var i=this,s=$(i.selectDiv);if(i.isSelect){"none"===s.css("display")&&s.css("display","block");var o=e(t,n).x,r=e(t,n).y,a=Math.min(o,this.startX)+"px",l=Math.min(r,this.startY)+"px",u=Math.abs(o-this.startX)+"px",c=Math.abs(r-this.startY)+"px";s.css({left:a,top:l,width:u,height:c}),$.each(i.regions,function(t,e){if(s.parent().attr("id")===$(e).parent().attr("id")){var n=i.innerRegion(i.selectDiv,e);!n&&$(e).hasClass(i.selectedClass)&&($(e).removeClass(i.selectedClass),d.remove(e)),n&&!$(e).hasClass(i.selectedClass)&&($(e).addClass(i.selectedClass),d.push(e))}})}},n.prototype.onEnd=function(){var t=this;t.selectDiv&&$(t.selectDiv).hide(),this.isSelect=!1},n.prototype.innerRegion=function(t,e){var n=parseInt(t.style.top),i=parseInt(t.style.left),s=i+parseInt(t.offsetWidth),o=n+parseInt(t.offsetHeight),r=parseInt(e.offsetTop),a=parseInt(e.offsetLeft),l=a+parseInt(e.offsetWidth),u=r+parseInt(e.offsetHeight),c=Math.max(n,r),h=Math.min(s,l),d=Math.min(o,u),p=Math.max(i,a);return d>c+5&&h>p+5},n.prototype.clearSelections=function(t){var e=this;$.each(t,function(t,n){$(n).hasClass(e.selectedClass)&&$(n).removeClass(e.selectedClass)})},t.r7PlumbSelectArea={deleteSelect:h,alignBottom:c,alignMiddle:u,alignTop:l,alignLeft:r,alignRight:a,startMove:o,moveSelect:s,regionSelect:n,getSelected:i}}(window),function(t){t.fn.extend({insertToText:function(e){e=t.extend({text:e},e);var n=t(this)[0];if(document.selection){t(n).focus();document.selection.createRange().text=e.text,t(n).focus()}else if(n.selectionStart||"0"==n.selectionStart){var i=n.selectionStart,s=n.selectionEnd;n.scrollTop;n.value=n.value.substring(0,i)+e.text+n.value.substring(s,n.value.length)}else this.value+=e.text,this.focus();return t(this)}})}(jQuery);var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},s=function(){},o=i.Base={extend:function(t){s.prototype=this;var e=new s;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var s=0;s<t;s++)e[i+s>>>2]|=(n[s>>>2]>>>24-s%4*8&255)<<24-(i+s)%4*8;else if(65535<n.length)for(s=0;s<t;s+=4)e[i+s>>>2]=n[s>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new r.init(n,e)}}),a=n.enc={},l=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new r.init(n,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new r.init(n,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*o,s=t.min(4*e,s),e){for(var l=0;l<e;l+=o)this._doProcessBlock(i,l);l=i.splice(0,e),n.sigBytes-=s}return new r.init(l,s)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=n.algo={};return n}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var s=0;s<n;s+=3)for(var o=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,r=0;4>r&&s+.75*r<n;r++)t.push(i.charAt(o>>>6*(3-r)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,i=this._map,s=i.charAt(64);s&&-1!=(s=t.indexOf(s))&&(n=s);for(var s=[],o=0,r=0;r<n;r++)if(r%4){var a=i.indexOf(t.charAt(r-1))<<r%4*2,l=i.indexOf(t.charAt(r))>>>6-r%4*2;s[o>>>2]|=(a|l)<<24-o%4*8,o++}return e.create(s,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,i,s,o,r){return((t=t+(e&n|~e&i)+s+r)<<o|t>>>32-o)+e}function n(t,e,n,i,s,o,r){return((t=t+(e&i|n&~i)+s+r)<<o|t>>>32-o)+e}function i(t,e,n,i,s,o,r){return((t=t+(e^n^i)+s+r)<<o|t>>>32-o)+e}function s(t,e,n,i,s,o,r){return((t=t+(n^(e|~i))+s+r)<<o|t>>>32-o)+e}for(var o=CryptoJS,r=o.lib,a=r.WordArray,l=r.Hasher,r=o.algo,u=[],c=0;64>c;c++)u[c]=4294967296*t.abs(t.sin(c+1))|0;r=r.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var r=0;16>r;r++){var a=o+r,l=t[a];t[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var r=this._hash.words,a=t[o+0],l=t[o+1],c=t[o+2],h=t[o+3],d=t[o+4],p=t[o+5],f=t[o+6],m=t[o+7],g=t[o+8],v=t[o+9],b=t[o+10],y=t[o+11],_=t[o+12],w=t[o+13],x=t[o+14],C=t[o+15],k=r[0],D=r[1],S=r[2],E=r[3],k=e(k,D,S,E,a,7,u[0]),E=e(E,k,D,S,l,12,u[1]),S=e(S,E,k,D,c,17,u[2]),D=e(D,S,E,k,h,22,u[3]),k=e(k,D,S,E,d,7,u[4]),E=e(E,k,D,S,p,12,u[5]),S=e(S,E,k,D,f,17,u[6]),D=e(D,S,E,k,m,22,u[7]),k=e(k,D,S,E,g,7,u[8]),E=e(E,k,D,S,v,12,u[9]),S=e(S,E,k,D,b,17,u[10]),D=e(D,S,E,k,y,22,u[11]),k=e(k,D,S,E,_,7,u[12]),E=e(E,k,D,S,w,12,u[13]),S=e(S,E,k,D,x,17,u[14]),D=e(D,S,E,k,C,22,u[15]),k=n(k,D,S,E,l,5,u[16]),E=n(E,k,D,S,f,9,u[17]),S=n(S,E,k,D,y,14,u[18]),D=n(D,S,E,k,a,20,u[19]),k=n(k,D,S,E,p,5,u[20]),E=n(E,k,D,S,b,9,u[21]),S=n(S,E,k,D,C,14,u[22]),D=n(D,S,E,k,d,20,u[23]),k=n(k,D,S,E,v,5,u[24]),E=n(E,k,D,S,x,9,u[25]),S=n(S,E,k,D,h,14,u[26]),D=n(D,S,E,k,g,20,u[27]),k=n(k,D,S,E,w,5,u[28]),E=n(E,k,D,S,c,9,u[29]),S=n(S,E,k,D,m,14,u[30]),D=n(D,S,E,k,_,20,u[31]),k=i(k,D,S,E,p,4,u[32]),E=i(E,k,D,S,g,11,u[33]),S=i(S,E,k,D,y,16,u[34]),D=i(D,S,E,k,x,23,u[35]),k=i(k,D,S,E,l,4,u[36]),E=i(E,k,D,S,d,11,u[37]),S=i(S,E,k,D,m,16,u[38]),D=i(D,S,E,k,b,23,u[39]),k=i(k,D,S,E,w,4,u[40]),E=i(E,k,D,S,a,11,u[41]),S=i(S,E,k,D,h,16,u[42]),D=i(D,S,E,k,f,23,u[43]),k=i(k,D,S,E,v,4,u[44]),E=i(E,k,D,S,_,11,u[45]),S=i(S,E,k,D,C,16,u[46]),D=i(D,S,E,k,c,23,u[47]),k=s(k,D,S,E,a,6,u[48]),E=s(E,k,D,S,m,10,u[49]),S=s(S,E,k,D,x,15,u[50]),D=s(D,S,E,k,p,21,u[51]),k=s(k,D,S,E,_,6,u[52]),E=s(E,k,D,S,h,10,u[53]),S=s(S,E,k,D,b,15,u[54]),D=s(D,S,E,k,l,21,u[55]),k=s(k,D,S,E,g,6,u[56]),E=s(E,k,D,S,C,10,u[57]),S=s(S,E,k,D,f,15,u[58]),D=s(D,S,E,k,w,21,u[59]),k=s(k,D,S,E,d,6,u[60]),E=s(E,k,D,S,y,10,u[61]),S=s(S,E,k,D,c,15,u[62]),D=s(D,S,E,k,v,21,u[63]);r[0]=r[0]+k|0,r[1]=r[1]+D|0,r[2]=r[2]+S|0,r[3]=r[3]+E|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,s=8*e.sigBytes;n[s>>>5]|=128<<24-s%32;var o=t.floor(i/4294967296);for(n[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,i=0;4>i;i++)s=n[i],n[i]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return e},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),o.MD5=l._createHelper(r),o.HmacMD5=l._createHmacHelper(r)}(Math),function(){var t=CryptoJS,e=t.lib,n=e.Base,i=e.WordArray,e=t.algo,s=e.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,s=n.hasher.create(),o=i.create(),r=o.words,a=n.keySize,n=n.iterations;r.length<a;){l&&s.update(l);var l=s.update(t).finalize(e);s.reset();for(var u=1;u<n;u++)l=s.finalize(l),s.reset();o.concat(l)}return o.sigBytes=4*a,o}});t.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,n=e.lib,i=n.Base,s=n.WordArray,o=n.BufferedBlockAlgorithm,r=e.enc.Base64,a=e.algo.EvpKDF,l=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?f:p).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?f:p).decrypt(t,e,n,i)}}}});n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=e.mode={},c=function(t,e,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var s=0;s<n;s++)t[e+s]^=i[s]},h=(n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();h.Encryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;c.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),h.Decryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,s=t.slice(e,e+i);n.decryptBlock(t,e),c.call(this,t,e,i),this._prevBlock=s}}),u=u.CBC=h,h=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,n=n-t.sigBytes%n,i=n<<24|n<<16|n<<8|n,o=[],r=0;r<n;r+=4)o.push(i);n=s.create(o,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:h}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?s.create([1398893684,1701076831]).concat(t).concat(e):e).toString(r)},parse:function(t){t=r.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var n=s.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:n})}},p=n.SerializableCipher=i.extend({cfg:i.extend({format:u}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var s=t.createEncryptor(n,i);return e=s.finalize(e),s=s.cfg,d.create({ciphertext:e,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=s.random(8)),t=a.create({keySize:e+n}).compute(t,i),n=s.create(t.words.slice(e),4*n),t.sigBytes=4*e,d.create({key:t,iv:n,salt:i})}},f=n.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:e}),encrypt:function(t,e,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,t=p.encrypt.call(this,t,e,n.key,i),t.mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,p.decrypt.call(this,t,e,n.key,i)}})}(),function(){function t(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function e(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var n=CryptoJS,i=n.lib,s=i.WordArray,i=i.BlockCipher,o=n.algo,r=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;56>n;n++){var i=r[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}for(t=this._subKeys=[],i=0;16>i;i++){for(var s=t[i]=[],o=l[i],n=0;24>n;n++)s[n/6|0]|=e[(a[n]-1+o)%28]<<31-n%6,s[4+(n/6|0)]|=e[28+(a[n+24]-1+o)%28]<<31-n%6;for(s[0]=s[0]<<1|s[0]>>>31,n=1;7>n;n++)s[n]>>>=4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(e=this._invSubKeys=[],n=0;16>n;n++)e[n]=t[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(n,i,s){this._lBlock=n[i],this._rBlock=n[i+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;16>o;o++){for(var r=s[o],a=this._lBlock,l=this._rBlock,h=0,d=0;8>d;d++)h|=u[d][((l^r[d])&c[d])>>>0];this._lBlock=l,this._rBlock=a^h}s=this._lBlock,this._lBlock=this._rBlock,this._rBlock=s,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),n[i]=this._lBlock,n[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),o=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(s.create(t.slice(0,2))),this._des2=h.createEncryptor(s.create(t.slice(2,4))),this._des3=h.createEncryptor(s.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(o)}(),function(t){function e(t){return t&&t.Object===Object?t:null}function n(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e}function i(t){return function(){try{return t.apply(this,arguments)}catch(t){return Jt.e=t,Jt}}}function s(t){throw t}function o(t,e){if(Qt&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ie)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var s=n.join("\n"+ie+"\n");t.stack=r(s)}}function r(t){for(var e=t.split("\n"),n=[],i=0,s=e.length;s>i;i++){var o=e[i];a(o)||l(o)||!o||n.push(o)}return n.join("\n")}function a(t){var e=c(t);if(!e)return!1;var n=e[0],i=e[1];return n===ee&&i>=ne&&vr>=i}function l(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function u(){if(Qt)try{throw new Error}catch(i){var t=i.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=c(e);if(!n)return;return ee=n[0],n[1]}}function c(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function h(e,n,i,s,o,r){var a=Te(e),l=a.length;if(l!==Te(n).length&&!s)return!1;for(var u,c=l;c--;)if(u=a[c],!(s?u in n:Se.call(n,u)))return!1;for(var h=s;++c<l;){u=a[c];var d,p=e[u],f=n[u];if(!(d===t?i(p,f,s,o,r):d))return!1;h||(h="constructor"===u)}if(!h){var m=e.constructor,g=n.constructor;if(m!==g&&"constructor"in e&&"constructor"in n&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g))return!1}return!0}function d(t,e,n){switch(n){case ve:case be:return+t==+e;case ye:return t.name===e.name&&t.message===e.message;case _e:return t!==+t?e!==+e:t===+e;case xe:case Ce:return t===e+""}return!1}function p(t){return!!t&&"object"==typeof t}function f(t){return"number"==typeof t&&t>-1&&t%1==0&&Pe>=t}function m(t){return p(t)&&f(t.length)&&!!ke[Ee.call(t)]}function g(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function v(e,n,i,s,o,r){var a=-1,l=e.length,u=n.length;if(l!==u&&!(s&&u>l))return!1;for(;++a<l;){var c,h=e[a],d=n[a];if(c!==t)return!1;if(s){if(!g(n,function(t){return h===t||i(h,t,s,o,r)}))return!1}else if(h!==d&&!i(h,d,s,o,r))return!1}return!0}function b(t,e,n,i,s,o){var r=Me(t),a=Me(e),l=ge,u=ge;r||(l=Ee.call(t),l===me?l=we:l!==we&&(r=m(t))),a||(u=Ee.call(e))===me&&(u=we);var c=l===we&&!Ne(t),p=u===we&&!Ne(e),f=l===u;if(f&&!r&&!c)return d(t,e,l);if(!i){var g=c&&Se.call(t,"__wrapped__"),b=p&&Se.call(e,"__wrapped__");if(g||b)return n(g?t.value():t,b?e.value():e,i,s,o)}if(!f)return!1;s||(s=[]),o||(o=[]);for(var y=s.length;y--;)if(s[y]===t)return o[y]===e;s.push(t),o.push(e);var _=(r?v:h)(t,e,n,i,s,o);return s.pop(),o.pop(),_}function y(t,e,n,i,s){return t===e||(null==t||null==e||!et(t)&&!p(e)?t!==t&&e!==e:b(t,e,y,n,i,s))}function _(t,e){for(var n=new Array(t),i=0;t>i;i++)n[i]=e();return n}function w(t,e){this.id=t,this.value=e}function x(t,e){this.scheduler=t,
this.disposable=e,this.isDisposed=!1}function C(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function k(t){this._s=t,this.isDisposed=!1}function D(t){this._s=t}function S(t){this._s=t,this._l=t.length,this._i=0}function E(t){this._a=t}function P(t){this._a=t,this._l=O(t),this._i=0}function T(t){return"number"==typeof t&&zt.isFinite(t)}function N(e){var n,i=e[ce];if(!i&&"string"==typeof e)return n=new D(e),n[ce]();if(!i&&e.length!==t)return n=new E(e),n[ce]();if(!i)throw new TypeError("Object is not iterable");return e[ce]()}function M(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function O(t){var e=+t.length;return isNaN(e)?0:0!==e&&T(e)?(e=M(e)*Math.floor(Math.abs(e)),0>=e?0:e>Jn?Jn:e):e}function A(t,e){return tn(t)||(t=ln),new Qn(e,t)}function j(t,e){this.observer=t,this.parent=e}function I(t,e){return t.amb(e)}function F(){return!1}function L(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function F(){return!1}function L(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function F(){return!1}function W(){return[]}function F(){return!1}function W(){return[]}function L(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function H(t){return function(e){return t.subscribe(e)}}function R(t){return t.toArray()}function z(t){return t.length>0}function Y(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function Y(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function B(t,e,n){var i=fe(e,n,3);return t.map(function(e,n){var s=i(e,n,t);return Gt(s)&&(s=Bn(s)),(pe(s)||de(s))&&(s=Zn(s)),s}).concatAll()}function q(t,e,n){for(var i=0,s=t.length;s>i;i++)if(n(t[i],e))return i;return-1}function U(t){this.comparer=t,this.set=[]}function V(e,n){return function(i){for(var s=i,o=0;n>o;o++){var r=s[e[o]];if(void 0===r)return t;s=r}return s}}function $(t){if(0===t.length)throw new se;return t[0]}function X(t,e,n,i){var s=fe(e,n,3);return new lr(function(e){return t.subscribe(new Vs(e,t,s,i))},t)}function G(t){return t?Nn.isObservable(t)?t:Gt(t)?Nn.fromPromise(t):tt(t)||Q(t)?eo.call(this,t):Kt(t)?Z.call(this,t):pe(t)||de(t)?K.call(this,t):et(t)?J.call(this,t):t:t}function K(t){return Nn.from(t).concatMap(function(t){return Nn.isObservable(t)||et(t)?G.call(null,t):Yt.Observable.just(t)}).toArray()}function J(e){for(var n=new e.constructor,i=Object.keys(e),s=[],o=0,r=i.length;r>o;o++){var a=i[o],l=G.call(this,e[a]);l&&Nn.isObservable(l)?function(e,i){n[i]=t,s.push(e.map(function(t){n[i]=t}))}(l,a):n[a]=e[a]}return Nn.forkJoin.apply(Nn,s).map(function(){return n})}function Z(t){var e=this;return new lr(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var i=[],s=1,o=arguments.length;o>s;s++)i.push(arguments[s]);e=i}n.onNext(e),n.onCompleted()})})}function Q(t){return Kt(t.next)&&Kt(t.throw)}function tt(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||Q(e.prototype))}function et(t){return Object==t.constructor}function nt(t,e,n,i){var s=new pr;return i.push(it(s,e,n)),t.apply(e,i),s.asObservable()}function it(t,e,n){return function(){for(var i=arguments.length,s=new Array(i),o=0;i>o;o++)s[o]=arguments[o];if(Kt(n)){if((s=Zt(n).apply(e,s))===Jt)return t.onError(s.e);t.onNext(s)}else s.length<=1?t.onNext(s[0]):t.onNext(s);t.onCompleted()}}function st(t,e,n,i){var s=new pr;return i.push(ot(s,e,n)),t.apply(e,i),s.asObservable()}function ot(t,e,n){return function(){var i=arguments[0];if(i)return t.onError(i);for(var s=arguments.length,o=[],r=1;s>r;r++)o[r-1]=arguments[r];if(Kt(n)){var o=Zt(n).apply(e,o);if(o===Jt)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function rt(t){return zt.StaticNodeList?t instanceof zt.StaticNodeList||t instanceof zt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function at(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function lt(t,e,n){var i=new We,s=Object.prototype.toString.call(t);if(rt(t)||"[object HTMLCollection]"===s)for(var o=0,r=t.length;r>o;o++)i.add(lt(t.item(o),e,n));else t&&i.add(new at(t,e,n));return i}function ut(t,e,n){return new lr(function(i){function s(t,e){if(u[e]=t,r[e]=!0,a||(a=r.every(qt))){if(o)return i.onError(o);var s=Zt(n).apply(null,u);if(s===Jt)return i.onError(s.e);i.onNext(s)}l&&u[1]&&i.onCompleted()}var o,r=[!1,!1],a=!1,l=!1,u=new Array(2);return new Xe(t.subscribe(function(t){s(t,0)},function(t){u[1]?i.onError(t):o=t},function(){l=!0,u[1]&&i.onCompleted()}),e.subscribe(function(t){s(t,1)},function(t){i.onError(t)},function(){l=!0,s(!0,1)}))},t)}function R(t){return t.toArray()}function ct(t,e){return t.groupJoin(this,e,Gn,function(t,e){return e})}function ht(t){var e=this;return new lr(function(n){var i=new dr,s=new We,o=new Ke(s);return n.onNext(Ie(i,o)),s.add(e.subscribe(function(t){i.onNext(t)},function(t){i.onError(t),n.onError(t)},function(){i.onCompleted(),n.onCompleted()})),Gt(t)&&(t=Bn(t)),s.add(t.subscribe(function(t){i.onCompleted(),i=new dr,n.onNext(Ie(i,o))},function(t){i.onError(t),n.onError(t)},function(){i.onCompleted(),n.onCompleted()})),o},e)}function dt(t){var e=this;return new lr(function(n){function i(){var e;try{e=t()}catch(t){return void n.onError(t)}Gt(e)&&(e=Bn(e));var o=new Ve;s.setDisposable(o),o.setDisposable(e.take(1).subscribe(Bt,function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),a=new dr,n.onNext(Ie(a,r)),i()}))}var s=new $e,o=new We(s),r=new Ke(o),a=new dr;return n.onNext(Ie(a,r)),o.add(e.subscribe(function(t){a.onNext(t)},function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),n.onCompleted()})),i(),r},e)}function pt(t,e){return new yo(t,e)}function L(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function ft(t){this.patterns=t}function mt(t,e){this.expression=t,this.selector=e}function gt(t){return function(e){t.onError(e)}}function vt(t,e){return function(){var n=Zt(t.selector).apply(t,arguments);return n===Jt?e.onError(n.e):void e.onNext(n)}}function bt(t,e,n){var i=t.get(e);if(!i){var s=new Eo(e,n);return t.set(e,s),s}return i}function yt(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new So;for(var i=0,s=this.joinObserverArray.length;s>i;i++){var o=this.joinObserverArray[i];this.joinObservers.set(o,o)}}function _t(t,e){return new Po(t,e)}function wt(t,e,n){return new lr(function(i){var s=t,o=Qe(e);return n.scheduleRecursiveFuture(0,s,function(t,e){if(o>0){var r=n.now();s=new Date(s.getTime()+o),s.getTime()<=r&&(s=new Date(r+o))}i.onNext(t),e(t+1,new Date(s))})})}function xt(t,e,n){return t===e?new lr(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):Vn(function(){return wt(new Date(n.now()+t),e,n)})}function Ct(t,e,n){return new lr(function(i){var s,o=!1,r=new $e,a=null,l=[],u=!1;return s=t.materialize().timestamp(n).subscribe(function(t){var s,c;"E"===t.value.kind?(l=[],l.push(t),a=t.value.error,c=!u):(l.push({value:t.value,timestamp:t.timestamp+e}),c=!o,o=!0),c&&(null!==a?i.onError(a):(s=new Ve,r.setDisposable(s),s.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var s,r,c,h;if(null===a){u=!0;do{c=null,l.length>0&&l[0].timestamp-n.now()<=0&&(c=l.shift().value),null!==c&&c.accept(i)}while(null!==c);h=!1,r=0,l.length>0?(h=!0,r=Math.max(0,l[0].timestamp-n.now())):o=!1,s=a,u=!1,null!==s?i.onError(s):h&&e(null,r)}}))))}),new Xe(s,r)},t)}function kt(t,e,n){return Vn(function(){return Ct(t,e-n.now(),n)})}function Dt(t,e,n){var i,s;return Kt(e)?s=e:(i=e,s=n),new lr(function(e){function n(){l.setDisposable(t.subscribe(function(t){var n=Zt(s)(t);if(n===Jt)return e.onError(n.e);var i=new Ve;r.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),r.remove(i),o()},function(t){e.onError(t)},function(){e.onNext(t),r.remove(i),o()}))},function(t){e.onError(t)},function(){a=!0,l.dispose(),o()}))}function o(){a&&0===r.length&&e.onCompleted()}var r=new We,a=!1,l=new $e;return i?l.setDisposable(i.subscribe(n,function(t){e.onError(t)},n)):n(),new Xe(l,r)},t)}function St(t,e){return new lr(function(n){var i,s=!1,o=new $e,r=0,a=t.subscribe(function(t){var a=Zt(e)(t);if(a===Jt)return n.onError(a.e);Gt(a)&&(a=Bn(a)),s=!0,i=t,r++;var l=r,u=new Ve;o.setDisposable(u),u.setDisposable(a.subscribe(function(){s&&r===l&&n.onNext(i),s=!1,u.dispose()},function(t){n.onError(t)},function(){s&&r===l&&n.onNext(i),s=!1,u.dispose()}))},function(t){o.dispose(),n.onError(t),s=!1,r++},function(){o.dispose(),s&&n.onNext(i),n.onCompleted(),s=!1,r++});return new Xe(a,o)},t)}function R(t){return t.toArray()}function R(t){return t.toArray()}function Et(t,e,n,i){return Kt(e)&&(i=n,n=e,e=si()),Nn.isObservable(i)||(i=ci(new Ho)),new lr(function(s){function o(t){function e(){return h=n===c}var n=c,o=new Ve;l.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&a.setDisposable(i.subscribe(s)),o.dispose()},function(t){e()&&s.onError(t)},function(){e()&&a.setDisposable(i.subscribe(s))}))}function r(){var t=!h;return t&&c++,t}var a=new $e,l=new $e,u=new Ve;a.setDisposable(u);var c=0,h=!1;return o(e),u.setDisposable(t.subscribe(function(t){if(r()){s.onNext(t);var e=Zt(n)(t);if(e===Jt)return s.onError(e.e);o(Gt(e)?Bn(e):e)}},function(t){r()&&s.onError(t)},function(){r()&&s.onCompleted()})),new Xe(a,l)},t)}function Pt(t,e,n,i){return tn(n)&&(i=n,n=ci(new Ho)),n instanceof Error&&(n=ci(n)),tn(i)||(i=pn),Nn.isObservable(n)||(n=ci(new Ho)),new lr(function(s){function o(){var t=r;c.setDisposable(i.scheduleFuture(null,e,function(){(u=r===t)&&(Gt(n)&&(n=Bn(n)),l.setDisposable(n.subscribe(s)))}))}var r=0,a=new Ve,l=new $e,u=!1,c=new $e;return l.setDisposable(a),o(),a.setDisposable(t.subscribe(function(t){u||(r++,s.onNext(t),o())},function(t){u||(r++,s.onError(t))},function(){u||(r++,s.onCompleted())})),new Xe(l,c)},t)}function Tt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function Nt(t){this.predicate=t}function Mt(t){this.predicate=t}function Ot(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var i=0,s=this.messages.length;s>i;i++){var o=this.messages[i],r=o.value;!function(e){t.scheduleAbsolute(null,o.time,function(){for(var t=n.observers.slice(0),i=0,s=t.length;s>i;i++)e.accept(t[i]);return Ye})}(r)}}var At={function:!0,object:!0},jt=At[typeof exports]&&exports&&!exports.nodeType?exports:null,It=At[typeof module]&&module&&!module.nodeType?module:null,Ft=e(jt&&It&&"object"==typeof global&&global),Lt=e(At[typeof self]&&self),Wt=e(At[typeof window]&&window),Ht=It&&It.exports===jt?jt:null,Rt=e(At[typeof this]&&this),zt=Ft||Wt!==(Rt&&Rt.window)&&Wt||Lt||Rt||Function("return this")(),Yt={internals:{},config:{Promise:zt.Promise},helpers:{}},Bt=Yt.helpers.noop=function(){},qt=Yt.helpers.identity=function(t){return t},Ut=Yt.helpers.defaultNow=Date.now,Vt=Yt.helpers.defaultComparer=function(t,e){return Oe(t,e)},$t=Yt.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},Xt=(Yt.helpers.defaultKeySerializer=function(t){return t.toString()},Yt.helpers.defaultError=function(t){throw t}),Gt=Yt.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Kt=Yt.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),Jt={e:{}},Zt=Yt.internals.tryCatch=function(t){if(!Kt(t))throw new TypeError("fn must be a function");return i(t)};Yt.config.longStackSupport=!1;var Qt=!1,te=Zt(function(){throw new Error})();Qt=!!te.e&&!!te.e.stack;var ee,ne=u(),ie="From previous event:",se=Yt.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};se.prototype=Object.create(Error.prototype),se.prototype.name="EmptyError";var oe=Yt.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};oe.prototype=Object.create(Error.prototype),oe.prototype.name="ObjectDisposedError";var re=Yt.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};re.prototype=Object.create(Error.prototype),re.prototype.name="ArgumentOutOfRangeError";var ae=Yt.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};ae.prototype=Object.create(Error.prototype),ae.prototype.name="NotSupportedError";var le=Yt.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};le.prototype=Object.create(Error.prototype),le.prototype.name="NotImplementedError";var ue=Yt.helpers.notImplemented=function(){throw new le},ce=(Yt.helpers.notSupported=function(){throw new ae},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");zt.Set&&"function"==typeof(new zt.Set)["@@iterator"]&&(ce="@@iterator");var he=Yt.doneEnumerator={done:!0,value:t},de=Yt.helpers.isIterable=function(e){return e&&e[ce]!==t},pe=Yt.helpers.isArrayLike=function(e){return e&&e.length!==t};Yt.helpers.iterator=ce;var fe=Yt.internals.bindCallback=function(t,e,n){if(void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)}}return function(){return t.apply(e,arguments)}},me="[object Arguments]",ge="[object Array]",ve="[object Boolean]",be="[object Date]",ye="[object Error]",_e="[object Number]",we="[object Object]",xe="[object RegExp]",Ce="[object String]",ke={};ke["[object Float32Array]"]=ke["[object Float64Array]"]=ke["[object Int8Array]"]=ke["[object Int16Array]"]=ke["[object Int32Array]"]=ke["[object Uint8Array]"]=ke["[object Uint8ClampedArray]"]=ke["[object Uint16Array]"]=ke["[object Uint32Array]"]=!0,ke[me]=ke[ge]=ke["[object ArrayBuffer]"]=ke[ve]=ke[be]=ke[ye]=ke["[object Function]"]=ke["[object Map]"]=ke[_e]=ke[we]=ke[xe]=ke["[object Set]"]=ke[Ce]=ke["[object WeakMap]"]=!1;var De=Object.prototype,Se=De.hasOwnProperty,Ee=De.toString,Pe=Math.pow(2,53)-1,Te=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var o,r,a=[];for(o in s)t.call(s,o)&&a.push(o);if(e)for(r=0;i>r;r++)t.call(s,n[r])&&a.push(n[r]);return a}}(),et=Yt.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Ne=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Me=Array.isArray||function(t){return p(t)&&f(t.length)&&Ee.call(t)===ge},Oe=Yt.internals.isEqual=function(t,e){return y(t,e)},Ae=(Array.prototype.slice,Yt.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),je=Yt.internals.addProperties=function(t){for(var e=[],n=1,i=arguments.length;i>n;n++)e.push(arguments[n]);for(var s=0,o=e.length;o>s;s++){var r=e[s];for(var a in r)t[a]=r[a]}},Ie=Yt.internals.addRef=function(t,e){return new lr(function(n){return new Xe(e.getDisposable(),t.subscribe(n))})};w.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Fe=Yt.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Le=Fe.prototype;Le.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Le.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Le.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var e=2*t+1,n=2*t+2,i=t;if(e<this.length&&this.isHigherPriority(e,i)&&(i=e),n<this.length&&this.isHigherPriority(n,i)&&(i=n),i!==t){var s=this.items[t];this.items[t]=this.items[i],this.items[i]=s,this.heapify(i)}}},Le.peek=function(){return this.items[0].value},Le.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=t,this.heapify()},Le.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Le.enqueue=function(t){var e=this.length++;this.items[e]=new w(Fe.count++,t),this.percolate(e)},Le.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Fe.count=0;var We=Yt.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;e>t;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},He=We.prototype;He.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},He.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},He.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;t>n;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;t>n;n++)e[n].dispose()}};var Re=Yt.Disposable=function(t){this.isDisposed=!1,this.action=t||Bt};Re.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var ze=Re.create=function(t){return new Re(t)},Ye=Re.empty={dispose:Bt},Be=Re.isDisposable=function(t){return t&&Kt(t.dispose)},qe=Re.checkDisposed=function(t){if(t.isDisposed)throw new oe},Ue=Re._fixup=function(t){return Be(t)?t:Ye},Ve=Yt.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Ve.prototype.getDisposable=function(){return this.current},Ve.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},Ve.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var $e=Yt.SerialDisposable=function(){this.isDisposed=!1,this.current=null};$e.prototype.getDisposable=function(){return this.current},$e.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},$e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Xe=Yt.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};Xe.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var Ge=Yt.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};Ge.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;e>t;t++)this._disposables[t].dispose();this._disposables.length=0}};var Ke=Yt.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,0===--this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Ye:new t(this)},e}();x.prototype.dispose=function(){this.scheduler.schedule(this,C)};var Je=Yt.internals.ScheduledItem=function(t,e,n,i,s){this.scheduler=t,this.state=e,this.action=n,this.dueTime=i,this.comparer=s||$t,this.disposable=new Ve};Je.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Je.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},Je.prototype.isCancelled=function(){return this.disposable.isDisposed},Je.prototype.invokeCore=function(){return Ue(this.action(this.scheduler,this.state))};var Ze=Yt.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new le},e.scheduleFuture=function(e,n,i){var s=n;return s instanceof Date&&(s-=this.now()),s=t.normalize(s),0===s?this.schedule(e,i):this._scheduleFuture(e,s,i)},e._scheduleFuture=function(t,e,n){throw new le},t.now=Ut,t.prototype.now=Ut,t.normalize=function(t){return 0>t&&(t=0),t},t}(),Qe=Ze.normalize,tn=Ze.isScheduler;!function(t){function e(t,e){function n(e){function i(t,e){return r?o.remove(l):a=!0,s(e,n),Ye}var r=!1,a=!1,l=t.schedule(e,i);a||(o.add(l),r=!0)}var i=e[0],s=e[1],o=new We;return s(i,n),o}function n(t,e){function n(e,i){function r(t,e){return a?o.remove(u):l=!0,s(e,n),Ye}var a=!1,l=!1,u=t.scheduleFuture(e,i,r);l||(o.add(u),a=!0)}var i=e[0],s=e[1],o=new We;return s(i,n),o}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,i){return this.scheduleFuture([t,i],e,n)}}(Ze.prototype),function(t){t.schedulePeriodic=function(t,e,n){if(void 0===zt.setInterval)throw new ae;e=Qe(e);var i=t,s=zt.setInterval(function(){i=n(i)},e);return ze(function(){zt.clearInterval(s)})}}(Ze.prototype),function(t){t.catchError=t.catch=function(t){return new fn(this,t)}}(Ze.prototype);var en,nn,sn=Yt.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var i=Zt(t._action)(t._state);i===Jt&&(t._cancel.dispose(),s(i.e)),t._state=i}}function e(t,e,n,i){this._scheduler=t,this._state=e,this._period=n,this._action=i}return e.prototype.start=function(){var e=new Ve;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),on=function(t){function e(){t.call(this)}return Ae(e,t),e.prototype.schedule=function(t,e){return Ue(e(this,t))},e}(Ze),rn=Ze.immediate=new on,an=function(t){function e(){for(;i.length>0;){var t=i.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var i;return Ae(n,t),n.prototype.schedule=function(t,n){var o=new Je(this,t,n,this.now());if(i)i.enqueue(o);else{i=new Fe(4),i.enqueue(o);var r=Zt(e)();i=null,r===Jt&&s(r.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!i},n}(Ze),ln=Ze.currentThread=new an,un=function(){var t,e=Bt;if(zt.setTimeout)t=zt.setTimeout,e=zt.clearTimeout;else{if(!zt.WScript)throw new ae;t=function(t,e){zt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),cn=un.setTimeout,hn=un.clearTimeout;!function(){function t(e){if(i)cn(function(){t(e)},0);else{var o=n[e];if(o){i=!0;var r=Zt(o)();nn(e),i=!1,r===Jt&&s(r.e)}}}var e=1,n={},i=!1;nn=function(t){delete n[t]};var o=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),r="function"==typeof(r=Ft&&Ht&&Ft.setImmediate)&&!o.test(r)&&r;if(Kt(r))en=function(i){var s=e++;return n[s]=i,r(function(){t(s)}),s};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))en=function(i){var s=e++;return n[s]=i,process.nextTick(function(){t(s)}),s};else if(function(){if(!zt.postMessage||zt.importScripts)return!1;var t=!1,e=zt.onmessage;return zt.onmessage=function(){t=!0},zt.postMessage("","*"),zt.onmessage=e,t}()){var a="ms.rx.schedule"+Math.random(),l=function(e){"string"==typeof e.data&&e.data.substring(0,a.length)===a&&t(e.data.substring(a.length))};zt.addEventListener("message",l,!1),en=function(t){var i=e++;return n[i]=t,zt.postMessage(a+i,"*"),i}}else if(zt.MessageChannel){var u=new zt.MessageChannel;u.port1.onmessage=function(e){t(e.data)},en=function(t){var i=e++;return n[i]=t,u.port2.postMessage(i),i}}else en="document"in zt&&"onreadystatechange"in zt.document.createElement("script")?function(i){var s=zt.document.createElement("script"),o=e++;return n[o]=i,s.onreadystatechange=function(){t(o),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},zt.document.documentElement.appendChild(s),o}:function(i){var s=e++;return n[s]=i,cn(function(){t(s)},0),s}}();var dn=function(t){function e(){t.call(this)}function n(t,e,n,i){return function(){t.setDisposable(Re._fixup(e(n,i)))}}function i(t){this._id=t,this.isDisposed=!1}function s(t){this._id=t,this.isDisposed=!1}function o(t,e,n){return function(){e(t,n)}}return Ae(e,t),i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,nn(this._id))},s.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,hn(this._id))},e.prototype.schedule=function(t,e){var s=new Ve,o=en(n(s,e,this,t));return new Xe(s,new i(o))},e.prototype._scheduleFuture=function(t,e,i){if(0===e)return this.schedule(t,i);var o=new Ve,r=cn(n(o,i,this,t),e);return new Xe(o,new s(r))},e.prototype.scheduleLongRunning=function(t,e){var n=ze(Bt);return en(o(t,e,n)),n},e}(Ze),pn=Ze.default=Ze.async=new dn,fn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Ae(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,i){var o=Zt(t)(e._getRecursiveWrapper(n),i);return o===Jt?(e._handler(o.e)||s(o.e),Ye):Ue(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var i=this,o=!1,r=new Ve;return r.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=Zt(n)(t);return e===Jt?(o=!0,i._handler(e.e)||s(e.e),r.dispose(),null):e})),r},e}(Ze),mn=Yt.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new le},t.prototype._acceptObserver=function(t,e,n){throw new le},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return tn(t)||(t=rn),new lr(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),gn=function(t){function e(t){this.value=t,this.kind="N"}return Ae(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(mn),vn=function(t){function e(t){this.error=t,this.kind="E"}return Ae(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(mn),bn=function(t){function e(){this.kind="C"}return Ae(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(mn),yn=mn.createOnNext=function(t){return new gn(t)},_n=mn.createOnError=function(t){return new vn(t)},wn=mn.createOnCompleted=function(){return new bn},xn=Yt.Observer=function(){};xn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},xn.prototype.asObserver=function(){var t=this;return new Sn(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},xn.prototype.checked=function(){return new En(this)};var Cn=xn.create=function(t,e,n){return t||(t=Bt),e||(e=Xt),n||(n=Bt),new Sn(t,e,n)};xn.fromNotifier=function(t,e){var n=fe(t,e,1);return new Sn(function(t){return n(yn(t))},function(t){return n(_n(t))},function(){return n(wn())})},xn.prototype.notifyOn=function(t){return new Tn(t,this)},xn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var kn,Dn=Yt.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Ae(e,t),e.prototype.next=ue,e.prototype.error=ue,e.prototype.completed=ue,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(xn),Sn=Yt.AnonymousObserver=function(t){function e(e,n,i){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=i}return Ae(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Dn),En=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Ae(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=Zt(this._observer.onNext).call(this._observer,t);this._state=0,e===Jt&&s(e.e)},n.onError=function(t){this.checkAccess();var e=Zt(this._observer.onError).call(this._observer,t);this._state=2,e===Jt&&s(e.e)},n.onCompleted=function(){this.checkAccess();var t=Zt(this._observer.onCompleted).call(this._observer);this._state=2,t===Jt&&s(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(xn),Pn=Yt.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new $e}function n(t,e){return function(){t.onNext(e)}}function i(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function r(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var i=Zt(n)();return i===Jt?(t.queue=[],t.hasFaulted=!0,s(i.e)):void e(t)}return Ae(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(i(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,r))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Dn),Tn=function(t){function e(e,n,i){t.call(this,e,n),this._cancel=i}return Ae(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Pn),Nn=Yt.Observable=function(){function t(t,e){return function(n){var i=n.onError;return n.onError=function(e){o(e,t),i.call(n,e)},e.call(t,n)}}function e(){if(Yt.config.longStackSupport&&Qt){var e=this._subscribe,n=Zt(s)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return kn=e.prototype,e.isObservable=function(t){return t&&Kt(t.subscribe)},kn.subscribe=kn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Cn(t,e,n))},kn.subscribeOnNext=function(t,e){
return this._subscribe(Cn(void 0!==e?function(n){t.call(e,n)}:t))},kn.subscribeOnError=function(t,e){return this._subscribe(Cn(null,void 0!==e?function(n){t.call(e,n)}:t))},kn.subscribeOnCompleted=function(t,e){return this._subscribe(Cn(null,null,void 0!==e?function(){t.call(e)}:t))},e}(),Mn=Yt.ObservableBase=function(t){function e(t){return t&&Kt(t.dispose)?t:Kt(t)?ze(t):Ye}function n(t,n){var i=n[0],o=n[1],r=Zt(o.subscribeCore).call(o,i);r!==Jt||i.fail(Jt.e)||s(Jt.e),i.setDisposable(e(r))}function i(){t.call(this)}return Ae(i,t),i.prototype._subscribe=function(t){var e=new ur(t),i=[e,this];return ln.scheduleRequired()?ln.schedule(i,n):n(null,i),e},i.prototype.subscribeCore=ue,i}(Nn),On=Yt.FlatMapObservable=function(t){function e(e,n,i,s){this.resultSelector=Kt(i)?i:null,this.selector=fe(Kt(n)?n:function(){return n},s,3),this.source=e,t.call(this)}function n(t,e,n,i){this.i=0,this.selector=e,this.resultSelector=n,this.source=i,this.o=t,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Ae(n,Dn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,i){return this.resultSelector(e,t,n,i)},this):t},n.prototype.next=function(t){var e=this.i++,n=Zt(this.selector)(t,e,this.source);return n===Jt?this.o.onError(n.e):(Gt(n)&&(n=Bn(n)),(pe(n)||de(n))&&(n=Nn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Mn),An=Yt.internals.Enumerable=function(){};k.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var jn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Zt(t.e.next).call(t.e);if(n===Jt)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var s=n.value;Gt(s)&&(s=Bn(s));var o=new Ve;t.subscription.setDisposable(o),o.setDisposable(s.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i={isDisposed:!1,o:t,subscription:e,e:this.sources[ce]()},s=ln.scheduleRecursive(i,n);return new Ge([e,s,new k(i)])},Ae(i,Dn),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.o.onError(t)},i.prototype.completed=function(){this._recurse(this._state)},e}(Mn);An.prototype.concat=function(){return new jn(this)};var In=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Zt(t.e.next).call(t.e);if(n===Jt)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var s=n.value;Gt(s)&&(s=Bn(s));var o=new Ve;t.subscription.setDisposable(o),o.setDisposable(s.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i={isDisposed:!1,e:this.sources[ce](),subscription:e,lastError:null,o:t},s=ln.scheduleRecursive(i,n);return new Ge([e,s,new k(i)])},Ae(i,Dn),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},i.prototype.completed=function(){this._state.o.onCompleted()},e}(Mn);An.prototype.catchError=function(){return new In(this)};var Fn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Ae(e,t),e.prototype[ce]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?he:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(An),Ln=An.repeat=function(t,e){return new Fn(t,e)},Wn=function(t){function e(t,e,n){this.s=t,this.fn=e?fe(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Ae(e,t),e.prototype[ce]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:he},e}(An),Hn=An.of=function(t,e,n){return new Wn(t,e,n)},Rn=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Tn(this._s,t))},e}(Mn);kn.observeOn=function(t){return new Rn(this,t)};var zn=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],i=e[1],s=e[2];i.setDisposable(new x(t,n.subscribe(s)))}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new Ve,i=new $e;return i.setDisposable(e),e.setDisposable(this._s.schedule([this.source,i,t],n)),i},e}(Mn);kn.subscribeOn=function(t){return new zn(this,t)};var Yn=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];n.onNext(i),n.onCompleted()}function i(t,e){var n=e[0],i=e[1];n.onError(i)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new Ve,s=this,o=this._p;return Kt(o)&&(o=Zt(o)())===Jt?(t.onError(o.e),e):(o.then(function(i){e.setDisposable(s._s.schedule([t,i],n))},function(n){e.setDisposable(s._s.schedule([t,n],i))}),e)},e}(Mn),Bn=Nn.fromPromise=function(t,e){return e||(e=pn),new Yn(t,e)};kn.toPromise=function(t){if(t||(t=Yt.config.Promise),!t)throw new ae("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var i;e.subscribe(function(t){i=t},n,function(){t(i)})})};var qn=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Ae(n,Dn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Mn);kn.toArray=function(){return new qn(this)},Nn.create=function(t,e){return new lr(t,e)};var Un=function(t){function e(e){this._f=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=Zt(this._f)();return e===Jt?ci(e.e).subscribe(t):(Gt(e)&&(e=Bn(e)),e.subscribe(t))},e}(Mn),Vn=Nn.defer=function(t){return new Un(t)},$n=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function i(t,e){return e.onCompleted(),Ye}return Ae(e,t),e.prototype.subscribeCore=function(t){return new n(t,this.scheduler).run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===rn?i(null,t):this.scheduler.schedule(t,i)},e}(Mn),Xn=new $n(rn),Gn=Nn.empty=function(t){return tn(t)||(t=rn),t===rn?Xn:new $n(t)},Kn=function(t){function e(e,n,i){this._iterable=e,this._fn=n,this._scheduler=i,t.call(this)}function n(t,e,n){return function(i,s){var o=Zt(e.next).call(e);if(o===Jt)return t.onError(o.e);if(o.done)return t.onCompleted();var r=o.value;return Kt(n)&&(r=Zt(n)(r,i))===Jt?t.onError(r.e):(t.onNext(r),void s(i+1))}}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),i=N(e);return this._scheduler.scheduleRecursive(0,n(t,i,this._fn))},e}(Mn),Jn=Math.pow(2,53)-1;D.prototype[ce]=function(){return new S(this._s)},S.prototype[ce]=function(){return this},S.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:he},E.prototype[ce]=function(){return new P(this._a)},P.prototype[ce]=function(){return this},P.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:he};var Zn=Nn.from=function(t,e,n,i){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Kt(e))throw new Error("mapFn when provided must be a function");if(e)var s=fe(e,n,2);return tn(i)||(i=ln),new Kn(t,s,i)},Qn=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(i,s){n>i?(t.onNext(e[i]),s(i+1)):t.onCompleted()}}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(Mn),ti=Nn.fromArray=function(t,e){return tn(e)||(e=ln),new Qn(t,e)},ei=function(t){function e(e,n,i,s,o){this._initialState=e,this._cndFn=n,this._itrFn=i,this._resFn=s,this._s=o,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=Zt(t.self._itrFn)(t.newState),t.newState===Jt)return t.o.onError(t.newState.e);var n=Zt(t.self._cndFn)(t.newState);if(n===Jt)return t.o.onError(n.e);if(n){var i=Zt(t.self._resFn)(t.newState);if(i===Jt)return t.o.onError(i.e);t.o.onNext(i),e(t)}else t.o.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(Mn);Nn.generate=function(t,e,n,i,s){return tn(s)||(s=ln),new ei(t,e,n,i,s)},Nn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return new Qn(e,ln)},Nn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;e>i;i++)n[i-1]=arguments[i];return new Qn(n,t)},Nn.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new lr(function(e){function n(t){for(var n=0,i=t.length;i>n;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},Nn.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new lr(function(e){function n(t){for(var n=0,i=t.length;i>n;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var ni=function(t){function e(){t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return Ye},e}(Mn),ii=new ni,si=Nn.never=function(){return ii},oi=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(i,s){if(i<n.length){var o=n[i];t.onNext([o,e[o]]),s(i+1)}else t.onCompleted()}}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(Mn);Nn.pairs=function(t,e){return e||(e=ln),new oi(t,e)};var ri=function(t){function e(e,n,i){this.start=e,this.rangeCount=n,this.scheduler=i,t.call(this)}function n(t,e,n){return function(i,s){e>i?(n.onNext(t+i),s(i+1)):n.onCompleted()}}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(Mn);Nn.range=function(t,e,n){return tn(n)||(n=ln),new ri(t,e,n)};var ai=function(t){function e(e,n,i){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return new j(t,this).run()},e}(Mn);j.prototype.run=function(){function t(t,i){return(-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void i(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Nn.repeat=function(t,e,n){return tn(n)||(n=ln),new ai(t,e,n)};var li=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];return i.onNext(n),i.onCompleted(),Ye}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===rn?n(null,e):this._scheduler.schedule(e,n)},e}(Mn),ui=(Nn.return=Nn.just=function(t,e){return tn(e)||(e=rn),new li(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0];return e[1].onError(n),Ye}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===rn?n(null,e):this._scheduler.schedule(e,n)},e}(Mn)),ci=Nn.throw=function(t,e){return tn(e)||(e=rn),new ui(t,e)},hi=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=Ye,n=Zt(this._resFn)();if(n===Jt)return new Xe(ci(n.e).subscribe(t),e);n&&(e=n);var i=Zt(this._obsFn)(n);return i===Jt?new Xe(ci(i.e).subscribe(t),e):new Xe(i.subscribe(t),e)},e}(Mn);Nn.using=function(t,e){return new hi(t,e)},kn.amb=function(t){var e=this;return new lr(function(n){function i(){o||(o=r,u.dispose())}function s(){o||(o=a,l.dispose())}var o,r="L",a="R",l=new Ve,u=new Ve;Gt(t)&&(t=Bn(t));var c=Cn(function(t){i(),o===r&&n.onNext(t)},function(t){i(),o===r&&n.onError(t)},function(){i(),o===r&&n.onCompleted()}),h=Cn(function(t){s(),o===a&&n.onNext(t)},function(t){s(),o===a&&n.onError(t)},function(){s(),o===a&&n.onCompleted()});return l.setDisposable(e.subscribe(c)),u.setDisposable(t.subscribe(h)),new Xe(l,u)})},Nn.amb=function(){var t,e=si();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var i=0;n>i;i++)t[i]=arguments[i]}for(var i=0,n=t.length;n>i;i++)e=I(e,t[i]);return e};var di=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new Ve,n=new $e;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new pi(t,n,this._fn))),n},e}(Mn),pi=function(t){function e(e,n,i){this._o=e,this._s=n,this._fn=i,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=Zt(this._fn)(t);if(e===Jt)return this._o.onError(e.e);Gt(e)&&(e=Bn(e));var n=new Ve;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Dn);kn.catch=function(t){return Kt(t)?new di(this,t):fi([this,t])};var fi=Nn.catch=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return Hn(t).catchError()};kn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),vi.apply(this,e)};var mi=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),i={hasValue:_(e,F),hasValueAll:!1,isDone:_(e,F),values:new Array(e)},s=0;e>s;s++){var o=this._params[s],r=new Ve;n[s]=r,Gt(o)&&(o=Bn(o)),r.setDisposable(o.subscribe(new gi(t,s,this._cb,i)))}return new Ge(n)},e}(Mn),gi=function(t){function e(e,n,i,s){this._o=e,this._i=n,this._cb=i,this._state=s,t.call(this)}function n(t){return function(e,n){return n!==t}}return Ae(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(qt))){var e=Zt(this._cb).apply(null,this._state.values);if(e===Jt)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(qt)&&this._o.onCompleted()},e}(Dn),vi=Nn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=Kt(e[t-1])?e.pop():L;return Array.isArray(e[0])&&(e=e[0]),new mi(e,i)};kn.concat=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return t.unshift(this),_i.apply(null,t)};var bi=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Dn),yi=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];Gt(n)&&(n=Bn(n));var i=new Ve;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new bi(t,e)))}}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i=ze(Bt),s={o:t,i:0,subscription:e,disposable:i,sources:this._sources},o=rn.scheduleRecursive(s,n);return new Ge([e,i,o])},e}(Mn),_i=Nn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;n>e;e++)t[e]=arguments[e]}return new yi(t)};kn.concatAll=function(){return this.merge(1)};var wi=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new We;return e.add(this.source.subscribe(new xi(t,this.maxConcurrent,e))),e},e}(Mn),xi=function(t){function e(e,n,i){this.o=e,this.max=n,this.g=i,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ae(e,t),e.prototype.handleSubscribe=function(t){var e=new Ve;this.g.add(e),Gt(t)&&(t=Bn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Ae(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Dn);kn.merge=function(t){return"number"!=typeof t?Ci(this,t):new wi(this,t)};var Ci=Nn.merge=function(){var t,e,n=[],i=arguments.length;if(arguments[0])if(tn(arguments[0]))for(t=arguments[0],e=1;i>e;e++)n.push(arguments[e]);else for(t=rn,e=0;i>e;e++)n.push(arguments[e]);else for(t=rn,e=1;i>e;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),A(t,n).mergeAll()},ki=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new We,n=new Ve;return e.add(n),n.setDisposable(this.source.subscribe(new Di(t,e))),e},e}(Mn),Di=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=new Ve;this.g.add(e),Gt(t)&&(t=Bn(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Ae(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Dn);kn.mergeAll=function(){return new ki(this)};var Si=Yt.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Si.prototype=Object.create(Error.prototype),Si.prototype.name="CompositeError";var Ei=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new We,n=new Ve,i={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Pi(e,i))),e},e}(Mn),Pi=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Si(e))}function i(e,n,i){this._inner=e,this._group=n,this._state=i,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=new Ve;this._group.add(e),Gt(t)&&(t=Bn(t)),e.setDisposable(t.subscribe(new i(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Ae(i,t),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},i.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Dn);Nn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}var i=A(null,t);return new Ei(i)},kn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Mi([this,t])};var Ti=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];Gt(n)&&(n=Bn(n));var i=new Ve;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new Ni(t,e)))}else t.o.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i={pos:0,subscription:e,o:t,sources:this.sources},s=rn.scheduleRecursive(i,n);return new Xe(e,s)},e}(Mn),Ni=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Dn),Mi=Nn.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Ti(t)},Oi=function(t){function e(e,n){this._s=e,this._o=Gt(n)?Bn(n):n,this._open=!1,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new Ve;e.setDisposable(this._s.subscribe(new Ai(t,this))),Gt(this._o)&&(this._o=Bn(this._o));var n=new Ve;return n.setDisposable(this._o.subscribe(new ji(t,this,n))),new Xe(e,n)},e}(Mn),Ai=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Dn),ji=function(t){function e(e,n,i){this._o=e,this._p=n,this._r=i,t.call(this)}return Ae(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Dn);kn.skipUntil=function(t){return new Oi(this,t)};var Ii=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Dn.call(this)}function i(t,e){this.parent=t,this.id=e,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e,i=this.source.subscribe(new n(t,e));return new Xe(i,e)},Ae(n,Dn),n.prototype.next=function(t){var e=new Ve,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Gt(t)&&(t=Bn(t)),e.setDisposable(t.subscribe(new i(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Ae(i,Dn),i.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},i.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},i.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Mn);kn.switch=kn.switchLatest=function(){return new Ii(this)};var Fi=function(t){function e(e,n){this.source=e,this.other=Gt(n)?Bn(n):n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return new Xe(this.source.subscribe(t),this.other.subscribe(new Li(t)))},e}(Mn),Li=function(t){function e(e){this._o=e,t.call(this)}return Ae(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Bt,e}(Dn);kn.takeUntil=function(t){return new Fi(this,t)};var Wi=function(t){function e(e,n,i){this._s=e,this._ss=n,this._cb=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:_(e,F),hasValueAll:!1,values:new Array(e)},i=this._ss.length,s=new Array(i+1),o=0;i>o;o++){var r=this._ss[o],a=new Ve;Gt(r)&&(r=Bn(r)),a.setDisposable(r.subscribe(new Hi(t,o,n))),s[o]=a}var l=new Ve;return l.setDisposable(this._s.subscribe(new Ri(t,this._cb,n))),s[i]=l,new Ge(s)},e}(Mn),Hi=function(t){function e(e,n,i){this._o=e,this._i=n,this._state=i,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(qt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Bt,e}(Dn),Ri=function(t){function e(e,n,i){this._o=e,this._cb=n,this._state=i,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=Zt(this._cb).apply(null,e);return n===Jt?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=Kt(e[t-1])?e.pop():L;return Array.isArray(e[0])&&(e=e[0]),new Wi(this,e,i)};var zi=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),i=_(e,F),s=_(e,W),o=0;e>o;o++){var r=this._s[o],a=new Ve;n[o]=a,Gt(r)&&(r=Bn(r)),a.setDisposable(r.subscribe(new Yi(t,o,this,s,i)))}return new Ge(n)},e}(Mn),Yi=function(t){function e(e,n,i,s,o){this._o=e,this._i=n,this._p=i,this._q=s,this._d=o,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function s(t){return function(e,n){return n!==t}}return Ae(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(i),o=Zt(this._p._cb).apply(null,e);if(o===Jt)return this._o.onError(o.e);this._o.onNext(o)}else this._d.filter(s(this._i)).every(qt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(qt)&&this._o.onCompleted()},e}(Dn);kn.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=Kt(e[t-1])?e.pop():L;Array.isArray(e[0])&&(e=e[0]);var s=this;return e.unshift(s),new zi(e,i)},Nn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=Kt(e[1])?e[0].concat(e[1]):e[0]);var i=e.shift();return i.zip.apply(i,e)};var Bi=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,i=new Array(n),s={q:_(n,W),done:_(n,F),cb:this._cb,o:t},o=0;n>o;o++)!function(t){var n=e[t],o=new Ve;(pe(n)||de(n))&&(n=Zn(n)),i[t]=o,o.setDisposable(n.subscribe(new qi(s,t)))}(o);return new Ge(i)},e}(Mn),qi=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function s(t){return function(e,n){return n!==t}}return Ae(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(i),o=Zt(this._s.cb).apply(null,e);if(o===Jt)return this._s.o.onError(o.e);this._s.o.onNext(o)}else this._s.done.filter(s(this._i)).every(qt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(qt)&&this._s.o.onCompleted()},e}(Dn);kn.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=Kt(e[t-1])?e.pop():L,s=this;return e.unshift(s),new Bi(e,i)},kn.asObservable=function(){return new lr(H(this),this)},kn.bufferWithCount=kn.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(R).filter(z)};var Ui=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vi(t))},e}(Mn),Vi=function(t){function e(e){this._o=e,t.call(this)}return Ae(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.dematerialize=function(){return new Ui(this)};var $i=function(t){function e(e,n,i){this.source=e,this.keyFn=n,this.comparer=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xi(t,this.keyFn,this.comparer))},e}(Mn),Xi=function(t){function e(e,n,i){this.o=e,this.keyFn=n,this.comparer=i,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e,n=t;return Kt(this.keyFn)&&(n=Zt(this.keyFn)(t))===Jt?this.o.onError(n.e):this.hasCurrentKey&&(e=Zt(this.comparer)(this.currentKey,n))===Jt?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Dn);kn.distinctUntilChanged=function(t,e){return e||(e=Vt),new $i(this,t,e)};var Gi=function(t){function e(e,n,i,s){this.source=e,this._oN=n,this._oE=i,this._oC=s,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||Kt(e._oN)?Cn(e._oN||Bt,e._oE||Bt,e._oC||Bt):e._oN,this.isStopped=!1,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Ae(n,Dn),n.prototype.next=function(t){var e=Zt(this.t.onNext).call(this.t,t);e===Jt&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=Zt(this.t.onError).call(this.t,t);return e===Jt?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=Zt(this.t.onCompleted).call(this.t);return t===Jt?this.o.onError(t.e):void this.o.onCompleted()},e}(Mn);kn.do=kn.tap=kn.doAction=function(t,e,n){return new Gi(this,t,e,n)},kn.doOnNext=kn.tapOnNext=function(t,e){return this.tap(void 0!==e?function(n){t.call(e,n)}:t)},kn.doOnError=kn.tapOnError=function(t,e){return this.tap(Bt,void 0!==e?function(n){t.call(e,n)}:t)},kn.doOnCompleted=kn.tapOnCompleted=function(t,e){return this.tap(Bt,null,void 0!==e?function(){t.call(e)}:t)};var Ki=function(t){function e(e,n,i){this.source=e,this._fn=fe(n,i,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=Zt(this.source.subscribe).call(this.source,t);return e===Jt&&(this._fn(),s(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=Zt(this._s.dispose).call(this._s);this._fn(),t===Jt&&s(t.e)}},e}(Mn);kn.finally=function(t,e){return new Ki(this,t,e)};var Ji=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Bt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Mn);kn.ignoreElements=function(){return new Ji(this)};var Zi=function(t){function e(e,n){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Qi(t))},e}(Mn),Qi=function(t){function e(e){this._o=e,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._o.onNext(yn(t))},e.prototype.error=function(t){this._o.onNext(_n(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(wn()),this._o.onCompleted()},e}(Dn);kn.materialize=function(){
return new Zi(this)},kn.repeat=function(t){return Ln(this,t).concat()},kn.retry=function(t){return Ln(this,t).catchError()};var ts=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ae(n,t),n.prototype.subscribeCore=function(t){var n=new dr,i=new dr,s=this._notifier(n),o=s.subscribe(i),r=this.source["@@iterator"](),a={isDisposed:!1},l=new $e,u=ln.scheduleRecursive(null,function(e,s){if(!a.isDisposed){var o=r.next();if(o.done)return void t.onCompleted();var u=o.value;Gt(u)&&(u=Bn(u));var c=new Ve,h=new Ve;l.setDisposable(new Xe(h,c)),c.setDisposable(u.subscribe(function(e){t.onNext(e)},function(e){h.setDisposable(i.subscribe(s,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(e),c.dispose()},function(){t.onCompleted()}))}});return new Ge([o,l,u,e(a)])},n}(Mn);kn.retryWhen=function(t){return new ts(Y(this),t)};var es=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Ae(n,t),n.prototype.subscribeCore=function(t){var n=new dr,i=new dr,s=this._notifier(n),o=s.subscribe(i),r=this.source["@@iterator"](),a={isDisposed:!1},l=new $e,u=ln.scheduleRecursive(null,function(e,s){if(!a.isDisposed){var o=r.next();if(o.done)return void t.onCompleted();var u=o.value;Gt(u)&&(u=Bn(u));var c=new Ve,h=new Ve;l.setDisposable(new Xe(h,c)),c.setDisposable(u.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){h.setDisposable(i.subscribe(s,function(e){t.onError(e)},function(){t.onCompleted()})),n.onNext(null),c.dispose()}))}});return new Ge([o,l,u,e(a)])},n}(Mn);kn.repeatWhen=function(t){return new es(Y(this),t)};var ns=function(t){function e(e,n,i,s){this.source=e,this.accumulator=n,this.hasSeed=i,this.seed=s,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new is(t,this))},e}(Mn),is=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=Zt(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?Zt(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Jt?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Dn);kn.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new ns(this,n,e,t)};var ss=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new os(t,this._c))},e}(Mn),os=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.skipLast=function(t){if(0>t)throw new re;return new ss(this,t)},kn.startWith=function(){var t,e=0;arguments.length&&tn(arguments[0])?(t=arguments[0],e=1):t=rn;for(var n=[],i=e,s=arguments.length;s>i;i++)n.push(arguments[i]);return _i.apply(null,[ti(n,t),this])};var rs=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Dn);kn.takeLast=function(t){if(0>t)throw new re;var e=this;return new lr(function(n){return e.subscribe(new rs(n,t))},e)};var as=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Dn);kn.takeLastBuffer=function(t){if(0>t)throw new re;var e=this;return new lr(function(n){return e.subscribe(new as(n,t))},e)},kn.windowWithCount=kn.windowCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new re;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new re;return new lr(function(i){function s(){var t=new dr;l.push(t),i.onNext(Ie(t,r))}var o=new Ve,r=new Ke(o),a=0,l=[];return s(),o.setDisposable(n.subscribe(function(n){for(var i=0,o=l.length;o>i;i++)l[i].onNext(n);var r=a-t+1;r>=0&&r%e==0&&l.shift().onCompleted(),++a%e==0&&s()},function(t){for(;l.length>0;)l.shift().onError(t);i.onError(t)},function(){for(;l.length>0;)l.shift().onCompleted();i.onCompleted()})),r},n)},kn.selectConcat=kn.concatMap=function(t,e,n){return Kt(t)&&Kt(e)?this.concatMap(function(n,i){var s=t(n,i);return Gt(s)&&(s=Bn(s)),(pe(s)||de(s))&&(s=Zn(s)),s.map(function(t,s){return e(n,t,i,s)})}):Kt(t)?B(this,t,n):B(this,function(){return t})},kn.concatMapObserver=kn.selectConcatObserver=function(t,e,n,i){var s=this,o=fe(t,i,2),r=fe(e,i,1),a=fe(n,i,0);return new lr(function(t){var e=0;return s.subscribe(function(n){var i;try{i=o(n,e++)}catch(e){return void t.onError(e)}Gt(i)&&(i=Bn(i)),t.onNext(i)},function(e){var n;try{n=r(e)}catch(e){return void t.onError(e)}Gt(n)&&(n=Bn(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=a()}catch(e){return void t.onError(e)}Gt(e)&&(e=Bn(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var ls=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Dn);kn.defaultIfEmpty=function(e){var n=this;return e===t&&(e=null),new lr(function(t){return n.subscribe(new ls(t,e))},n)},U.prototype.push=function(t){var e=-1===q(this.set,t,this.comparer);return e&&this.set.push(t),e};var us=function(t){function e(e,n,i){this.source=e,this._keyFn=n,this._cmpFn=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new cs(t,this._keyFn,this._cmpFn))},e}(Mn),cs=function(t){function e(e,n,i){this._o=e,this._keyFn=n,this._h=new U(i),t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=t;return Kt(this._keyFn)&&(e=Zt(this._keyFn)(t))===Jt?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.distinct=function(t,e){return e||(e=Vt),new us(this,t,e)},kn.groupBy=function(t,e){return this.groupByUntil(t,e,si)},kn.groupByUntil=function(e,n,i){var s=this;return new lr(function(o){var r=new So,a=new We,l=new Ke(a),u=function(t){return function(e){e.onError(t)}};return a.add(s.subscribe(function(s){var c=Zt(e)(s);if(c===Jt)return r.forEach(u(c.e)),o.onError(c.e);var h=!1,d=r.get(c);if(d===t&&(d=new dr,r.set(c,d),h=!0),h){var p=new hr(c,d,l),f=new hr(c,d),m=Zt(i)(f);if(m===Jt)return r.forEach(u(m.e)),o.onError(m.e);o.onNext(p);var g=new Ve;a.add(g),g.setDisposable(m.take(1).subscribe(Bt,function(t){r.forEach(u(t)),o.onError(t)},function(){r.delete(c)&&d.onCompleted(),a.remove(g)}))}var v=s;return Kt(n)&&(v=Zt(n)(s))===Jt?(r.forEach(u(v.e)),o.onError(v.e)):void d.onNext(v)},function(t){r.forEach(u(t)),o.onError(t)},function(){r.forEach(function(t){t.onCompleted()}),o.onCompleted()})),l},s)};var hs=function(t){function e(e,n,i){this.source=e,this.selector=fe(n,i,3),t.call(this)}function n(t,e){return function(n,i,s){return t.call(this,e.selector(n,i,s),i,s)}}function i(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Dn.call(this)}return Ae(e,t),e.prototype.internalMap=function(t,i){return new e(this.source,n(t,this),i)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.selector,this))},Ae(i,Dn),i.prototype.next=function(t){var e=Zt(this.selector)(t,this.i++,this.source);return e===Jt?this.o.onError(e.e):void this.o.onNext(e)},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(Mn);kn.map=kn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof hs?this.internalMap(n,e):new hs(this,n,e)},kn.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;t>n;n++)e[n]=arguments[n];return this.map(V(e,t))},kn.flatMap=kn.selectMany=kn.mergeMap=function(t,e,n){return new On(this,t,e,n).mergeAll()},kn.flatMapObserver=kn.selectManyObserver=function(t,e,n,i){var s=this;return new lr(function(o){var r=0;return s.subscribe(function(e){var n;try{n=t.call(i,e,r++)}catch(t){return void o.onError(t)}Gt(n)&&(n=Bn(n)),o.onNext(n)},function(t){var n;try{n=e.call(i,t)}catch(t){return void o.onError(t)}Gt(n)&&(n=Bn(n)),o.onNext(n),o.onCompleted()},function(){var t;try{t=n.call(i)}catch(t){return void o.onError(t)}Gt(t)&&(t=Bn(t)),o.onNext(t),o.onCompleted()})},s).mergeAll()},kn.flatMapLatest=kn.switchMap=function(t,e,n){return new On(this,t,e,n).switchLatest()};var ds=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ae(n,Dn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Mn);kn.skip=function(t){if(0>t)throw new re;return new ds(this,t)};var ps=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new fs(t,this))},e}(Mn),fs=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Ae(e,t),e.prototype.next=function(t){if(!this._r){var e=Zt(this._p._fn)(t,this._i++,this._p);if(e===Jt)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.skipWhile=function(t,e){var n=fe(t,e,3);return new ps(this,n)};var ms=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Ae(n,Dn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Mn);kn.take=function(t,e){if(0>t)throw new re;return 0===t?Gn(e):new ms(this,t)};var gs=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new vs(t,this))},e}(Mn),vs=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){return this._r&&(this._r=Zt(this._p._fn)(t,this._i++,this._p),this._r===Jt)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.takeWhile=function(t,e){var n=fe(t,e,3);return new gs(this,n)};var bs=function(t){function e(e,n,i){this.source=e,this.predicate=fe(n,i,3),t.call(this)}function n(t,e){return function(n,i,s){return e.predicate(n,i,s)&&t.call(this,n,i,s)}}function i(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Dn.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.predicate,this))},e.prototype.internalFilter=function(t,i){return new e(this.source,n(t,this),i)},Ae(i,Dn),i.prototype.next=function(t){var e=Zt(this.predicate)(t,this.i++,this.source);return e===Jt?this.o.onError(e.e):void(e&&this.o.onNext(t))},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(Mn);kn.filter=kn.where=function(t,e){return this instanceof bs?this.internalFilter(t,e):new bs(this,t,e)};var ys=function(t){function e(e,n,i){this.source=e,this._k=n,this._c=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new _s(t,this._k,this._c))},e}(Mn),_s=function(t){function e(e,n,i){this._o=e,this._k=n,this._c=i,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._k)(t);if(e===Jt)return this._o.onError(e.e);var n=0;if(this._hv){if((n=Zt(this._c)(e,this._v))===Jt)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Dn),ws=function(t){function e(e,n,i,s){this.source=e,this.accumulator=n,this.hasSeed=i,this.seed=s,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new xs(t,this))},e}(Mn),xs=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=Zt(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?Zt(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Jt?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new se),this._o.onCompleted()},e}(Dn);kn.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new ws(this,n,e,t)};var Cs=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ks(t,this._fn,this.source))},e}(Mn),ks=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._fn)(t,this._i++,this._s);return e===Jt?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Dn);kn.some=function(t,e){var n=fe(t,e,3);return new Cs(this,n)};var Ds=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ss(t))},e}(Mn),Ss=function(t){function e(e){this._o=e,t.call(this)}return Ae(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Dn);kn.isEmpty=function(){return new Ds(this)};var Es=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ps(t,this._fn,this.source))},e}(Mn),Ps=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._fn)(t,this._i++,this._s);return e===Jt?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Dn);kn.every=function(t,e){var n=fe(t,e,3);return new Es(this,n)};var Ts=function(t){function e(e,n,i){var s=+i||0;Math.abs(s)===1/0&&(s=0),this.source=e,this._elem=n,this._n=s,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),Ye):this.source.subscribe(new Ns(t,this._elem,this._n))},e}(Mn),Ns=function(t){function e(e,n,i){this._o=e,this._elem=n,this._n=i,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Ae(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Dn);kn.includes=function(t,e){return new Ts(this,t,e)};var Ms=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Os(t,this._fn,this.source))},e}(Mn),Os=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,this._c=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){if(this._fn){var e=Zt(this._fn)(t,this._i++,this._s);if(e===Jt)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Dn);kn.count=function(t,e){var n=fe(t,e,3);return new Ms(this,n)};var As=function(t){function e(e,n,i){this.source=e,this._e=n,this._n=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ye):this.source.subscribe(new js(t,this._e,this._n))},e}(Mn),js=function(t){function e(e,n,i){this._o=e,this._e=n,this._n=i,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Dn);kn.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new As(this,t,n)};var Is=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Fs(t,this._fn,this.source))},e}(Mn),Fs=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._i=0,this._c=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){if(this._fn){var e=Zt(this._fn)(t,this._i++,this._s);if(e===Jt)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Dn);kn.sum=function(t,e){var n=fe(t,e,3);return new Is(this,n)},kn.minBy=function(t,e){return e||(e=$t),new ys(this,t,function(t,n){return-1*e(t,n)})},kn.min=function(t){return this.minBy(qt,t).map($)},kn.maxBy=function(t,e){return e||(e=$t),new ys(this,t,e)},kn.max=function(t){return this.maxBy(qt,t).map($)};var Ls=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ws(t,this._fn,this.source))},e}(Mn),Ws=function(t){function e(e,n,i){this._o=e,this._fn=n,this._s=i,this._c=0,this._t=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){if(this._fn){var e=Zt(this._fn)(t,this._c++,this._s);if(e===Jt)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new se):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Dn);kn.average=function(t,e){var n,i=this;return Kt(t)&&(n=fe(t,e,3)),new Ls(i,n)},kn.sequenceEqual=function(t,e){var n=this;return e||(e=Vt),new lr(function(i){var s=!1,o=!1,r=[],a=[],l=n.subscribe(function(t){if(a.length>0){var n=a.shift(),s=Zt(e)(n,t);if(s===Jt)return i.onError(s.e);s||(i.onNext(!1),i.onCompleted())}else o?(i.onNext(!1),i.onCompleted()):r.push(t)},function(t){i.onError(t)},function(){s=!0,0===r.length&&(a.length>0?(i.onNext(!1),i.onCompleted()):o&&(i.onNext(!0),i.onCompleted()))});(pe(t)||de(t))&&(t=Zn(t)),Gt(t)&&(t=Bn(t));var u=t.subscribe(function(t){if(r.length>0){var n=r.shift(),o=Zt(e)(n,t);if(o===Jt)return i.onError(o.e);o||(i.onNext(!1),i.onCompleted())}else s?(i.onNext(!1),i.onCompleted()):a.push(t)},function(t){i.onError(t)},function(){o=!0,0===a.length&&(r.length>0?(i.onNext(!1),i.onCompleted()):s&&(i.onNext(!0),i.onCompleted()))});return new Xe(l,u)},n)};var Hs=function(t){function e(e,n,i){this.source=e,this._i=n,this._d=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Rs(t,this._i,this._d))},e}(Mn),Rs=function(e){function n(t,n,i){this._o=t,this._i=n,this._d=i,e.call(this)}return Ae(n,e),n.prototype.next=function(t){0==this._i--&&(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._d===t?this._o.onError(new re):(this._o.onNext(this._d),this._o.onCompleted())},n}(Dn);kn.elementAt=function(t,e){if(0>t)throw new re;return new Hs(this,t,e)};var zs=function(e){function n(t,n,i){this._o=t,this._obj=n,this._s=i,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Ae(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=Zt(this._obj.predicate)(t,this._i++,this._s);if(n===Jt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Dn);kn.single=function(t,e){var n={},i=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Kt(n.predicate)){var s=n.predicate;n.predicate=fe(s,n.thisArg,3)}return new lr(function(t){return i.subscribe(new zs(t,n,i))},i)};var Ys=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bs(t,this._obj,this.source))},e}(Mn),Bs=function(e){function n(t,n,i){this._o=t,this._obj=n,this._s=i,this._i=0,e.call(this)}return Ae(n,e),n.prototype.next=function(t){if(this._obj.predicate){var e=Zt(this._obj.predicate)(t,this._i++,this._s);if(e===Jt)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Dn);kn.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Kt(t.predicate)){var e=t.predicate;t.predicate=fe(e,t.thisArg,3)}return new Ys(this,t)};var qs=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Us(t,this._obj,this.source))},e}(Mn),Us=function(e){function n(t,n,i){this._o=t,this._obj=n,this._s=i,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Ae(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=Zt(this._obj.predicate)(t,this._i++,this._s);if(n===Jt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new se):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Dn);kn.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Kt(t.predicate)){var e=t.predicate;t.predicate=fe(e,t.thisArg,3)}return new qs(this,t)};var Vs=function(t){function e(e,n,i,s){this._o=e,this._s=n,this._cb=i,this._y=s,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._cb)(t,this._i,this._s);return e===Jt?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Dn);kn.find=function(t,e){return X(this,t,e,!1)},kn.findIndex=function(t,e){return X(this,t,e,!0)};var $s=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Xs(t))},e}(Mn),Xs=function(t){function e(e){this._o=e,this._s=new zt.Set,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Dn);kn.toSet=function(){if(void 0===zt.Set)throw new TypeError;return new $s(this)};var Gs=function(t){function e(e,n,i){this.source=e,this._k=n,this._e=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ks(t,this._k,this._e))},e}(Mn),Ks=function(t){function e(e,n,i){this._o=e,this._k=n,this._e=i,this._m=new zt.Map,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._k)(t);if(e===Jt)return this._o.onError(e.e);var n=t;return this._e&&(n=Zt(this._e)(t))===Jt?this._o.onError(n.e):void this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Dn);kn.toMap=function(t,e){if(void 0===zt.Map)throw new TypeError;return new Gs(this,t,e)};var Js=function(t){function e(e,n,i){this.source=e,this._b=n,this._e=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zs(t,this._b,this._e))},e}(Mn),Zs=function(t){function e(e,n,i){this._o=e,this._b=n,this._e=i,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.slice=function(t,e){var n=t||0;if(0>n)throw new Yt.ArgumentOutOfRangeError;if("number"==typeof e&&n>e)throw new Yt.ArgumentOutOfRangeError;return new Js(this,n,e)};var Qs=function(t){function e(e,n,i){this.source=e,this._e=n,this._n=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),Ye):this.source.subscribe(new to(t,this._e,this._n))},e}(Mn),to=function(t){function e(e,n,i){this._o=e,this._e=n,this._n=i,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Dn);kn.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new Qs(this,t,n)},Nn.wrap=function(t){function e(){return Nn.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var eo=Nn.spawn=function(){for(var t=arguments[0],e=this,n=[],i=1,s=arguments.length;s>i;i++)n.push(arguments[i]);return new lr(function(i){function s(e){var n=Zt(t.next).call(t,e);return n===Jt?i.onError(n.e):void r(n)}function o(e){var n=Zt(t.next).call(t,e);return n===Jt?i.onError(n.e):void r(n)}function r(t){if(t.done)return i.onNext(t.value),void i.onCompleted();var n=G.call(e,t.value),r=null,l=!1;Nn.isObservable(n)?a.add(n.subscribe(function(t){l=!0,r=t},o,function(){l&&s(r)})):o(new TypeError("type not supported"))}var a=new We;return Kt(t)&&(t=t.apply(e,n)),t&&Kt(t.next)?(s(),a):(i.onNext(t),i.onCompleted())})};Nn.start=function(t,e,n){return no(t,e,n)()};var no=Nn.toAsync=function(t,e,n){return tn(n)||(n=pn),function(){var i=arguments,s=new pr;return n.schedule(null,function(){var n;try{n=t.apply(e,i)}catch(t){return void s.onError(t)}s.onNext(n),s.onCompleted()}),s.asObservable()}};Nn.fromCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var i=arguments.length,s=new Array(i),o=0;i>o;o++)s[o]=arguments[o];return nt(t,e,n,s)}},Nn.fromNodeCallback=function(t,e,n){return function(){void 0===e&&(e=this);for(var i=arguments.length,s=new Array(i),o=0;i>o;o++)s[o]=arguments[o];return st(t,e,n,s)}},at.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Yt.config.useNativeEvents=!1;var io=function(t){function e(e,n,i){this._el=e,this._n=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Kt(e)&&(n=Zt(e).apply(null,arguments))===Jt?t.onError(n.e):void t.onNext(n)}}return Ae(e,t),e.prototype.subscribeCore=function(t){return lt(this._el,this._n,n(t,this._fn))},e}(Mn);Nn.fromEvent=function(t,e,n){return t.addListener?oo(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Yt.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new io(t,e,n).publish().refCount():oo(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var so=function(t){function e(e,n,i){this._add=e,this._del=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Kt(e)&&(n=Zt(e).apply(null,arguments))===Jt?t.onError(n.e):void t.onNext(n)}}function i(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),s=this._add(e);return new i(this._del,e,s)},i.prototype.dispose=function(){this.isDisposed||(Kt(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Mn),oo=Nn.fromEventPattern=function(t,e,n){return new so(t,e,n).publish().refCount()};Nn.startAsync=function(t){var e=Zt(t)();return e===Jt?ci(e.e):Bn(e)};var ro=function(t){function e(e,n){this.source=e,this.controller=new dr,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Ae(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),i=Ye,s=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?i=e.connect():(i.dispose(),i=Ye)});return new Ge([n,i,s])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Nn);kn.pausable=function(t){return new ro(this,t)};var ao=function(e){function n(t,n){this.source=t,this.controller=new dr,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this)}return Ae(n,e),n.prototype._subscribe=function(e){function n(){for(;s.length>0;)e.onNext(s.shift())}var i,s=[];return ut(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){i!==t&&o.shouldFire!==i?(i=o.shouldFire,o.shouldFire&&n()):(i=o.shouldFire,o.shouldFire?e.onNext(o.data):s.push(o.data))},function(t){n(),e.onError(t)},function(){n(),e.onCompleted()})},n.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},n.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},n}(Nn);kn.pausableBuffered=function(t){return new ao(this,t)};var lo=function(t){function e(e,n,i){t.call(this),this.subject=new uo(n,i),this.source=e.multicast(this.subject).refCount()}return Ae(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){
return this.subject.request(null==t?-1:t)},e}(Nn),uo=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new dr,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||ln}return Ae(e,t),je(e.prototype,xn,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(mn.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(mn.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(mn.createOnNext(t)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var i=e._processRequest(n);return!e.hasCompleted&&!e.hasFailed&&i>0?(e.requestedCount=i,ze(function(){e.requestedCount=0})):void 0}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Nn);kn.controlled=function(t,e){return t&&tn(t)&&(e=t,t=!0),null==t&&(t=!0),new lo(this,t,e)};var co=function(t){function e(e){t.call(this),this.source=e}function n(t,e){return e.source.request(1)}Ae(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new i(t,this,this.subscription)),new Xe(this.subscription,pn.schedule(this,n))};var i=function(t){function e(e,n,i){t.call(this),this.observer=e,this.observable=n,this.cancel=i,this.scheduleDisposable=null}function n(t,e){return e.observable.source.request(1)}return Ae(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=pn.schedule(this,n)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Dn);return e}(Nn);lo.prototype.stopAndWait=function(){return new co(this)};var ho=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){return e.source.request(e.windowSize)}Ae(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new i(t,this,this.subscription)),new Xe(this.subscription,pn.schedule(this,n))};var i=function(t){function e(e,n,i){this.observer=e,this.observable=n,this.cancel=i,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){return e.observable.source.request(e.observable.windowSize)}return Ae(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=pn.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Dn);return e}(Nn);lo.prototype.windowed=function(t){return new ho(this,t)},kn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var po=function(t){function e(e,n,i){this.source=e,this._fn1=n,this._fn2=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new Xe(this._fn2(e).subscribe(t),e.connect())},e}(Mn);kn.multicast=function(t,e){return Kt(t)?new po(this,t,e):new go(this,t)},kn.publish=function(t){return t&&Kt(t)?this.multicast(function(){return new dr},t):this.multicast(new dr)},kn.share=function(){return this.publish().refCount()},kn.publishLast=function(t){return t&&Kt(t)?this.multicast(function(){return new pr},t):this.multicast(new pr)},kn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new fr(e)},t):this.multicast(new fr(t))},kn.shareValue=function(t){return this.publishValue(t).refCount()},kn.replay=function(t,e,n,i){return t&&Kt(t)?this.multicast(function(){return new mr(e,n,i)},t):this.multicast(new mr(e,n,i))},kn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var fo=function(t,e){this._s=t,this._o=e};fo.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var mo=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1==++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0==--this._p._count&&this._p._connectableSubscription.dispose())},e}(Mn),go=Yt.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Ae(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return Ye;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new mo(this)},e}(Nn);kn.singleInstance=function(){function t(){return i||(i=!0,e=n.finally(function(){i=!1}).publish().refCount()),e}var e,n=this,i=!1;return new lr(function(e){return t().subscribe(e)})},kn.join=function(t,e,n,i){var s=this;return new lr(function(o){var r=new We,a=!1,l=!1,u=0,c=0,h=new So,d=new So,p=function(t){o.onError(t)};return r.add(s.subscribe(function(t){var n=u++,s=new Ve;h.set(n,t),r.add(s);var l=Zt(e)(t);return l===Jt?o.onError(l.e):(s.setDisposable(l.take(1).subscribe(Bt,p,function(){h.delete(n)&&0===h.size&&a&&o.onCompleted(),r.remove(s)})),void d.forEach(function(e){var n=Zt(i)(t,e);return n===Jt?o.onError(n.e):void o.onNext(n)}))},p,function(){a=!0,(l||0===h.size)&&o.onCompleted()})),r.add(t.subscribe(function(t){var e=c++,s=new Ve;d.set(e,t),r.add(s);var a=Zt(n)(t);return a===Jt?o.onError(a.e):(s.setDisposable(a.take(1).subscribe(Bt,p,function(){d.delete(e)&&0===d.size&&l&&o.onCompleted(),r.remove(s)})),void h.forEach(function(e){var n=Zt(i)(e,t);return n===Jt?o.onError(n.e):void o.onNext(n)}))},p,function(){l=!0,(a||0===d.size)&&o.onCompleted()})),r},s)},kn.groupJoin=function(t,e,n,i){var s=this;return new lr(function(o){function r(t){}var a=new We,l=new Ke(a),u=new So,c=new So,h=0,d=0,r=function(t){return function(e){e.onError(t)}};return a.add(s.subscribe(function(t){var n=new dr,s=h++;u.set(s,n);var d=Zt(i)(t,Ie(n,l));if(d===Jt)return u.forEach(r(d.e)),o.onError(d.e);o.onNext(d),c.forEach(function(t){n.onNext(t)});var p=new Ve;a.add(p);var f=Zt(e)(t);return f===Jt?(u.forEach(r(f.e)),o.onError(f.e)):void p.setDisposable(f.take(1).subscribe(Bt,function(t){u.forEach(r(t)),o.onError(t)},function(){u.delete(s)&&n.onCompleted(),a.remove(p)}))},function(t){u.forEach(r(t)),o.onError(t)},function(){o.onCompleted()})),a.add(t.subscribe(function(t){var e=d++;c.set(e,t);var i=new Ve;a.add(i);var s=Zt(n)(t);return s===Jt?(u.forEach(r(s.e)),o.onError(s.e)):(i.setDisposable(s.take(1).subscribe(Bt,function(t){u.forEach(r(t)),o.onError(t)},function(){c.delete(e),a.remove(i)})),void u.forEach(function(e){e.onNext(t)}))},function(t){u.forEach(r(t)),o.onError(t)})),l},s)},kn.buffer=function(){return this.window.apply(this,arguments).flatMap(R)},kn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?ht.call(this,t):"function"==typeof t?dt.call(this,t):ct.call(this,t,e)};var vo=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new bo(t))},e}(Mn),bo=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.pairwise=function(){return new vo(this)},kn.partition=function(t,e){var n=fe(t,e,3);return[this.filter(t,e),this.filter(function(t,e,i){return!n(t,e,i)})]};var yo=function(t){function e(t,e){this.c=t,this.s=e}return Ae(e,t),e.prototype[ce]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(An);kn.letBind=kn.let=function(t){return t(this)},Nn.if=function(t,e,n){return Vn(function(){return n||(n=Gn()),Gt(e)&&(e=Bn(e)),Gt(n)&&(n=Bn(n)),"function"==typeof n.now&&(n=Gn(n)),t()?e:n})},Nn.for=Nn.forIn=function(t,e,n){return Hn(t,e,n).concat()};var _o=Nn.while=Nn.whileDo=function(t,e){return Gt(e)&&(e=Bn(e)),pt(t,e).concat()};kn.doWhile=function(t){return _i([this,_o(t,this)])},Nn.case=function(t,e,n){return Vn(function(){Gt(n)&&(n=Bn(n)),n||(n=Gn()),tn(n)&&(n=Gn(n));var i=e[t()];return Gt(i)&&(i=Bn(i)),i||n})};var wo=function(t){function e(e,n,i){this.source=e,this._fn=n,this._scheduler=i,t.call(this)}function n(t,e){var n,i=t[0],s=t[1];if(!(i.q.length>0))return void(i.isAcquired=!1);n=i.q.shift();var o=new Ve;i.d.add(o),o.setDisposable(n.subscribe(new xo(i,s,o))),e([i,s])}return Ae(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new $e,n=new We(e),i={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return i.q.push(this.source),i.activeCount++,this._ensureActive(i),n},e}(Mn),xo=function(t){function e(e,n,i){this._s=e,this._p=n,this._m1=i,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=Zt(this._p._fn)(t);return e===Jt?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),0===--this._s.activeCount&&this._s.o.onCompleted()},e}(Dn);kn.expand=function(t,e){return tn(e)||(e=ln),new wo(this,t,e)};var Co=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),Ye;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},i=new We,s=0,o=this._sources.length;o>s;s++){var r=this._sources[s];Gt(r)&&(r=Bn(r)),i.add(r.subscribe(new ko(t,n,s,this._cb,i)))}return i},e}(Mn),ko=function(t){function e(e,n,i,s,o){this._o=e,this._s=n,this._i=i,this._cb=s,this._subs=o,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=Zt(this._cb).apply(null,this._s.results);if(e===Jt)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Dn);Nn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=Kt(e[t-1])?e.pop():L;return Array.isArray(e[0])&&(e=e[0]),new Co(e,i)},kn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Nn.forkJoin.apply(null,e)},kn.manySelect=kn.extend=function(t,e){tn(e)||(e=Yt.Scheduler.immediate);var n=this;return Vn(function(){var i;return n.map(function(t){var e=new Do(t);return i&&i.onNext(t),i=e,e}).tap(Bt,function(t){i&&i.onError(t)},function(){i&&i.onCompleted()}).observeOn(e).map(t)},n)};var Do=function(t){function e(e){t.call(this),this.head=e,this.tail=new pr}return Ae(e,t),je(e.prototype,xn,{_subscribe:function(t){var e=new We;return e.add(ln.schedule(this,function(n,i){t.onNext(i.head),e.add(i.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Nn.empty())},onError:function(t){this.onNext(Nn.throw(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Nn),So=zt.Map||function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},e.prototype.get=function(e){var n=this._keys.indexOf(e);return-1===n?t:this._values[n]},e.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},e.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},e}();ft.prototype.and=function(t){return new ft(this.patterns.concat(t))},ft.prototype.thenDo=function(t){return new mt(this,t)},mt.prototype.activate=function(t,e,n){for(var i=[],s=gt(e),o=0,r=this.expression.patterns.length;r>o;o++)i.push(bt(t,this.expression.patterns[o],s));var a=new yt(i,vt(this,e),function(){for(var t=0,e=i.length;e>t;t++)i[t].removeActivePlan(a);n(a)});for(o=0,r=i.length;r>o;o++)i[o].addActivePlan(a);return a},yt.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},yt.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;e>t;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var i=[],s=!1;for(t=0,e=this.joinObserverArray.length;e>t;t++)i.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(s=!0);if(s)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=i.length;t<i.length;t++)o.push(i[t].value);this.onNext.apply(this,o)}}};var Eo=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Ve,this.isDisposed=!1}Ae(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,i=e.length;i>n;n++)e[n].match()}},n.error=Bt,n.completed=Bt,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Dn);kn.and=function(t){return new ft([this,t])},kn.thenDo=function(t){return new ft([this]).thenDo(t)},Nn.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new lr(function(e){var n=[],i=new So,s=Cn(function(t){e.onNext(t)},function(t){i.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,r=t.length;r>o;o++)n.push(t[o].activate(i,s,function(t){var i=n.indexOf(t);n.splice(i,1),0===n.length&&e.onCompleted()}))}catch(t){return ci(t).subscribe(e)}var a=new We;return i.forEach(function(t){t.subscribe(),a.add(t)}),a})};var Po=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(Mn),To=Nn.interval=function(t,e){return xt(t,t,tn(e)?e:pn)};Nn.timer=function(e,n,i){var s;return tn(i)||(i=pn),null!=n&&"number"==typeof n?s=n:tn(n)&&(i=n),(e instanceof Date||"number"==typeof e)&&s===t?_t(e,i):e instanceof Date&&s!==t?wt(e,n,i):xt(e,s,i)},kn.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return tn(n)||(n=pn),e instanceof Date?kt(this,e,n):Ct(this,e,n)}if(Nn.isObservable(t)||Kt(t))return Dt(this,t,arguments[1]);throw new Error("Invalid arguments")};var No=function(t){function e(e,n,i){tn(i)||(i=pn),this.source=e,this._dt=n,this._s=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e;return new Xe(this.source.subscribe(new Mo(t,this._dt,this._s,e)),e)},e}(Mn),Mo=function(t){function e(e,n,i,s){this._o=e,this._d=n,this._scheduler=i,this._c=s,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new Ve;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,i){i._hv&&i._id===e&&i._o.onNext(t),i._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Dn);kn.debounce=function(){if(Kt(arguments[0]))return St(this,arguments[0]);if("number"==typeof arguments[0])return new No(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},kn.windowWithTime=kn.windowTime=function(t,e,n){var i,s=this;return null==e&&(i=t),tn(n)||(n=pn),"number"==typeof e?i=e:tn(e)&&(i=t,n=e),new lr(function(e){function o(){var t=new Ve,s=!1,r=!1;h.setDisposable(t),u===l?(s=!0,r=!0):l>u?s=!0:r=!0;var p=s?u:l,f=p-d;d=p,s&&(u+=i),r&&(l+=i),t.setDisposable(n.scheduleFuture(null,f,function(){if(r){var t=new dr;c.push(t),e.onNext(Ie(t,a))}s&&c.shift().onCompleted(),o()}))}var r,a,l=i,u=t,c=[],h=new $e,d=0;return r=new We(h),a=new Ke(r),c.push(new dr),e.onNext(Ie(c[0],a)),o(),r.add(s.subscribe(function(t){for(var e=0,n=c.length;n>e;e++)c[e].onNext(t)},function(t){for(var n=0,i=c.length;i>n;n++)c[n].onError(t);e.onError(t)},function(){for(var t=0,n=c.length;n>t;t++)c[t].onCompleted();e.onCompleted()})),a},s)},kn.windowWithTimeOrCount=kn.windowTimeOrCount=function(t,e,n){var i=this;return tn(n)||(n=pn),new lr(function(s){function o(e){var i=new Ve;r.setDisposable(i),i.setDisposable(n.scheduleFuture(null,t,function(){if(e===c){u=0;var t=++c;h.onCompleted(),h=new dr,s.onNext(Ie(h,l)),o(t)}}))}var r=new $e,a=new We(r),l=new Ke(a),u=0,c=0,h=new dr;return s.onNext(Ie(h,l)),o(0),a.add(i.subscribe(function(t){var n=0,i=!1;h.onNext(t),++u===e&&(i=!0,u=0,n=++c,h.onCompleted(),h=new dr,s.onNext(Ie(h,l))),i&&o(n)},function(t){h.onError(t),s.onError(t)},function(){h.onCompleted(),s.onCompleted()})),l},i)},kn.bufferWithTime=kn.bufferTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(R)},kn.bufferWithTimeOrCount=kn.bufferTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(R)};var Oo=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ao(t,this._s))},e}(Mn),Ao=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.timeInterval=function(t){return tn(t)||(t=pn),new Oo(this,t)};var jo=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Io(t,this._s))},e}(Mn),Io=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.timestamp=function(t){return tn(t)||(t=pn),new jo(this,t)};var Fo=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new Ve};return e.sourceSubscription.setDisposable(this.source.subscribe(new Wo(e))),new Xe(e.sourceSubscription,this._sampler.subscribe(new Lo(e)))},e}(Mn),Lo=function(t){function e(e){this._s=e,t.call(this)}return Ae(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Dn),Wo=function(t){function e(e){this._s=e,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Dn);kn.sample=function(t,e){return tn(e)||(e=pn),"number"==typeof t?new Fo(this,To(t,e)):new Fo(this,t)};var Ho=Yt.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};Ho.prototype=Object.create(Error.prototype),kn.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return Pt(this,t,arguments[1],arguments[2]);if(Nn.isObservable(t)||Kt(t))return Et(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var Ro=function(t){function e(e,n,i,s,o,r){this._state=e,this._cndFn=n,this._itrFn=i,this._resFn=s,this._timeFn=o,this._s=r,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=Zt(t.self._itrFn)(t.newState),t.newState===Jt)return t.o.onError(t.newState.e);if(t.hasResult=Zt(t.self._cndFn)(t.newState),t.hasResult===Jt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=Zt(t.self._resFn)(t.newState),t.result===Jt)return t.o.onError(t.result.e);var n=Zt(t.self._timeFn)(t.newState);if(n===Jt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(Mn);Nn.generateWithAbsoluteTime=function(t,e,n,i,s,o){return tn(o)||(o=pn),new Ro(t,e,n,i,s,o)};var zo=function(t){function e(e,n,i,s,o,r){this._state=e,this._cndFn=n,this._itrFn=i,this._resFn=s,this._timeFn=o,this._s=r,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=Zt(t.self._itrFn)(t.newState),t.newState===Jt)return t.o.onError(t.newState.e);if(t.hasResult=Zt(t.self._cndFn)(t.newState),t.hasResult===Jt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=Zt(t.self._resFn)(t.newState),t.result===Jt)return t.o.onError(t.result.e);var n=Zt(t.self._timeFn)(t.newState);if(n===Jt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(Mn);Nn.generateWithRelativeTime=function(t,e,n,i,s,o){return tn(o)||(o=pn),new zo(t,e,n,i,s,o)};var Yo=function(t){function e(e,n,i){this.source=e,this._dt=n,this._s=i,t.call(this)}function n(t,e){var n=e[0],i=e[1];e[2].setDisposable(n.subscribe(i))}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new $e;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(Mn);kn.delaySubscription=function(t,e){return tn(e)||(e=pn),new Yo(this,t,e)};var Bo=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new qo(t,this))},e}(Mn),qo=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Dn);kn.skipLastWithTime=function(t,e){return tn(e)||(e=pn),new Bo(this,t,e)};var Uo=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Vo(t,this._d,this._s))},e}(Mn),Vo=function(t){function e(e,n,i){this._o=e,this._d=n,this._s=i,this._q=[],t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Dn);kn.takeLastWithTime=function(t,e){return tn(e)||(e=pn),new Uo(this,t,e)},kn.takeLastBufferWithTime=function(t,e){var n=this;return tn(e)||(e=pn),new lr(function(i){var s=[];return n.subscribe(function(n){var i=e.now();for(s.push({interval:i,value:n});s.length>0&&i-s[0].interval>=t;)s.shift()},function(t){i.onError(t)},function(){for(var n=e.now(),o=[];s.length>0;){var r=s.shift();n-r.interval<=t&&o.push(r.value)}i.onNext(o),i.onCompleted()})},n)};var $o=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,t.call(this)}function n(t,e){e.onCompleted()}return Ae(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(Mn);kn.takeWithTime=function(t,e){return tn(e)||(e=pn),new $o(this,t,e)};var Xo=function(t){function e(e,n,i){this.source=e,this._d=n,this._s=i,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return Ae(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new Go(t,this)))},e}(Mn),Go=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.skipWithTime=function(t,e){return tn(e)||(e=pn),new Xo(this,t,e)};var Ko=function(t){function e(e,n,i){this.source=e,this._st=n,this._s=i,t.call(this)}function n(t,e){e._open=!0}return Ae(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new Xe(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new Jo(t,this)))},e}(Mn),Jo=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Dn);kn.skipUntilWithTime=function(t,e){return tn(e)||(e=pn),new Ko(this,t,e)},kn.takeUntilWithTime=function(t,e){tn(e)||(e=pn);var n=this;return new lr(function(i){return new Xe(e.scheduleFuture(i,t,function(t,e){e.onCompleted()}),n.subscribe(i))},n)},kn.throttle=function(t,e){tn(e)||(e=pn);var n=+t||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var i=this;return new lr(function(t){var s=0;return i.subscribe(function(i){var o=e.now();(0===s||o-s>=n)&&(s=o,t.onNext(i))},function(e){t.onError(e)},function(){t.onCompleted()})},i)};var Zo=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){var e=Zt(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===Jt&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Dn);kn.transduce=function(t){var e=this;return new lr(function(n){var i=t(Tt(n));return e.subscribe(new Zo(n,i))},e)};var Qo=function(t){function e(e){this.source=e,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){var e=new Ve,n=new We,i={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new tr(i))),n},e}(Mn),tr=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return Ae(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,Gt(t)&&(t=Bn(t));var e=new Ve;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Ae(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Dn);kn.switchFirst=function(){return new Qo(this)},kn.flatMapFirst=kn.exhaustMap=function(t,e,n){return new On(this,t,e,n).switchFirst()},kn.flatMapWithMaxConcurrent=kn.flatMapMaxConcurrent=function(t,e,n,i){return new On(this,e,n,i).merge(t)};var er=Yt.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new Fe(1024),t.call(this)}Ae(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var i=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,i,n)},n.add=ue,n.toAbsoluteTime=ue,n.toRelativeTime=ue,n.schedulePeriodic=function(t,e,n){return new sn(this,t,e,n).start()},n.scheduleRelative=function(t,e,n){var i=this.add(this.clock,e);return this.scheduleAbsolute(t,i,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new re;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new re;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new re;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){function i(t,e){return s.queue.remove(o),n(t,e)}var s=this,o=new Je(this,t,i,e,this.comparer);return this.queue.enqueue(o),o.disposable},e}(Ze);Yt.HistoricalScheduler=function(t){function e(e,n){var i=null==e?0:e,s=n||$t
;t.call(this,i,s)}Ae(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}(Yt.VirtualTimeScheduler),Nt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Mt.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var nr=Yt.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new ir(t,new Nt(e)):new ir(t,mn.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new ir(t,new Mt(e)):new ir(t,mn.createOnError(e))},onCompleted:function(t){return new ir(t,mn.createOnCompleted())},subscribe:function(t,e){return new sr(t,e)}},ir=Yt.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Vt};ir.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},ir.prototype.toString=function(){return this.value.toString()+"@"+this.time};var sr=Yt.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};sr.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},sr.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"},(Yt.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var or=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Ae(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new ir(this.scheduler.clock,mn.createOnNext(t)))},n.onError=function(t){this.messages.push(new ir(this.scheduler.clock,mn.createOnError(t)))},n.onCompleted=function(){this.messages.push(new ir(this.scheduler.clock,mn.createOnCompleted()))},e}(xn);Ot.prototype.then=function(e,n){var i=this;this.subscriptions.push(new sr(this.scheduler.clock));var s,o=this.subscriptions.length-1,r=Yt.Observer.create(function(n){var a=e(n);if(a&&"function"==typeof a.then)s=a;else{var l=i.scheduler.clock;s=new Ot(i.scheduler,[Yt.ReactiveTest.onNext(l,t),Yt.ReactiveTest.onCompleted(l)])}var u=i.observers.indexOf(r);i.observers.splice(u,1),i.subscriptions[o]=new sr(i.subscriptions[o].subscribe,i.scheduler.clock)},function(t){n(t);var e=i.observers.indexOf(r);i.observers.splice(e,1),i.subscriptions[o]=new sr(i.subscriptions[o].subscribe,i.scheduler.clock)});return this.observers.push(r),s||new Ot(this.scheduler,this.messages)};var rr=function(t){function e(e,n){t.call(this);var i,s,o=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var r=0,a=this.messages.length;a>r;r++)i=this.messages[r],s=i.value,function(t){e.scheduleAbsolute(null,i.time,function(){for(var e=o.observers.slice(0),n=0,i=e.length;i>n;n++)t.accept(e[n]);return Ye})}(s)}return Ae(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new sr(this.scheduler.clock));var n=this.subscriptions.length-1;return ze(function(){var i=e.observers.indexOf(t);e.observers.splice(i,1),e.subscriptions[n]=new sr(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(Nn),ar=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return Ae(e,t),e.prototype._subscribe=function(t){var e,n,i=this;this.subscriptions.push(new sr(this.scheduler.clock));for(var s=this.subscriptions.length-1,o=new We,r=0,a=this.messages.length;a>r;r++)e=this.messages[r],n=e.value,function(n){o.add(i.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),Ye}))}(n);return ze(function(){i.subscriptions[s]=new sr(i.subscriptions[s].subscribe,i.scheduler.clock),o.dispose()})},e}(Nn);Yt.TestScheduler=function(t){function e(t,e){return t>e?1:e>t?-1:0}function n(){t.call(this,0,e)}return Ae(n,t),n.prototype.scheduleAbsolute=function(e,n,i){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,i)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=nr.created),null==e.subscribed&&(e.subscribed=nr.subscribed),null==e.disposed&&(e.disposed=nr.disposed);var n,i,s=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),Ye}),this.scheduleAbsolute(null,e.subscribed,function(){return i=n.subscribe(s),Ye}),this.scheduleAbsolute(null,e.disposed,function(){return i.dispose(),Ye}),this.start(),s},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new rr(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new ar(this,t)},n.prototype.createResolvedPromise=function(t,e){return new Ot(this,[Yt.ReactiveTest.onNext(t,e),Yt.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new Ot(this,[Yt.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new or(this)},n}(er);var lr=Yt.AnonymousObservable=function(t){function e(t){return t&&Kt(t.dispose)?t:Kt(t)?ze(t):Ye}function n(t,n){var i=n[0],o=n[1],r=Zt(o.__subscribe).call(o,i);r!==Jt||i.fail(Jt.e)||s(Jt.e),i.setDisposable(e(r))}function i(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Ae(i,t),i.prototype._subscribe=function(t){var e=new ur(t),i=[e,this];return ln.scheduleRequired()?ln.schedule(i,n):n(null,i),e},i}(Nn),ur=function(t){function e(e){t.call(this),this.observer=e,this.m=new Ve}Ae(e,t);var n=e.prototype;return n.next=function(t){var e=Zt(this.observer.onNext).call(this.observer,t);e===Jt&&(this.dispose(),s(e.e))},n.error=function(t){var e=Zt(this.observer.onError).call(this.observer,t);this.dispose(),e===Jt&&s(e.e)},n.completed=function(){var t=Zt(this.observer.onCompleted).call(this.observer);this.dispose(),t===Jt&&s(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Dn),cr=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return Ae(e,t),e.prototype.subscribeCore=function(t){return new Xe(this._m.getDisposable(),this._u.subscribe(t))},e}(Mn),hr=function(t){function e(e,n,i){t.call(this),this.key=e,this.underlyingObservable=i?new cr(i,n):n}return Ae(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Nn),dr=Yt.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Ae(e,t),je(e.prototype,xn.prototype,{_subscribe:function(t){return qe(this),this.isStopped?this.hasError?(t.onError(this.error),Ye):(t.onCompleted(),Ye):(this.observers.push(t),new fo(this,t))},hasObservers:function(){return qe(this),this.observers.length>0},onCompleted:function(){if(qe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=n(this.observers),i=e.length;i>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(qe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,i=n(this.observers),s=i.length;s>e;e++)i[e].onError(t);this.observers.length=0}},onNext:function(t){if(qe(this),!this.isStopped)for(var e=0,i=n(this.observers),s=i.length;s>e;e++)i[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new gr(t,e)},e}(Nn),pr=Yt.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Ae(e,t),je(e.prototype,xn.prototype,{_subscribe:function(t){return qe(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Ye):(this.observers.push(t),new fo(this,t))},hasObservers:function(){return qe(this),this.observers.length>0},onCompleted:function(){var t,e;if(qe(this),!this.isStopped){this.isStopped=!0;var i=n(this.observers),e=i.length;if(this.hasValue)for(t=0;e>t;t++){var s=i[t];s.onNext(this.value),s.onCompleted()}else for(t=0;e>t;t++)i[t].onCompleted();this.observers.length=0}},onError:function(t){if(qe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,i=n(this.observers),s=i.length;s>e;e++)i[e].onError(t);this.observers.length=0}},onNext:function(t){qe(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Nn),fr=Yt.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Ae(e,t),je(e.prototype,xn.prototype,{_subscribe:function(t){return qe(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Ye):(this.observers.push(t),t.onNext(this.value),new fo(this,t))},getValue:function(){return qe(this),this.hasError&&s(this.error),this.value},hasObservers:function(){return qe(this),this.observers.length>0},onCompleted:function(){if(qe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=n(this.observers),i=e.length;i>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(qe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,i=n(this.observers),s=i.length;s>e;e++)i[e].onError(t);this.observers.length=0}},onNext:function(t){if(qe(this),!this.isStopped){this.value=t;for(var e=0,i=n(this.observers),s=i.length;s>e;e++)i[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Nn),mr=Yt.ReplaySubject=function(t){function e(t,e){return ze(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function i(e,n,i){this.bufferSize=null==e?s:e,this.windowSize=null==n?s:n,this.scheduler=i||ln,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var s=Math.pow(2,53)-1;return Ae(i,t),je(i.prototype,xn.prototype,{_subscribe:function(t){qe(this);var n=new Pn(this.scheduler,t),i=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var s=0,o=this.q.length;o>s;s++)n.onNext(this.q[s].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),i},hasObservers:function(){return qe(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(qe(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var i=0,s=n(this.observers),o=s.length;o>i;i++){var r=s[i];r.onNext(t),r.ensureActive()}}},onError:function(t){if(qe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var i=0,s=n(this.observers),o=s.length;o>i;i++){var r=s[i];r.onError(t),r.ensureActive()}this.observers.length=0}},onCompleted:function(){if(qe(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,i=n(this.observers),s=i.length;s>e;e++){var o=i[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),i}(Nn),gr=Yt.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Ae(e,t),je(e.prototype,xn.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Nn);Yt.Pauser=function(t){function e(){t.call(this)}return Ae(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(dr),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(zt.Rx=Yt,define(function(){return Yt})):jt&&It?Ht?(It.exports=Yt).Rx=Yt:jt.Rx=Yt:zt.Rx=Yt;var vr=u()}.call(this);